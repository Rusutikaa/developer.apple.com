<!DOCTYPE html>
<html lang="en">
  <head>  
  <title>Start Developing iOS Apps (Swift): Implement a Custom Control</title>
  <link rel="stylesheet" type="text/css" href="../../../Resources/1254/CSS/style-1.6.3.css" />
  <link rel="stylesheet" type="text/css" href="../../../Resources/1254/CSS/feedback-1.6.3.css" />
  <meta charset='utf-8'> 
<meta id="j-version" name="j-version" content="" />
<meta id="build" name="build" content="7d2e7476426931aca5320c6da087d63e" />
<meta id="document-version" name="document-version" content="1.3.0" />
<meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Topic/General}" />
<meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/TP40015214" />
<meta id="chapterId" name="chapterId" content="TP40015214-CH19">
<meta id="book-title" name="book-title" content="Start Developing iOS Apps (Swift)" />
<meta id="book-resource-type" name="book-resource-type" content="Guide" />
<meta id="book-root" name="book-root" content="./" />
<meta id="book-json" name="book-json" content="book.json">
<meta id="date" name="date" content="2015-09-16" />
<meta id="description" name="description" content="A hands-on introduction to iOS app development using Swift." />
<meta id="IndexTitle" name="IndexTitle" content="" />
<meta id="resources-uri" name="resources-uri" content="../../../Resources/1254">
<link id="book-index-page" rel="Start" title="" type="text/html" href="./index.html">
<!-- , next_chapter: next_chapter, previous_chapter: previous_chapter -->
<link id="next-page" rel="Next" type="text/html" href="">
<link id="previous-page" rel="Prev" type="text/html" href="">
<meta id="devcenter" name="devcenter" content="<!-- DEVCENTER_NAME -->" />
<meta id="devcenter-url" name="devcenter-url" content="<!-- DEVCENTER_URL -->" />
<meta id="reflib" name="reflib" content="<!-- REFLIB_NAME -->" />

<meta id="xcode-display" name="xcode-display" content="render" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta id="platforms" name="platforms" content="iOS">
</head>

  <body id="roadmap" class='jazz'>
    
    <header id="ios_header" class="hideOnPrint hideInXcode">
  <div class="content-wrapper">
    <p class="header-text">
    	<a href="../../../navigation/index.html">Guides and Sample Code
 		</a>
 </p>
    <p id="wwdr"><img id="apple_logo" src="../../../Resources/1254/Images/apple2.png" height="14px" width="12px" aria-hidden="true" /><a href="https://developer.apple.com">Developer</a></p>
  </div>
</header>

    <section id="valence">
  <div class="content-wrapper">
	<p id="hierarchial_navigation">
		<span id="book_title">Start Developing iOS Apps (Swift)</span>
	</p>
	<form id="search" class="hideInXcode" method="get" action="/search/index.php" accept-charset="utf-8" autocomplete="off">
  <input type="search" id="ssi_SearchField" placeholder="Search Guides and Sample Code" name="q" autocomplete="off" tabindex="2" />
</form>

	  
   
   



    <img id="shortstack" src="../../../Resources/1254/Images/shortstack_2x.png"/>
  </div>
</section>
    <div class="content-wrapper">
      <nav id="navigator" class="book-parts hideInXcode" role="navigation">
    <ul class="nav-parts">
        <li class="part-name">
            <a href="index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH2-SW1">Getting Started<br><span class="jpstr">
はじめに
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH2-SW1">Jump Right In<br><span class="jpstr">
すぐ始めよう
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson1.html#//apple_ref/doc/uid/TP40015214-CH3-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH3-SW1">Learn the Essentials of Swift<br><span class="jpstr">
Swiftの最重要事項を学ぶ
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name nav-part-active open-part">
            <a href="Lesson2.html#//apple_ref/doc/uid/TP40015214-CH5-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH5-SW1">Building the UI<br><span class="jpstr">
UIを作る
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson2.html#//apple_ref/doc/uid/TP40015214-CH5-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH5-SW1">Build a Basic UI<br><span class="jpstr">
基本的なUIを作る
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson3.html#//apple_ref/doc/uid/TP40015214-CH22-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH22-SW1">Connect the UI to Code<br><span class="jpstr">
UIをコードに接続する
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson4.html#//apple_ref/doc/uid/TP40015214-CH6-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH6-SW1">Work with View Controllers<br><span class="jpstr">
ビューコントローラを扱う
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter nav-current-chapter">
              	<a href="#//apple_ref/doc/uid/TP40015214-CH19-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH19-SW1">Implement a Custom Control<br><span class="jpstr">
カスタムコントロールの実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson6.html#//apple_ref/doc/uid/TP40015214-CH20-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH20-SW1">Define Your Data Model<br><span class="jpstr">
あなたのデータモデルの定義
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="Lesson7.html#//apple_ref/doc/uid/TP40015214-CH8-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH8-SW1">Working with Table Views<br><span class="jpstr">
テーブルビューを扱う
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson7.html#//apple_ref/doc/uid/TP40015214-CH8-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH8-SW1">Create a Table View<br><span class="jpstr">
テーブルビューを作る
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson8.html#//apple_ref/doc/uid/TP40015214-CH16-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH16-SW1">Implement Navigation<br><span class="jpstr">
ナビゲーションの実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson9.html#//apple_ref/doc/uid/TP40015214-CH9-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH9-SW1">Implement Edit and Delete Behavior<br><span class="jpstr">
編集および削除挙動の実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Lesson10.html#//apple_ref/doc/uid/TP40015214-CH14-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH14-SW1">Persist Data<br><span class="jpstr">
データ永続
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="Resources.html#//apple_ref/doc/uid/TP40015214-CH15-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH15-SW1">What’s Next?<br><span class="jpstr">
次はなに？
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Resources.html#//apple_ref/doc/uid/TP40015214-CH15-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH15-SW1">Where to Go from Here<br><span class="jpstr">
これからどうする
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW1">iOS and Swift Terminology<br><span class="jpstr">
iOSとSwiftの専門用語
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="glossary nav-chapter">
              	<a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW1">Glossary<br><span class="jpstr">
用語集
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li data-id="revision-history"
            class="part-name">
          <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Revision History<br><span class="jpstr">
改定履歴
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
            <li class="nav-chapter">
              <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Document Revision History<br><span class="jpstr">
文書改定履歴
</span><!--end_jpstr-->
</a>
            </li>
          </ul>
        </li>
    </ul>
</nav>

      <menu id="bashful" type="toolbar">
  <div class="shield"></div>
  <menuitem id="jump_to" class="menu-bar-item closed">
  <span>On This Page</span>
  <div class="chevron">
    <div class="chevy chevron-left"></div>
    <div class="chevy chevron-right"></div>
  </div>
  <menu type="list" class="details">
      <ul class="list-bullet">
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW2">Learning Objectives</a>
<br><span class="jpstr">
学習する目標
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW3">Create a Custom View</a>
<br><span class="jpstr">
カスタムビューの作成
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW5">Display the Custom View</a>
<br><span class="jpstr">
カスタムビューの表示
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW8">Add Buttons to the View</a>
<br><span class="jpstr">
ボタンをビューに加える
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_1">Add Properties for Spacing and Number of Stars</a>
<br><span class="jpstr">
星の間隔と数に対するプロパティを加える
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW9">Declare a Constant for the Button Size</a>
<br><span class="jpstr">
ボタンサイズ用に定数を宣言する
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW4">Add Star Images to the Buttons</a>
<br><span class="jpstr">
星の画像をボタンに加える
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW10">Implement the Button Action</a>
<br><span class="jpstr">
ボタンアクションの実装
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW12">Connect the Rating Control to the View Controller</a>
<br><span class="jpstr">
格付けコントロールをビューコントローラに接続する
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW7">Clean Up the Project</a>
<br><span class="jpstr">
プロジェクトの掃除
</span><!--end_jpstr-->
          </li>
      </ul>
  </menu>
</menuitem>

</menu>
<div class="pixel-line"></div>
<div class="rubber-band-gap"></div>
<article class="chapter">
  <a name="//apple_ref/doc/uid/TP40015214-CH19"></a><a name="//apple_ref/doc/uid/TP40015214-CH19-SW1"></a>
  <h2 class='chapter-name chapter-name-short'>Implement a Custom Control<br><span class="jpstr">
カスタムコントロールの実装
</span><!--end_jpstr-->
</h2>
  
  	<section class="section">
  		<p class="para">
  In this lesson, you’ll implement a rating control for the FoodTracker app. When you’re finished, your app will look something like this:
<br><span class="jpstr">
このレッスンでは、あなたは格付けコントロールをFoodTrackerアプリに実装します。あなたが作業し終わった時、あなたのアプリはこのようなものに見えるでしょう：
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_finalUI_2x.png" alt="image: ../Art/5_sim_finalUI_2x.png" width="320" height="559" />
</figure>

		</section> 
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW2"></a>
  <h3 class="section-name" tabindex="0">Learning Objectives<br><span class="jpstr">
学習する目標
</span><!--end_jpstr-->
</h3>
  <p class="para">
  At the end of the lesson, you’ll be able to:
<br><span class="jpstr">
このレッスンの終わりに、あなたが出来るようになるのは：
</span><!--end_jpstr-->
</p><ul class="list-bullet">
  <li class="item"><p class="para">
  Create and associate custom source code files with elements in a storyboard
<br><span class="jpstr">
カスタムソースコードを作成してストーリーボードの要素と結びつける
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Define a custom class
<br><span class="jpstr">
カスタムクラスを定義する
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Implement an initializer on a custom class
<br><span class="jpstr">
カスタムクラス上でイニシャライザを実装する
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Use <code class="code-voice">UIView</code> as a container
<br><span class="jpstr">
<code class="code-voice">UIView</code>をコンテナ（容れ物）として使う
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Understand how to display views programmatically
<br><span class="jpstr">
どのようにビューを表示するかプログラム的に理解する
</span><!--end_jpstr-->
</p>
</li>
</ul>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW3"></a>
  <h3 class="section-name" tabindex="0">Create a Custom View<br><span class="jpstr">
カスタムビューの作成
</span><!--end_jpstr-->
</h3>
  <p class="para">
  To be able to rate a meal, users need a <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW17" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW17">control</a></span> that lets them select the number of stars they want to assign to the meal. There are many ways to implement this, but you’ll focus on one that involves creating a custom view that you define in code and use in your <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW8" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW8">storyboard</a></span>.
<br><span class="jpstr">
食事に格付けできるようにするために、ユーザに必要なのはある<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW17" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW17">コントロール</a></span>です、それは彼らがその食事に付けたい星の数を選ばせます。これを実装するためには多くのやり方があります、しかしあなたが焦点を合わせるものは、カスタムビューの作成を伴います、それはあなたがコードにおいて定義してあなたの<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW8" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW8">ストーリーボート</a></span>で使うものです。
</span><!--end_jpstr-->
</p><p class="para">
  Here’s the rating control you’re implementing:
<br><span class="jpstr">
ここにあなたが実装する格付けコントロールがあります：
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_ratingcontrol_2x.png" alt="image: ../Art/5_ratingcontrol_2x.png" width="337" height="70" />
</figure><p class="para">
  The rating control will let users choose 0, 1, 2, 3, 4, or 5 stars for a meal. When a user taps a star, all stars leading up to and including that star (from the left) are filled in. A filled-in star counts as a rating; an empty star doesn’t.
<br><span class="jpstr">
格付けコントロールは、ユーザに０、１、２、３、４、または５個の星をある食事に対して選ばせます。ユーザがある星をタップする時、その星を含めてそれまでの前にあるのすべての星が塗りつぶされます。塗りつぶされた星は格付けとして数えられます；空の星はそうではありません。
</span><!--end_jpstr-->
</p><p class="para">
  To begin designing the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW18" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW18">UI</a></span>, interaction, and behavior of this control, start by creating a custom <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW16" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW16">view</a></span> (<code class="code-voice">UIView</code>) <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW14" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW14">subclass</a></span>.
<br><span class="jpstr">
設計を<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW18" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW18">UI</a></span>、相互作用、そしてこのコントロールの挙動に対して始めるには、あるあつらえの<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW16" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW16">ビュー</a></span>（<code class="code-voice">UIView</code>）の<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW14" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW14">サブクラス</a></span>を作成することで始めます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To create a subclass of UIView<br><span class="jpstr">
UIViewのサブクラスを作成するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Choose File &gt; New &gt; File (or press Command-N).
<br><span class="jpstr">
File &gt; New &gt; Fileを選んでください（またはコマンド-Nを押します）。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  On the left of the dialog that appears, select Source under iOS.
<br><span class="jpstr">
現れたダイアログの左で、SourceをiOSの下で選んでください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Select Cocoa Touch Class, and click Next.
<br><span class="jpstr">
Cocoa Touch Classを選んで、Nextをクリックしてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the Class field, type <code class="code-voice">RatingControl</code>.
<br><span class="jpstr">
Class欄において、<code class="code-voice">RatingControl</code>をタイプします。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the “Subclass of” field, select <code class="code-voice">UIView</code>.
<br><span class="jpstr">
「Subclass of」欄において、<code class="code-voice">UIView</code>を選択します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Make sure the Language option is set to Swift.
<br><span class="jpstr">
LanguageオプションがSwiftに設定されていることを確かめてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_newviewclass_2x.png" alt="image: ../Art/5_newviewclass_2x.png" width="680" height="488" />
</figure>
</li><li class="item"><p class="para">
  Click Next.
<br><span class="jpstr">
Nextをクリックしてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  The save location defaults to your project directory.
<br><span class="jpstr">
保存場所は、初期状態であなたのプロジェクトディレクトリです。
</span><!--end_jpstr-->
</p>
<p class="para">
  The Group option defaults to your app name, FoodTracker.
<br><span class="jpstr">
Groupオプションは、初期状態であなたのアプリ名、FoodTrackerです。
</span><!--end_jpstr-->
</p>
<p class="para">
  In the Targets section, your app is selected and the tests for your app are unselected.
<br><span class="jpstr">
Targets区画において、あなたのアプリが選択されて、あなたのアプリのためのテストは選択されません。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Leave these defaults as they are, and click Create.
<br><span class="jpstr">
これらの初期値はそれらのままにしておきます、そしてCreateをクリックします。
</span><!--end_jpstr-->
</p>
<p class="para">
  Xcode creates a file that defines the <code class="code-voice">RatingControl</code> class: <code class="code-voice">RatingControl.swift</code>. <code class="code-voice">RatingControl</code> is a custom view subclass of <code class="code-voice">UIView</code>.
<br><span class="jpstr">
Xcodeは、<code class="code-voice">RatingControl</code>クラスを定義するファイル：<code class="code-voice">RatingControl.swift</code>を作成します。<code class="code-voice">RatingControl</code>は、<code class="code-voice">UIView</code>のカスタムのビュー・サブクラスです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, delete the comments that come with the template <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW44" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW44">implementation</a></span> so you can start working with a blank slate.
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、ひな形<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW44" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW44">実装</a></span>に付いてくるコメントを削除してください、それであなたは白紙の状態で作業を始めることができます。
</span><!--end_jpstr-->
</p>
<p class="para">
  The implementation should look like this:
<br><span class="jpstr">
実装はこのように見えるはずです：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">import</span> <span class="vc">UIKit</span></code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">RatingControl</span>: <span class="n"><!-- a href="" -->UIView<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ol><p class="para">
  You typically create a view in one of two ways: by <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">initializing</a></span> the view with a frame so that you can manually add the view to your UI, or by allowing the view to be loaded by the storyboard. There’s a corresponding initializer for each approach: <code class="code-voice">init(frame:)</code> for the frame and <code class="code-voice">init?(coder:)</code> for the storyboard. Recall that an <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">initializer</a></span> is a method that prepares an instance of a class for use, which involves setting an initial value for each property and performing any other setup.
<br><span class="jpstr">
あなたは概して、ビューを２つのやり方のうちの１つで作成します：ビューをある配置枠（frame フレーム）を使って<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">初期化（イニシャライズ）</a></span>して、それであなたが手動でビューをあなたのUIに追加することによって、またはビューをストーリーボードにロードされるようにすることによって。それぞれの取り組み方に合ったイニシャライザがあります：配置枠用の<code class="code-voice">init(frame:)</code>とストーリーボード用の<code class="code-voice">init?(coder:)</code>。思い出してください、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">イニシャライザ</a></span>（初期化子）はひとつのメソッドです、それはクラスのインスタンスを使用する段取りを整えます、それには各プロパティに対する初期値の設定となんらかの他の設定の実行を伴います。
</span><!--end_jpstr-->
</p><p class="para">
  Because you’ll be using this view in your storyboard, start by overriding its superclass’s implementation of the <code class="code-voice">init?(coder:)</code> initializer.
<br><span class="jpstr">
あなたはこのビューをあなたのストーリーボードの中で使うことになるので、それのスーパークラスのもつ<code class="code-voice">init?(coder:)</code>イニシャライザ実装をオーバーライドすることによって始めます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To override the initializer<br><span class="jpstr">
イニシャライザをオーバーライドするには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, under the <code class="code-voice">class</code> line, add this comment.
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">class</code>行の下で、このコメントを加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// MARK: Initialization</span></code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Below the comment, start typing <code class="code-voice">init</code>.
<br><span class="jpstr">
このコメントの下で、<code class="code-voice">init</code>の入力を始めます。
</span><!--end_jpstr-->
</p>
<p class="para">
  The code completion overlay shows up.
<br><span class="jpstr">
コード補完重ね表示が現れてきます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_initcoder_codecompletion_2x.png" alt="image: ../Art/5_initcoder_codecompletion_2x.png" width="680" height="302" />
</figure>
</li><li class="item"><p class="para">
  Select the third method in the list to get the <code class="code-voice">init?(coder:)</code> initializer, and press Return.
<br><span class="jpstr">
３つ目のメソッドをリストで選択して<code class="code-voice">init?(coder:)</code>イニシャライザを入手するようにして、リターンキーを押してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Xcode inserts the initializer skeleton for you.
<br><span class="jpstr">
Xcodeはそのイニシャライザの骨組みをあなたの代わりに挿入します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Click the error fix-it to include the <code class="code-voice">required</code> keyword.
<br><span class="jpstr">
エラーの修正（Fix-it）をクリックして、<code class="code-voice">required</code>キーワードを含めてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_initcoder_fixit_2x.png" alt="image: ../Art/5_initcoder_fixit_2x.png" width="680" height="230" />
</figure>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Every <code class="code-voice">UIView</code> subclass that implements an initializer must include an implementation of <code class="code-voice">init?(coder:)</code>. The Swift compiler knows this, and offers a fix-it to make this change in your code. <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW90" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW90">Fix-its</a></span> are provided by the compiler as potential solutions to errors in your code.
<br><span class="jpstr">
どの<code class="code-voice">UIView</code>サブクラスでもイニシャライザを実装するものは、<code class="code-voice">init?(coder:)</code>の実装を含まなければなりません。Swiftコンパイラはこれを知っています、そして修正を提案してこの変更をあなたのコードにしようとします。これらの<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW90" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW90">修正</a></span>は、あなたのコードのエラーに対する見込みある解決策としてコンパイラによって提供されます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add this line to call the superclass’s initializer.
<br><span class="jpstr">
この行を加えてスーパークラスのイニシャライザを呼び出してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ol><p class="para">
  Your <code class="code-voice">init?(coder:)</code> initializer should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">init?(coder:)</code>イニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW5"></a>
  <h3 class="section-name" tabindex="0">Display the Custom View<br><span class="jpstr">
カスタムビューの表示
</span><!--end_jpstr-->
</h3>
  <p class="para">
  To display your custom view, you need to add a view to your UI and establish a connection between that view and the code you just wrote.
<br><span class="jpstr">
あなたのカスタムビューを画面表示するために、あなたが必要とするのは、ビューをあなたのUIに加えて、そのビューとあなたがたった今記述したコードとの間の接続を確立することです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To display the view<br><span class="jpstr">
ビューを表示するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open your storyboard.
<br><span class="jpstr">
あなたのストーリーボードを開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In your storyboard, use the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW54" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW54">Object library</a></span> to find a View object and drag one into your storyboard scene so that it’s in the stack view below the image view.
<br><span class="jpstr">
あなたのストーリーボードにおいて、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW54" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW54">オブジェクトライブラリ</a></span>を使ってViewオブジェクトを見つけ、ひとつあなたのストーリーボードシーンにドラッグします、そうしてスタックビューの中のイメージビューの下になるようにします。［イメージビューは前のレッスンで食事写真表示用に加えたものです］
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  With the view selected, open the Size inspector <img class="inline-graphic" src="Art/inspector_size_2x.png" alt="image: ../Art/inspector_size_2x.png" width="16" height="16" /> in the utility area.
<br><span class="jpstr">
そのビューが選択された状態で、Sizeインスペクタ<img class="inline-graphic" src="Art/inspector_size_2x.png" alt="image: ../Art/inspector_size_2x.png" width="16" height="16" />をユーティリティ区画で開きます。
</span><!--end_jpstr-->
</p>
<p class="para">
  Recall that <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW82" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW82">Size inspector</a></span> appears when you select the fifth button from the left in the inspector selector bar. It lets you edit the size and position of an object in your storyboard.
<br><span class="jpstr">
思い出してください、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW82" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW82">サイズインスペクタ</a></span>が現れるのはあなたが左から5番目のボタンをインスペクタ選択バーで選んだ時です。それは、あなたにあなたのストーリーボードの中のオブジェクトの大きさと位置を編集させます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_inspector_size_2x.png" alt="image: ../Art/5_inspector_size_2x.png" width="273" height="544" />
</figure>
</li><li class="item"><p class="para">
  In the pop-up menu labeled Intrinsic Size, choose Placeholder. (This field is at the bottom of the Size inspector, so you’ll need to scroll down to it.)
<br><span class="jpstr">
Intrinsic Size（固有サイズ）とラベルをつけられたポップアップメニューにおいて、Placeholder（プレースホルダ）を選びます。（この欄は、Sizeインスペクタの下の方にあります、それであなたはそれまで下にスクロールする必要があるでしょう）
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Type <code class="code-voice">44</code> into the Height field and <code class="code-voice">240</code> into the Width field located below Intrinsic Size. Press Return.
<br><span class="jpstr">
Intrinsic Sizeの下にある、Height（高さ）欄に<code class="code-voice">44</code>をそしてWidth（幅）欄に<code class="code-voice">240</code>をタイプしてください。リターンキーを押します。
</span><!--end_jpstr-->
</p>
<p class="para">
  Your UI should look something like this:
<br><span class="jpstr">
あなたのUIはこのようなものに見えるはずです：
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_viewwithplaceholdersize_2x.png" alt="image: ../Art/5_viewwithplaceholdersize_2x.png" width="626" height="401" />
</figure>
</li><li class="item"><p class="para">
  With the view selected, open the Identity inspector <img class="inline-graphic" src="Art/inspector_identity_2x.png" alt="image: ../Art/inspector_identity_2x.png" width="16" height="16" />.
<br><span class="jpstr">
ビューが選択された状態で、同一性インスペクタ<img class="inline-graphic" src="Art/inspector_identity_2x.png" alt="image: ../Art/inspector_identity_2x.png" width="16" height="16" />を開いてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  Recall that the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW80" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW80">Identity inspector</a></span> lets you edit properties of an object in your storyboard related to that object’s identity, such as what class the object belongs to.
<br><span class="jpstr">
思い出してください、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW80" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW80">同一性インスペクタ</a></span>は、あなたにあなたのストーリーボードのあるオブジェクトのプロパティをそのオブジェクトの同一性に関して、例えばどのクラスにそのオブジェクトが所属するかなどを、編集させます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_inspector_identity_2x.png" alt="image: ../Art/5_inspector_identity_2x.png" width="227" height="433" />
</figure>
</li><li class="item"><p class="para">
  In the Identity inspector, find the field labeled Class and select <code class="code-voice">RatingControl</code>.
<br><span class="jpstr">
同一性インスペクタにおいて、Classとラベルをつけられる欄を探して<code class="code-voice">RatingControl</code>を選択してください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_identity_ratingcontrol_2x.png" alt="image: ../Art/5_identity_ratingcontrol_2x.png" width="680" height="435" />
</figure>
</li>
</ol>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW8"></a>
  <h3 class="section-name" tabindex="0">Add Buttons to the View<br><span class="jpstr">
ボタンをビューに加える
</span><!--end_jpstr-->
</h3>
  <p class="para">
  At this point, you’ve got the basics of a custom <code class="code-voice">UIView</code> subclass, called <code class="code-voice">RatingControl</code>. The next thing you’ll need to do is add buttons to your view to allow the user to select a rating. Start with something simple, like getting a single red button to show up in your view.
<br><span class="jpstr">
この時点で、あなたは基本的なカスタム<code class="code-voice">UIView</code>サブクラス、<code class="code-voice">RatingControl</code>と呼ばれるものを手に入れています。次にあなたがする必要があることは、ボタンをあなたのビューに加えてユーザが格付けを選べるようにすることです。始めに簡単なことをします、例えばひとつだけ赤いボタンをあなたのビューに表示させることのような。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To create a button in your view<br><span class="jpstr">
ボタンをあなたのビューの中に作成するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In the <code class="code-voice">init?(coder:)</code> initializer, add the following lines of code to create a red button:
<br><span class="jpstr">
<code class="code-voice">init?(coder:)</code>イニシャライザにおいて、以下のコード行を加えることで赤いボタンを作成します：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>(<span class="vc">frame</span>: <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>))</code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You’re using <code class="code-voice">redColor()</code> so it’s easy to see where the view is. If you’d like, use one of the other predefined <code class="code-voice">UIColor</code> values instead, like <code class="code-voice">blueColor()</code> or <code class="code-voice">greenColor()</code>.
<br><span class="jpstr">
あなたは<code class="code-voice">redColor()</code>を使っています、それでビューのどこにあるかがわかりやすくなります。あなたが好むならば、別のあらかじめ定義された<code class="code-voice">UIColor</code>値を代わりに使ってください、例えば<code class="code-voice">blueColor()</code>または<code class="code-voice">greenColor()</code>のような。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Below the last line, add this code:
<br><span class="jpstr">
最後の行の下に、このコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The <code class="code-voice">addSubview()</code> method adds the button you created to the <code class="code-voice">RatingControl</code> view.
<br><span class="jpstr">
この<code class="code-voice">addSubview()</code>メソッドは、あなたが作成したボタンを<code class="code-voice">RatingControl</code>ビューに加えます。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">init?(coder:)</code> initializer should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">init?(coder:)</code>イニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>(<span class="vc">frame</span>: <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>))</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  To tell the stack view how to lay out your button, you also need to provide an intrinsic content size for it. To do this, override the <code class="code-voice">intrinsicContentSize</code> method to match the size you specified in Interface Builder like this:
<br><span class="jpstr">
スタックビューにあなたのボタンをレイアウトする方法を教えるために、あなたはまた、固有のコンテンツサイズをそれに提供する必要があります。これを行うために、<code class="code-voice">intrinsicContentSize</code>メソッドをオーバーライドして、あなたがインターフェイスビルダーにおいて指定したサイズに合うようにしてください、このように：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">intrinsicContentSize</span>() -&gt; <span class="n"><!-- a href="" -->CGSize<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">return</span> <span class="vc">CGSize</span>(<span class="vc">width</span>: <span class="m">240</span>, <span class="vc">height</span>: <span class="m">44</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. You should be able to see a view with a small red square inside of it. The red square is the button you added in the initializer.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたは、ビューと一緒に小さな赤い四角をそれの内部に見ることができるはずです。この赤い四角は、あなたがイニシャライザに加えたボタンです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_1redbutton_2x.png" alt="image: ../Art/5_sim_1redbutton_2x.png" width="320" height="559" />
</figure><p class="para">
  You’ll need this button and eventually the other buttons in this view to perform an action when they’re tapped. That action is changing a meal’s rating.
<br><span class="jpstr">
あなたが必要とするのは、このボタンとゆくゆくは他のボタンがこのビューにおいてあるアクションをそれらがタップされた時に行うようにすることです。そのアクションはある食事の格付けを変更します。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add an action to the button<br><span class="jpstr">
アクションをボタンに加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, before the last curly brace (<code class="code-voice">}</code>), add the following:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、最後の波括弧（<code class="code-voice">}</code>）の前で、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// MARK: Button Action</span></code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Under the comment, add the following:
<br><span class="jpstr">
このコメントの下で、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">print</span>(<span class="s">&quot;Button pressed 👍&quot;</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  For now, use the <code class="code-voice">print()</code> function to check that the <code class="code-voice">ratingButtonTapped(_:)</code> action is linked to the button as expected. This function prints a message to the standard output, which in this case is the Xcode debug <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW86" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW86">console</a></span>. The console is a useful debugging mechanism that appears at the bottom of the editor area.
<br><span class="jpstr">
今のところ、この<code class="code-voice">print()</code>関数を使うことで、<code class="code-voice">ratingButtonTapped(_:)</code>アクションがこのボタンと期待するように結合されることを確認します。この関数は、あるメッセージを標準出力に印字します、それはこの場合ではXcodeデバッグ<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW86" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW86">コンソール</a></span>になります。このコーソールは、有用なデバッグの仕組みです、それはエディタ区画の下に現れます。
</span><!--end_jpstr-->
</p>
<p class="para">
  You’ll replace this debugging implementation with a real implementation in a little while.
<br><span class="jpstr">
あなたは、このデバック実装を実際の実装としばらくして置き換えます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Find the <code class="code-voice">init?(coder:)</code> initializer:
<br><span class="jpstr">
<code class="code-voice">init?(coder:)</code>イニシャライザを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>(<span class="vc">frame</span>: <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>))</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Before the <code class="code-voice">addSubview(button)</code> line, add this:
<br><span class="jpstr">
<code class="code-voice">addSubview(button)</code>行の前に、これを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="kt">_</span>:)), <span class="vc">forControlEvents</span>: .<span class="vc">TouchDown</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You’re familiar with the target-action pattern because you’ve used it to link elements in your storyboard to action methods in your code. Above, you’re doing the same thing, except you’re creating the connection in code. You’re attaching the <code class="code-voice">ratingButtonTapped(_:)</code> action method to the <code class="code-voice">button</code> object, which will be triggered whenever the <code class="code-voice">.TouchDown</code> event occurs. This event signifies that the user has pressed on a button. You set the target to <code class="code-voice">self</code>, which in this case is the <code class="code-voice">RatingControl</code> class, because that’s where the action is defined.
<br><span class="jpstr">
あなたはターゲット-アクション・パターンをよく知っています、なぜならあなたはそれを使ってあなたのストーリーボードの中の要素とあなたのコードの中のアクションメソッドを結びつけているからです。上で、あなたはは同じことをしています、違うのはあなたがコードにおいて接続を作成していることです。あなたは、<code class="code-voice">ratingButtonTapped(_:)</code>アクションを<code class="code-voice">button</code>オブジェクトに取り付けています、それは<code class="code-voice">.TouchDown</code>イベントが起こるたびに作動させられます。このイベントが意味するのは、ユーザがあるボタン上を押したということです。あなたはターゲットを<code class="code-voice">self</code>に設定します、それはこの場合には<code class="code-voice">RatingControl</code>クラスです、なぜならそれはアクションが定義されるところだからです。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <code class="code-voice">#selector</code> expression returns the <code class="code-voice">Selector</code> value for the provided method. A selector is an opaque value that identifies the method. Older APIs used selectors to dynamically invoke methods at runtime. While newer APIs have largely replaced selectors with blocks, many older methods—like <code class="code-voice">performSelector(_:)</code> and <code class="code-voice">addTarget(_:action:forControlEvents:)</code>—still take selectors as arguments. In this example, the <code class="code-voice">#selector(RatingControl.ratingButtonTapped(_:))</code> expression returns the selector for your <code class="code-voice">ratingButtonTapped(_:)</code> action method. This lets the system call your action method when the button is tapped.
<br><span class="jpstr">
<code class="code-voice">#selector</code>式は、与えられたメソッドに対する<code class="code-voice">Selector</code>値を返します。セレクタは、メソッドを識別する不透明な値です。古いAPIは、実行時に動的にメソッドを発動するためにセレクタを使いました。新しいAPIが大部分はセレクタをブロックで置き換える一方で、多くの古いメソッドは — <code class="code-voice">performSelector(_:)</code>および<code class="code-voice">addTarget(_:action:forControlEvents:)</code>などは — 依然としてセレクタを引数として取ります。この例において、<code class="code-voice">#selector(RatingControl.ratingButtonTapped(_:))</code>式はあなたの<code class="code-voice">ratingButtonTapped(_:)</code>アクションメソッドに対するセレクタを返します。これは、システムにあなたのアクションメソッドをボタンがタップされる時に呼び出させます。
</span><!--end_jpstr-->
</p>
<p class="para">
  Note that because you’re not using Interface Builder, you don’t need to define your action method with the <code class="code-voice">IBAction</code> attribute; you just define the action like any other method.
<br><span class="jpstr">
注意することは、あなたがインターフェイスビルダーを使っていないことです、あなたがしなくていもいいのは、あなたのアクションメソッドを<code class="code-voice">IBAction</code>属性とともに定義することです；あなたは単にこのアクションをあらゆる 他のメソッドと同じように定義します。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">init?(coder:)</code> initializer should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">init?(coder:)</code>イニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>(<span class="vc">frame</span>: <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>))</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="kt">_</span>:)), <span class="vc">forControlEvents</span>: .<span class="vc">TouchDown</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. When you click the red square, you should see the “Button pressed” message in the console.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたが赤い四角をクリックする時、あなたは「Button pressed」メッセージをコンソールにおいて見るはずです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_console_buttonpressed_2x.png" alt="image: ../Art/5_console_buttonpressed_2x.png" width="680" height="449" />
</figure><p class="para">
  Now it’s time to think about what pieces of information the <code class="code-voice">RatingControl</code> class needs to have in order to represent a rating. You’ll need to keep track of a rating value—0, 1, 2, 3, 4, or 5—as well as the buttons that a user taps to set that rating. You can represent the rating value with an <code class="code-voice">Int</code>, and the buttons as an array of <code class="code-voice">UIButton</code> objects.
<br><span class="jpstr">
今や<code class="code-voice">RatingControl</code>クラスが格付けを表すために持つ必要がある情報の部品は何かについて考える時です。あなたが必要とするのは、格付けの値—0、1、2、3、4、または5—の、それだけでなくその格付けを設定するためにユーザがタップするボタンの、最新の状態を把握することです。あなたは、格付けの値を<code class="code-voice">Int</code>を使って、そしてボタンを<code class="code-voice">UIButton</code>オブジェクトの配列として表すことができます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add rating properties<br><span class="jpstr">
格付けプロパティを加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the class declaration line:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、クラス定義行を見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">RatingControl</span>: <span class="n"><!-- a href="" -->UIView<!-- /a --></span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Below this line, add the following code:
<br><span class="jpstr">
この行の下に、以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// MARK: Properties</span></code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">rating</span> = <span class="m">0</span></code></li>
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">ratingButtons</span> = [<span class="vc">UIButton</span>]()</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ol><p class="para">
  Right now, you have one button in the view, but you need five total. To create a total of five buttons, use a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop. A <code class="code-voice">for</code>-<code class="code-voice">in</code> loop iterates over a sequence, such as ranges of numbers, to execute a set of code multiple times. Instead of creating one button, the loop will create five.
<br><span class="jpstr">
今のところ、あなたはひとつのボタンをこのビューに持ちます、しかしあなたが必要なのは全部で５つです。合計５つのボタンを作成するために、<code class="code-voice">for</code>-<code class="code-voice">in</code>ループを使ってください。<code class="code-voice">for</code>-<code class="code-voice">in</code>ループは、あるシーケンス（列、一続きのもの）のすべてに渡って繰り返して行きます、例えばある範囲の数などに対して、そうして一組にされたコードを複数回実行します。１つのボタンを作成するのではなく、このループは５つ作成します。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To create a total of five buttons<br><span class="jpstr">
合計５つのボタンを作成するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the <code class="code-voice">init?(coder:)</code> initializer:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">init?(coder:)</code>イニシャライザを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>(<span class="vc">frame</span>: <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>))</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="kt">_</span>:)), <span class="vc">forControlEvents</span>: .<span class="vc">TouchDown</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Add a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop around the last four lines, like this:
<br><span class="jpstr">
<code class="code-voice">for</code>-<code class="code-voice">in</code>ループを最後の４行を囲むように加えてください、このように；
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="m">5</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>(<span class="vc">frame</span>: <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>))</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="kt">_</span>:)), <span class="vc">forControlEvents</span>: .<span class="vc">TouchDown</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You can make sure the lines in the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop are indented properly by selecting all of them and pressing Control-I.
<br><span class="jpstr">
あなたは、<code class="code-voice">for</code>-<code class="code-voice">in</code>ループの中の行が正しく字下げされることを、それらのすべてを選択してコントロール-Iを押すことによって確実に行えます。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW94" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW94">half-open range operator</a></span> (<code class="code-voice">..&lt;</code>) doesn’t include the upper number, so this range goes from <code class="code-voice">0</code> to <code class="code-voice">4</code> for a total of five loop iterations, drawing five buttons instead of just one. The underscore (<code class="code-voice">_</code>) represents a wildcard, which you can use when you don’t need to know which iteration of the loop is currently executing. 
<br><span class="jpstr">
<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW94" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW94">半開範囲演算子</a></span>（<code class="code-voice">..&lt;</code>）は、高い方の数を含みません、それでこの範囲は<code class="code-voice">0</code>から<code class="code-voice">4</code>になり合計５回ループを繰り返して、５つのボタンを描画します、１つではなく。アンダースコア（<code class="code-voice">_</code>）は、ワイルドカード（万能札）を表します、それはループのどの繰り返しが現在実行されているかをあなたが知る必要がない時に使うことができるものです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Above the <code class="code-voice">addSubview(button)</code> line, add this:
<br><span class="jpstr">
<code class="code-voice">addSubview(button)</code>行の上で、これを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">ratingButtons</span> += [<span class="vc">button</span>]</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  As you create each button, you add it to the <code class="code-voice">ratingButtons</code> array to keep track of it.
<br><span class="jpstr">
あなたが各ボタンを作成するとき、あなたはそれを<code class="code-voice">ratingButtons</code>配列に加えてそれの最新の状態を把握するようにします。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">init?(coder:)</code> initializer should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">init?(coder:)</code>イニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="m">5</span> {</code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>(<span class="vc">frame</span>: <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>))</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="kt">_</span>:)), <span class="vc">forControlEvents</span>: .<span class="vc">TouchDown</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span> += [<span class="vc">button</span>]</code></li>
            <li><code class="code-voice">        <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. You’ll notice it looks like there’s only one button. That’s because the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop just stacked the buttons on top of each other. You’ll need to adjust where the buttons lay out in the view. 
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたはそれがただひとつのボタンだけがあるように見えることに気づくでしょう。その理由は<code class="code-voice">for</code>-<code class="code-voice">in</code>ループが単にボタンをそれぞれの上に積み重ねたからです。あなたが必要とするのは、ビューのどこにボタンがレイアウト（配置）されるか調節することです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_1redbutton_2x.png" alt="image: ../Art/5_sim_1redbutton_2x.png" width="320" height="559" />
</figure><p class="para">
  This type of layout code belongs in a method called <code class="code-voice">layoutSubviews</code>, a method defined on the <code class="code-voice">UIView</code> class. The <code class="code-voice">layoutSubviews</code> method gets called at the appropriate time by the system and gives <code class="code-voice">UIView</code> subclasses a chance to perform a precise layout of their <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW22" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW22">subviews</a></span>. You’ll need to <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW100" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW100">override</a></span> this method to place the buttons appropriately.
<br><span class="jpstr">
この種類のレイアウトコードが相応しいのは、ひとつのメソッドであり<code class="code-voice">layoutSubviews</code>と呼ばれて、<code class="code-voice">UIView</code>クラス上で定義されるメソッドです。<code class="code-voice">layoutSubviews</code>メソッドは、適切な時にシステムによって呼ばれます、そして<code class="code-voice">UIView</code>サブクラスにそれの<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW22" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW22">サブビュー</a></span>の正確なレイアウトを実行する機会を与えます。あなたが必要とするのは、このメソッドを<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW100" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW100">オーバーライド</a></span>して、ちょうどよくボタンを設置するようにすることです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To lay out the buttons<br><span class="jpstr">
これらのボタンをレイアウトするには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, under the <code class="code-voice">init?(coder:)</code> initializer in the <code class="code-voice">// MARK: Initialization</code> section, add the following method:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">// MARK: Initialization</code>区域の<code class="code-voice">init?(coder:)</code>イニシャライザの下で以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">layoutSubviews</span>() {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Remember that you can use code completion to insert this method skeleton quickly.
<br><span class="jpstr">
忘れないでください、あなたはコード補完を使ってこのメソッドの骨格をすばやく挿入できます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the method, add this code:
<br><span class="jpstr">
このメソッドにおいて、このコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">buttonFrame</span> = <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>)</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="c">// Offset each button&#39;s origin by the length of the button plus spacing.&nbsp;<span class="jpstr">（各ボタンの原点をボタンの長さに間隔を足したものでずらす）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerate</span>() {</code></li>
            <li><code class="code-voice">    <span class="vc">buttonFrame</span>.<span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">CGFloat</span>(<span class="vc">index</span> * (<span class="m">44</span> + <span class="m">5</span>))</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">frame</span> = <span class="vc">buttonFrame</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code creates a frame, and uses a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop to iterate over all of the buttons to set their frames.
<br><span class="jpstr">
このコードは、配置枠を作成します、そして<code class="code-voice">for</code>-<code class="code-voice">in</code>ループを使ってボタンのすべてに繰り返しそれらの配置枠を設定します。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <code class="code-voice">enumerate()</code> method returns a collection that contains elements in the <code class="code-voice">ratingButtons</code> array paired with their indexes. This is a collection of tuples—groupings of values—and in this case, each tuple contains an index and a button. For each tuple in the collection, the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop binds the values of the index and button in that tuple to local variables, <code class="code-voice">index</code> and <code class="code-voice">button</code>. You use the <code class="code-voice">index</code> variable to compute a new location for the button frame and set it on the <code class="code-voice">button</code> variable. The frame locations are set equal to a standard button size of <code class="code-voice">44</code> points and <code class="code-voice">5</code> points of padding, multiplied by <code class="code-voice">index</code>.
<br><span class="jpstr">
<code class="code-voice">enumerate()</code>メソッドはあるコレクションを返します、それは<code class="code-voice">ratingButtons</code>配列の中の要素とそれらのインデックスを組みにして含みます。これはタプル—いくらかの値をまとめたもの—のコレクションです、そしてこの場合、各タプルはひとつのインデックスとひとつのボタンを含みます。このコレクションの中の各タプルに対して、<code class="code-voice">for</code>-<code class="code-voice">in</code>ループはそのタプルの中のインデックスの値とボタンを、ローカル変数<code class="code-voice">index</code>と<code class="code-voice">button</code>にバインド（束縛、結びつけ）します。あなたは、<code class="code-voice">index</code>変数を使って新しい場所をボタン配置枠に対して計算して、それを<code class="code-voice">button</code>変数に設定します。配置枠の場所は、標準ボタンサイズの<code class="code-voice">44</code>ポイントと<code class="code-voice">5</code>ポイントの詰め物、それに<code class="code-voice">index</code>を掛けたものと等しく設定されます。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">layoutSubviews()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">layoutSubviews()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">layoutSubviews</span>() {</code></li>
            <li><code class="code-voice">    <span class="kt">var</span> <span class="vc">buttonFrame</span> = <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="m">44</span>, <span class="vc">height</span>: <span class="m">44</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Offset each button&#39;s origin by the length of the button plus spacing.&nbsp;<span class="jpstr">（各ボタンの原点をボタンの長さに間隔を足したものでずらす）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerate</span>() {</code></li>
            <li><code class="code-voice">        <span class="vc">buttonFrame</span>.<span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">CGFloat</span>(<span class="vc">index</span> * (<span class="m">44</span> + <span class="m">5</span>))</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">frame</span> = <span class="vc">buttonFrame</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. Now, the buttons should be side by side. Note, clicking any of the buttons at this point should still call <code class="code-voice">ratingButtonTapped(_:)</code> and log the message to the console. 
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。今や、ボタンは横に並んでいるはずです。注意してください、いずれかのボタンをクリックすることはこの時点では依然として<code class="code-voice">ratingButtonTapped(_:)</code>を呼び出します、そしてメッセージをコンソールに記録します。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_5redbuttons_2x.png" alt="image: ../Art/5_sim_5redbuttons_2x.png" width="320" height="559" />
</figure><p class="para">
  To collapse the console, use the Debug area toggle.
<br><span class="jpstr">
コンソールを折り畳むためには、Debug区画切り替えボタンを使ってください。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/debug_toggle_2x.png" alt="image: ../Art/debug_toggle_2x.png" width="300" height="94" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_1"></a>
  <h3 class="section-name" tabindex="0">Add Properties for Spacing and Number of Stars<br><span class="jpstr">
星の間隔と数に対するプロパティを加える
</span><!--end_jpstr-->
</h3>
  <p class="para">
  Notice that you’ve been using the value <code class="code-voice">5</code> in your code, both for the number of stars and for the amount of space between stars. It’s generally bad practice to keep hardcoded values scattered throughout your code. If you wanted to change the amount of space between stars, you’d have to change <code class="code-voice">5</code> wherever it was used to indicate space. The fact that the <code class="code-voice">5</code> values can mean two different things only further complicates the task. 
<br><span class="jpstr">
注意することは、あなたが<code class="code-voice">5</code>値をあなたのコードに使っていることです、星の数に対してと星の間の空きに対しての両方に。一般的に悪い慣行とされるのは、変更されないように書いた値をあなたのコードのあちらこちらに点在させたままにすることです。あなたが星の間の空きを変えようと望むならば、あなたは<code class="code-voice">5</code>を、それが空きを指し示すために使われたどこにおいても変えなければならないでしょう。それら<code class="code-voice">5</code>の値が２つの異なる事柄を意味できるという事実は、作業をよりいっそう複雑にするだけです。
</span><!--end_jpstr-->
</p><p class="para">
  Instead, declare two variables, one for the amount of space between stars and one for the number of stars. Then, if you need to make a change, you’ll only need to change the value in one place.
<br><span class="jpstr">
代わりに、２つの変数を宣言しください、星の間の空きの量のために１つそして星の数のために１つ。それなら、あなたが変更する必要があるならば、あなたは単に一箇所で値を変えるのを必要とするだけです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add properties<br><span class="jpstr">
プロパティを加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the <code class="code-voice">// MARK: Properties</code> section.
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">// MARK: Properties</code>区域を見つけてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// MARK: Properties</span></code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">rating</span> = <span class="m">0</span></code></li>
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">ratingButtons</span> = [<span class="vc">UIButton</span>]()</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You can jump to it quickly using the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW41" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW41">functions menu</a></span>, which appears if you click the name of the file at the top of the editor area.
<br><span class="jpstr">
あなたは、素早く<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW41" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW41">関数メニュー</a></span>を使ってジャンプできます、それはあなたがファイルの名前をエディタ区画の上部でクリックするならば現れます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Below the existing properties, add the following code:
<br><span class="jpstr">
既存のプロパティの下で、以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">spacing</span> = <span class="m">5</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You add this constant property to define the spacing between buttons.
<br><span class="jpstr">
あなたはこの定数プロパティを加えることで、ボタンの間の空きの取り方を定義します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">layoutSubviews</code>, replace the literal value you used for spacing with the <code class="code-voice">spacing</code> property:
<br><span class="jpstr">
<code class="code-voice">layoutSubviews</code>において、あなたが空きとして使ったリテラル値を<code class="code-voice">spacing</code>プロパティで置き換えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">buttonFrame</span>.<span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">CGFloat</span>(<span class="vc">index</span> * (<span class="m">44</span> + <span class="vc">spacing</span>))</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Below the <code class="code-voice">spacing</code> property, add another property:
<br><span class="jpstr">
<code class="code-voice">spacing</code>プロパティの下で、もう１つのプロパティを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">starCount</span> = <span class="m">5</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You can use this constant property to define the number of stars the control displays.
<br><span class="jpstr">
あなたは、この定数プロパティを使うことで、コントロールが表示する星の数を制御します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">init?(coder:)</code>, replace the literal value you used for number of stars with the <code class="code-voice">starCount</code> property:
<br><span class="jpstr">
<code class="code-voice">init?(coder:)</code>において、あなたが星の数のために使ったリテラル値を<code class="code-voice">starCount</code>プロパティと置き換えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">starCount</span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ol><p class="para">
  <em>Checkpoint</em>: Run your app. Everything should work and look exactly as before.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。すべてのものが正確に以前のように見え機能するはずです。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW9"></a>
  <h3 class="section-name" tabindex="0">Declare a Constant for the Button Size<br><span class="jpstr">
ボタンサイズ用に定数を宣言する
</span><!--end_jpstr-->
</h3>
  <p class="para">
  You have also been using the value <code class="code-voice">44</code> in your code to represent the button’s size. Again, you want to get rid of hardcoded values wherever possible. This time, make your buttons adjust to the size of their container view (the view you added to your storyboard) by retrieving the container view’s height. Use a local constant to store the container view’s height, so you only need to access it once inside each method.
<br><span class="jpstr">
あなたはまた、値<code class="code-voice">44</code>をあなたのコードにおいてボタンの大きさを表すために使ってしまっています。ふたたび、あなたは変更されないようにコードに書かれた値を可能なところはどこであろうと取り除くべきです。今度は、あなたのボタンの調節を、それらのコンテナビュー（あなたがあなたのストーリーボードに加えたビュー）のサイズに対して、そのコンテナビュー［ボタンの容れ物であるビュー］の高さを取り出すことによって行います。あるローカル定数を使ってコンテナビューの高さを格納してください、それであなたは各メソッドの内部で一度だけそれにアクセスする必要があるだけです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To declare a constant for the size of the buttons<br><span class="jpstr">
定数をボタンのサイズのために宣言するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In the <code class="code-voice">layoutSubviews()</code> method, add this code before the first line of the implementation:
<br><span class="jpstr">
<code class="code-voice">layoutSubviews()</code>メソッドにおいて、このコードをその実装の最初の行の前に加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Set the button&#39;s width and height to a square the size of the frame&#39;s height.&nbsp;<span class="jpstr">（ボタンの幅と高さを配置枠の高さのサイズの正方形に設定する）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">buttonSize</span> = <span class="vc">Int</span>(<span class="vc">frame</span>.<span class="vc">size</span>.<span class="vc">height</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This makes the layout much more flexible.
<br><span class="jpstr">
これは、このレイアウトを圧倒的に適応性に富んだものにします。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Change the rest of the method to use the <code class="code-voice">buttonSize</code> constant instead of <code class="code-voice">44</code>:
<br><span class="jpstr">
メソッドの残りを変更して<code class="code-voice">buttonSize</code>定数を<code class="code-voice">44</code>の代わりに使ってください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">buttonFrame</span> = <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="vc">buttonSize</span>, <span class="vc">height</span>: <span class="vc">buttonSize</span>)</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="c">// Offset each button&#39;s origin by the length of the button plus spacing.&nbsp;<span class="jpstr">（各ボタンの原点をボタンの長さに間隔を足したものでずらす）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerate</span>() {</code></li>
            <li><code class="code-voice">    <span class="vc">buttonFrame</span>.<span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">CGFloat</span>(<span class="vc">index</span> * (<span class="vc">buttonSize</span> + <span class="m">5</span>))</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">frame</span> = <span class="vc">buttonFrame</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  As you did when you first added the rating control, you need to update the control’s intrinsic content size so that the stack view can layout your control correctly. This time, you want the <code class="code-voice">intrinsicContentSize()</code> method to calculate the control’s size accounting for each of the stars and the spaces between them (one less space than stars, assuming you have at least one star). Use code like this:
<br><span class="jpstr">
あなたが最初に格付けコントロールを加えた時にしたように、あなたはそのコントロールの固有コンテンツサイズを更新する必要があります、それでスタックビューはあなたのコントロールを正確に配置することができます。今回は、あなたは<code class="code-voice">intrinsicContentSize()</code>メソッドで星のそれぞれを占めるコントロールの大きさとそれらの間の空きを計算すると良いでしょう（それら星より１つ少ない空き、あなたが少なくとも１つの星を持つと仮定して）。コードをこのように使ってください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">buttonSize</span> = <span class="vc">Int</span>(<span class="vc">frame</span>.<span class="vc">size</span>.<span class="vc">height</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">width</span> = (<span class="vc">buttonSize</span> * <span class="vc">starCount</span>) + (<span class="vc">spacing</span> * (<span class="vc">starCount</span> - <span class="m">1</span>))</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">return</span> <span class="vc">CGSize</span>(<span class="vc">width</span>: <span class="vc">width</span>, <span class="vc">height</span>: <span class="vc">buttonSize</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  In the <code class="code-voice">init?(coder:)</code> initializer, change the first line of the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop to this:
<br><span class="jpstr">
<code class="code-voice">init?(coder:)</code>イニシャライザにおいて、<code class="code-voice">for</code>-<code class="code-voice">in</code>ループの最初の行をこれに変更してください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Because you set button frames in <code class="code-voice">layoutSubviews()</code>, you no longer need to set them when you create the buttons.
<br><span class="jpstr">
あなたがこれらのボタン配置枠を<code class="code-voice">layoutSubviews()</code>において設定したので、あなたはもはやそれらをあなたがボタンを作成するときに設定する必要はありません。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">layoutSubviews()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">layoutSubviews()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">layoutSubviews</span>() {</code></li>
            <li><code class="code-voice">    <span class="c">// Set the button&#39;s width and height to a square the size of the frame&#39;s height.&nbsp;<span class="jpstr">（ボタンの幅と高さを配置枠の高さのサイズの正方形に設定する）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">buttonSize</span> = <span class="vc">Int</span>(<span class="vc">frame</span>.<span class="vc">size</span>.<span class="vc">height</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">var</span> <span class="vc">buttonFrame</span> = <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="vc">buttonSize</span>, <span class="vc">height</span>: <span class="vc">buttonSize</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Offset each button&#39;s origin by the length of the button plus some spacing.&nbsp;<span class="jpstr">（各ボタンの原点をボタンの長さに間隔を足したものでずらす）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerate</span>() {</code></li>
            <li><code class="code-voice">        <span class="vc">buttonFrame</span>.<span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">CGFloat</span>(<span class="vc">index</span> * (<span class="vc">buttonSize</span> + <span class="m">5</span>))</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">frame</span> = <span class="vc">buttonFrame</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  Your <code class="code-voice">intrinsicContentSize</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">intrinsicContentSize</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">intrinsicContentSize</span>() -&gt; <span class="n"><!-- a href="" -->CGSize<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">buttonSize</span> = <span class="vc">Int</span>(<span class="vc">frame</span>.<span class="vc">size</span>.<span class="vc">height</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">width</span> = (<span class="vc">buttonSize</span> * <span class="vc">starCount</span>) + (<span class="vc">spacing</span> * (<span class="vc">starCount</span> - <span class="m">1</span>))</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">return</span> <span class="vc">CGSize</span>(<span class="vc">width</span>: <span class="vc">width</span>, <span class="vc">height</span>: <span class="vc">buttonSize</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  And your <code class="code-voice">init?(coder:)</code> initializer should look like this:
<br><span class="jpstr">
そしてあなたの<code class="code-voice">init?(coder:)</code>イニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="m">5</span> {</code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="kt">_</span>:)), <span class="vc">forControlEvents</span>: .<span class="vc">TouchDown</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span> += [<span class="vc">button</span>]</code></li>
            <li><code class="code-voice">        <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. Everything should work and look exactly as before. The buttons should be side-by-side. Clicking any of the buttons at this point should still call <code class="code-voice">ratingButtonTapped(_:)</code> and log the message to the console.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。すべてのものが正確に以前のように見え機能するはずです。ボタンは横に並んでいるはずです。ボタンのどれかをクリックすることはこの時点ではまだ<code class="code-voice">ratingButtonTapped(_:)</code>を呼び出してメッセージをコンソールに記録するはずです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_5redbuttons_2x.png" alt="image: ../Art/5_sim_5redbuttons_2x.png" width="320" height="559" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW4"></a>
  <h3 class="section-name" tabindex="0">Add Star Images to the Buttons<br><span class="jpstr">
星の画像をボタンに加える
</span><!--end_jpstr-->
</h3>
  <p class="para">
  Next, you’ll add images of an empty and filled-in star to the buttons.
<br><span class="jpstr">
次に、あなたは空のそして塗りつぶされた星の画像をボタンに加えます。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_emptyStar_2x.png" alt="image: ../Art/5_emptyStar_2x.png" width="75" height="75" />
</figure><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_filledStar_2x.png" alt="image: ../Art/5_filledStar_2x.png" width="75" height="75" />
</figure><p class="para">
  You can find the images shown above within the <code class="code-voice">Images/</code> folder of the downloadable file at the end of this lesson, or use your own images. (Just make sure the names of the images you use match the image names in the code later.)
<br><span class="jpstr">
あなたは、上で見せた画像をこのレッスンの終わりでダウンロード可能なファイルの<code class="code-voice">Images/</code>フォルダ内で見つけることができます、またはあなた独自の画像を使うことができます。（ただあなたが使う画像の名前が後のコードの中の画像名と一致するようにしてください。）
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add images to your project<br><span class="jpstr">
いくらかの画像をあなたのプロジェクトに加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">project navigator</a></span>, select <code class="code-voice">Assets.xcassets</code> to view the asset catalog.
<br><span class="jpstr">
<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">プロジェクトナビゲータ</a></span>において、<code class="code-voice">Assets.xcassets</code>を選択してアセットカタログ（資産目録）を眺めてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  Recall that the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW69" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW69">asset catalog</a></span> is a place to store and organize your image assets for an app.
<br><span class="jpstr">
思い出してください、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW69" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW69">アセットカタログ</a></span>はあなたのアプリのためのあなたの画像資産を格納し整理するところです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the bottom left corner, click the plus (<code class="code-voice">+</code>) button and choose New Folder from the pop-up menu.
<br><span class="jpstr">
１番下左隅で、プラスボタン（<code class="code-voice">+</code>）をクリックしてNew Folderをポップアップメニューから選んでください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_assetcatalog_addfolder_2x.png" alt="image: ../Art/5_assetcatalog_addfolder_2x.png" width="680" height="452" />
</figure>
</li><li class="item"><p class="para">
  Double-click the folder name and rename it <code class="code-voice">Rating Images</code>.
<br><span class="jpstr">
フォルダ名をダブルクリックして、それの名前を<code class="code-voice">Rating Images</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  With the folder selected, in the bottom left corner, click the plus (<code class="code-voice">+</code>) button and choose New Image Set from the pop-up menu.
<br><span class="jpstr">
そのフォルダが選択された状態で、１番下左隅で、プラス（<code class="code-voice">+</code>）ボタンをクリックしてNew Image Set（新規画像セット）をポップアップメニューから選んでください。
</span><!--end_jpstr-->
</p>
<p class="para">
  An image set represents a single image asset, but can contain different versions of the image to display at different screen resolutions.
<br><span class="jpstr">
画像セットはただ１つだけ画像資産を表示します、しかし異なるバージョンの画像を含むことで異なる画面解像度で表示することができます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Double-click the image set name and rename it <code class="code-voice">emptyStar</code>.
<br><span class="jpstr">
画像セットの名前をダブルクリックして、その名前を<code class="code-voice">emptyStar</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  On your computer, select the empty star image you want to add.
<br><span class="jpstr">
あなたのコンピュータ上で、あなたが加えようと思う空の星の画像を選択してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Drag and drop the image into the <code class="code-voice">2x</code> slot in the image set.
<br><span class="jpstr">
その画像を画像セットの<code class="code-voice">2x</code>の挿入位置にドラック＆ドロップしてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_emptystar_drag_2x.png" alt="image: ../Art/5_emptystar_drag_2x.png" width="396" height="175" />
</figure>
<p class="para">
  <code class="code-voice">2x</code> is the display resolution for iPhone 6 Simulator that you’re using in these lessons, so the image will look best at this resolution.
<br><span class="jpstr">
<code class="code-voice">2x</code>は、iPhone 6シミュレータ用の画面解像度で、あなたがこのレッスンで使っているものです、それでこの解像度でその画像は最もよく見えるでしょう。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the bottom left corner, click the plus (<code class="code-voice">+</code>) button and choose New Image Set from the pop-up menu.
<br><span class="jpstr">
１番下左隅で、プラス（<code class="code-voice">+</code>）ボタンをクリックしてNew Image Setをポップアップメニューから選んでください
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Double-click the image set name and rename it <code class="code-voice">filledStar</code>.
<br><span class="jpstr">
画像セットの名前をダブルクリックして、その名前を<code class="code-voice">filledStar</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  On your computer, select the filled-in star image you want to add.
<br><span class="jpstr">
あなたのコンピュータ上で、あなたが加えようと思う塗りつぶされた星の画像を選択してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Drag and drop the image into the <code class="code-voice">2x</code> slot in the image set.
<br><span class="jpstr">
その画像を画像セットの<code class="code-voice">2x</code>の挿入位置にドラック＆ドロップしてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_filledstar_drag_2x.png" alt="image: ../Art/5_filledstar_drag_2x.png" width="396" height="175" />
</figure>
</li>
</ol><p class="para">
  Your asset catalog should look something like this:
<br><span class="jpstr">
あなたのアセットカタログはこのようなものに見えるはずです：
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_assetcatalog_final_2x.png" alt="image: ../Art/5_assetcatalog_final_2x.png" width="680" height="452" />
</figure><p class="para">
  Next, write the code to set the appropriate image for a button at the right time. 
<br><span class="jpstr">
次に、コードを書いて適切な画像をボタンに対して正しいときに設定するようにします。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To set star images for the buttons<br><span class="jpstr">
星画像をボタンに設定するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open <code class="code-voice">RatingControl.swift</code>.
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>を開きます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">init?(coder:)</code> initializer, add these two lines of code before the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop:
<br><span class="jpstr">
<code class="code-voice">init?(coder:)</code>イニシャライザにおいて、これら２つのコード行を<code class="code-voice">for</code>-<code class="code-voice">in</code>ループの前に加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">filledStarImage</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;filledStar&quot;</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">emptyStarImage</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;emptyStar&quot;</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  In the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, after the line where the button is initialized, add this code:
<br><span class="jpstr">
<code class="code-voice">for</code>-<code class="code-voice">in</code>ループにおいて、ボタンが初期化されるところの行の下に、このコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">emptyStarImage</span>, <span class="vc">forState</span>: .<span class="vc">Normal</span>)</code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStarImage</span>, <span class="vc">forState</span>: .<span class="vc">Selected</span>)</code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStarImage</span>, <span class="vc">forState</span>: [.<span class="vc">Highlighted</span>, .<span class="vc">Selected</span>])</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You’re setting two different images for different states so you can see when the buttons have been selected. The empty star image appears when a button is unselected (<code class="code-voice">.Normal</code> state). The filled-in star image appears when the button is selected (<code class="code-voice">.Selected</code> state) and when the button is both selected and highlighted (<code class="code-voice">.Selected</code> and <code class="code-voice">.Highlighted</code> states), which occurs when a user is in the process of tapping the button.
<br><span class="jpstr">
あなたは２つの異なる画像を異なる状態に対して設定しています、それであなたはボタンが選択されたのを見ることができます。空の星の画像が現れるのは、ボタンが選択されていないときです（状態<code class="code-voice">.Normal</code>）。塗りつぶされた星の画像が現れるのは、ボタンが選択されたとき（状態<code class="code-voice">.Selected</code>）そしてボタンが選択されるだけでなく強調もされるときです（状態<code class="code-voice">.Selected</code>と<code class="code-voice">.Highlighted</code>）、それが起こるのはユーザがボタンのタップを進行中のときです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Delete the line of code that sets the background color to red:
<br><span class="jpstr">
このコード行を削除してください、それは背景色を赤に設定します：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">redColor</span>()</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Because your buttons have images now, it’s time to remove the background color.
<br><span class="jpstr">
あなたのボタンは今では画像を持つので、背景色を取り除くときです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add this line of code:
<br><span class="jpstr">
このコード行を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">adjustsImageWhenHighlighted</span> = <span class="kt">false</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This is to make sure that the image doesn’t show an additional highlight during the state change. 
<br><span class="jpstr">
これは画像がその状態変更の間に追加的な強調を見せないことを確実します。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">init?(coder:)</code> initializer should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">init?(coder:)</code>イニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">aDecoder</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">emptyStarImage</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;emptyStar&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">filledStarImage</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;filledStar&quot;</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="m">5</span> {</code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">emptyStarImage</span>, <span class="vc">forState</span>: .<span class="vc">Normal</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStarImage</span>, <span class="vc">forState</span>: .<span class="vc">Selected</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStarImage</span>, <span class="vc">forState</span>: [.<span class="vc">Highlighted</span>, .<span class="vc">Selected</span>])</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">adjustsImageWhenHighlighted</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="kt">_</span>:)), <span class="vc">forControlEvents</span>: .<span class="vc">TouchDown</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span> += [<span class="vc">button</span>]</code></li>
            <li><code class="code-voice">        <span class="vc">addSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. You should see stars instead of red buttons. Clicking any of the buttons at this point should still call <code class="code-voice">ratingButtonTapped(_:)</code> and log the message to the console, but your buttons don’t change images yet. You’ll fix that next.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたは、星を赤いボタンの代わりに見るはずです。ボタンのどれかをクリックすることはこの時点では依然として<code class="code-voice">ratingButtonTapped(_:)</code>を呼び出してメッセージをコンソールに記録します、しかしあなたのボタンは画像をまだ変更しません。あなたはこれを次に修正します。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_emptystars_2x.png" alt="image: ../Art/5_sim_emptystars_2x.png" width="320" height="559" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW10"></a>
  <h3 class="section-name" tabindex="0">Implement the Button Action<br><span class="jpstr">
ボタンアクションの実装
</span><!--end_jpstr-->
</h3>
  <p class="para">
  The user needs to be able to select a rating by tapping a star, so you’ll replace the debugging implementation with a real implementation of the <code class="code-voice">ratingButtonTapped(_:)</code> method.
<br><span class="jpstr">
ユーザが必要とするのは、格付けの選択がある星のタップによってできることです、それであなたはデバック実装を実際の実装の<code class="code-voice">ratingButtonTapped(_:)</code>メソッドで置き換えます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To implement the rating action<br><span class="jpstr">
格付けアクションを実装するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the <code class="code-voice">ratingButtonTapped(_:)</code> method:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">ratingButtonTapped(_:)</code>メソッドを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">print</span>(<span class="s">&quot;Button pressed 👍&quot;</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Replace the <code class="code-voice">print</code> statement with this code:
<br><span class="jpstr">
<code class="code-voice">print</code>文をこのコードと置き換えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">rating</span> = <span class="vc">ratingButtons</span>.<span class="vc">indexOf</span>(<span class="vc">button</span>)! + <span class="m">1</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The <code class="code-voice">indexOf(_:)</code> method attempts to find the selected button in the array of buttons and to return the index at which it was found. This method returns an optional <code class="code-voice">Int</code> because the instance you’re searching for might not exist in the collection you’re searching. However, because the only buttons that trigger this action are the ones you created and added to the array yourself, you can be sure that searching for the button will return a valid index. In this case, you can use the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW92" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW92">force unwrap operator</a></span> (<code class="code-voice">!</code>) to access the underlying index value. You add <code class="code-voice">1</code> to that index to get the corresponding rating. You need to add <code class="code-voice">1</code> because arrays are indexed starting with <code class="code-voice">0</code>.
<br><span class="jpstr">
<code class="code-voice">indexOf(_:)</code>メソッドが試みるのは、選択されたボタンをボタン配列の中で見つけること、そしてそれが見つかったのはどのインデックスかを返します。このメソッドは、オプショナルの<code class="code-voice">Int</code>を返します、なぜならあなたが探しているインスタンスがあなたがそこで見つけようとしているコレクションの中に存在しないかもしれないからです。しかしながら、このアクションを引き起こすボタンのみが、あなた自身で作成してこの配列に加えたものなので、あなたは探しているボタンが有効なインデックスを返すと確信できます。この場合、あなたは<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW92" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW92">強制アンラップ演算子</a></span>（<code class="code-voice">!</code>）を使って内在する値にアクセスすることができます。あなたは、<code class="code-voice">1</code>をそのインデックスに加えて、該当する格付けを得ます。あなたが<code class="code-voice">1</code>を加える必要がある理由は、配列は<code class="code-voice">0</code>で開始してインデックスを付けられるからです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, before the last curly brace (<code class="code-voice">}</code>), add the following:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、最後の波括弧（<code class="code-voice">}</code>）の前で、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">updateButtonSelectionStates</span>() {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This is a helper method that you’ll use to update the selection state of the buttons.
<br><span class="jpstr">
これはヘルパーメソッド（お手伝いさんメソッド）です、あなたはそれを使ってボタンの選択状態を更新するようにします。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">updateButtonSelectionStates()</code> method, add this <code class="code-voice">for</code>-<code class="code-voice">in</code> loop:
<br><span class="jpstr">
<code class="code-voice">updateButtonSelectionStates()</code>メソッドにおいて、この<code class="code-voice">for</code>-<code class="code-voice">in</code>ループを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerate</span>() {</code></li>
            <li><code class="code-voice">    <span class="c">// If the index of a button is less than the rating, that button should be selected.&nbsp;<span class="jpstr">（あるボタンのインデックスが格付けより少ないならば、そのボタンは選択されるべき。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">selected</span> = <span class="vc">index</span> &lt; <span class="vc">rating</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code iterates through the button array to set the state of each button according to whether its index in the array is less than the rating. If it is, <code class="code-voice">index &lt; rating</code> evaluates to <code class="code-voice">true</code>, which sets the button’s state to selected and makes it display the filled-in star image. Otherwise, the button is unselected and shows the empty star image.
<br><span class="jpstr">
このコードは、ボタン配列じゅうを繰り返して、各ボタンの状態をそれの配列中でのインデックスが格付けより少ないかどうかによって設定します。それがそうならば、<code class="code-voice">index &lt; rating</code>は<code class="code-voice">true</code>に評価されます、それはそのボタンの状態を選択されると設定してそれが塗りつぶされた星の画像を表示するようにします。そうでなければ、ボタンは選択されず空の星のイメージを見せます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">ratingButtonTapped(_:)</code> method, add a call to <code class="code-voice">updateButtonSelectionStates()</code> as the last line of the implementation:
<br><span class="jpstr">
<code class="code-voice">ratingButtonTapped(_:)</code>メソッドにおいて、<code class="code-voice">updateButtonSelectionStates()</code>への呼び出しをこの実装の最後の行として加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">rating</span> = <span class="vc">ratingButtons</span>.<span class="vc">indexOf</span>(<span class="vc">button</span>)! + <span class="m">1</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="vc">updateButtonSelectionStates</span>()</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  In the <code class="code-voice">layoutSubviews()</code> method, add a call to <code class="code-voice">updateButtonSelectionStates()</code> as the last line of the implementation:
<br><span class="jpstr">
<code class="code-voice">layoutSubviews()</code>メソッドにおいて、<code class="code-voice">updateButtonSelectionStates()</code>への呼び出しをこの実装の最後の行として加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">layoutSubviews</span>() {</code></li>
            <li><code class="code-voice">    <span class="c">// Set the button&#39;s width and height to a square the size of the frame&#39;s height.&nbsp;<span class="jpstr">（ボタンの幅と高さを配置枠の高さのサイズの正方形に設定する）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">buttonSize</span> = <span class="vc">Int</span>(<span class="vc">frame</span>.<span class="vc">size</span>.<span class="vc">height</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">var</span> <span class="vc">buttonFrame</span> = <span class="vc">CGRect</span>(<span class="vc">x</span>: <span class="m">0</span>, <span class="vc">y</span>: <span class="m">0</span>, <span class="vc">width</span>: <span class="vc">buttonSize</span>, <span class="vc">height</span>: <span class="vc">buttonSize</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Offset each button&#39;s origin by the length of the button plus some spacing.&nbsp;<span class="jpstr">（各ボタンの原点をボタンの長さに間隔を足したものでずらす）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerate</span>() {</code></li>
            <li><code class="code-voice">        <span class="vc">buttonFrame</span>.<span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">CGFloat</span>(<span class="vc">index</span> * (<span class="vc">buttonSize</span> + <span class="m">5</span>))</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">frame</span> = <span class="vc">buttonFrame</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    <span class="vc">updateButtonSelectionStates</span>()</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  It’s important to update the button selection states when the view loads, not just when the rating changes.
<br><span class="jpstr">
これが重要なのは、ボタン選択状態をビューがロードするときに更新するためです、格付けが変化したちょうどその時ではなく。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">// MARK: Properties</code> section, find the <code class="code-voice">rating</code> property:
<br><span class="jpstr">
<code class="code-voice">// MARK: Properties</code>区域において、<code class="code-voice">rating</code>プロパティを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">rating</span> = <span class="m">0</span></code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Update the <code class="code-voice">rating</code> property to include this property observer:
<br><span class="jpstr">
<code class="code-voice">rating</code>プロパティを更新して、このプロパティオブザーバを含めてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">rating</span> = <span class="m">0</span> {</code></li>
            <li><code class="code-voice"><span class="kt">didSet</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">setNeedsLayout</span>()</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  A <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW123" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW123">property observer</a></span> observes and responds to changes in a property’s value. Property observers are called every time a property’s value is set, and can be used to perform work immediately before or after the value changes. Specifically, the <code class="code-voice">didSet</code> property observer is called immediately after the property’s value is set. Here, you include a call to <code class="code-voice">setNeedsLayout()</code>, which will trigger a layout update every time the rating changes. This ensures that the UI is always showing an accurate representation of the <code class="code-voice">rating</code> property value.
<br><span class="jpstr">
<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW123" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW123">プロパティオブザーバ</a></span>（プロパティ監視者）は、監視と応答をあるプロパティの持つ値における変化に対して行います。プロパティオブザーバは、あるプロパティの値が設定される時すべてに呼ばれます、そしてその値が変化する直前または直後に作業を実行するために使われることができます。具体的には、<code class="code-voice">didSet</code>プロパティオブザーバは、プロパティの値が設定された直後に呼ばれます。ここで、あなたは<code class="code-voice">setNeedsLayout()</code>への呼び出しを含めます、それは格付けが変わる時すべてにレイアウト更新を引き起こします。これは、UIが常に<code class="code-voice">rating</code>プロパティ値の正確な表現を示していることを保証します。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">updateButtonSelectionStates()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">updateButtonSelectionStates()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">updateButtonSelectionStates</span>() {</code></li>
            <li><code class="code-voice">    <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerate</span>() {</code></li>
            <li><code class="code-voice">        <span class="c">// If the index of a button is less than the rating, that button shouldn&#39;t be selected.&nbsp;<span class="jpstr">（あるボタンのインデックスが格付けより少ないならば、そのボタンは選択されるべきでない。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">selected</span> = <span class="vc">index</span> &lt; <span class="vc">rating</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. You should see five stars and be able to click one to change the rating. Click the third star to change the rating to 3, for example.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたは、５つの星を見るはずです、そして１つクリックすることで格付けを変更できるはずです。例えば、３番目の星をクリックして格付けを３に変えてください。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_filledstars_2x.png" alt="image: ../Art/5_sim_filledstars_2x.png" width="320" height="559" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW12"></a>
  <h3 class="section-name" tabindex="0">Connect the Rating Control to the View Controller<br><span class="jpstr">
格付けコントロールをビューコントローラに接続する
</span><!--end_jpstr-->
</h3>
  <p class="para">
  The last thing you need to do to set up the rating control is to give the <code class="code-voice">ViewController</code> class a reference to it.
<br><span class="jpstr">
格付けコントロールの設定としてあなたが最後にしなければならないことは、<code class="code-voice">ViewController</code>クラスにそれへの参照を持たせることです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To connect a rating control outlet to ViewController.swift<br><span class="jpstr">
格付けコントロールアウトレットをViewController.swiftに接続するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open your storyboard.
<br><span class="jpstr">
あなたのストーリーボードを開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Click the Assistant button in the Xcode toolbar to open the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW76" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW76">assistant editor</a></span>. 
<br><span class="jpstr">
AssistantボタンをXcodeツールバーにおいてクリックして<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW76" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW76">アシスタントエディタ</a></span>を開いてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW6"></a>
  <span class="caption"></span>
  <img src="Art/assistant_editor_toggle_2x.png" alt="image: ../Art/assistant_editor_toggle_2x.png" width="307" height="101" />
</figure>
</li><li class="item"><p class="para">
  If you want more space to work, collapse the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">project navigator</a></span> and <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW72" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW72">utility area</a></span> by clicking the Navigator and Utilities buttons in the Xcode toolbar.
<br><span class="jpstr">
あなたがもっと場所を必要とするならば、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">プロジェクトナビゲータ</a></span>と<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW72" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW72">ユーティリティ区画</a></span>をNavigatorとUtilitiesボタンをXcodeツールバーにおいてクリックすることで折り畳んでください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/navigator_utilities_toggle_on_2x.png" alt="image: ../Art/navigator_utilities_toggle_on_2x.png" width="372" height="100" />
</figure>
<p class="para">
  You can also collapse the outline view.
<br><span class="jpstr">
あなたはまたアウトラインビューも折り畳むことができます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Select the rating control.
<br><span class="jpstr">
格付けコントロールを選択してください。
</span><!--end_jpstr-->
</p>
<p class="para">
  <code class="code-voice">ViewController.swift</code> displays in the editor on the right. <br><span class="jpstr">
<code class="code-voice">ViewController.swift</code>は、エディタの右に表示されます。
</span><!--end_jpstr-->
(If it doesn’t, choose Automatic &gt; ViewController.swift in the editor selector bar)
</p>
</li><li class="item"><p class="para">
  Control-drag from the rating control on your canvas to the code display in the editor on the right, stopping the drag at the line below the <code class="code-voice">photoImageView</code> property in <code class="code-voice">ViewController.swift</code>.
<br><span class="jpstr">
あなたのキャンバス上の格付けコントロールから右のエディタの中のコード表示へコントロール-ドラッグして、<code class="code-voice">ViewController.swift</code>の中の<code class="code-voice">photoImageView</code>プロパティの下の行でドラッグをやめてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_ratingcontrol_dragoutlet_2x.png" alt="image: ../Art/5_ratingcontrol_dragoutlet_2x.png" width="680" height="472" />
</figure>
</li><li class="item"><p class="para">
  In the dialog that appears, for Name, type <code class="code-voice">ratingControl</code>.
<br><span class="jpstr">
現れたダイアログにおいて、名前に、<code class="code-voice">ratingControl</code>をタイプしてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  Leave the rest of the options as they are. Your dialog should look like this:
<br><span class="jpstr">
残りのオプションはそれらのままにしておきます。あなたのダイアログはこのように見えるはずです：
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_ratingcontrol_addoutlet_2x.png" alt="image: ../Art/5_ratingcontrol_addoutlet_2x.png" width="680" height="472" />
</figure>
</li><li class="item"><p class="para">
  Click Connect.
<br><span class="jpstr">
Connectをクリックしてください。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  The <code class="code-voice">ViewController</code> class now has a reference to the rating control in the storyboard.
<br><span class="jpstr">
<code class="code-voice">ViewController</code>クラスは今ではストーリーボードの中の格付けコントロールに対する参照を持ちます。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW7"></a>
  <h3 class="section-name" tabindex="0">Clean Up the Project<br><span class="jpstr">
プロジェクトの掃除
</span><!--end_jpstr-->
</h3>
  <p class="para">
  You’re close to finalizing the meal scene UI, but first you need to do some cleanup. Now that the FoodTracker app is implementing more advanced behavior and a different UI than in the previous lessons, you’ll want to remove the pieces you don’t need. You’ll also center the elements in your stack view to balance the UI.
<br><span class="jpstr">
あなたは、食事シーンUIの完成段階に近づいています、しかしまずあなたはいくらかの掃除をする必要があります。今ではFoodTrackerアプリは以前のレッスンに比べてより進んだ挙動と異なるUIを実装しています、あなたは必要としない部分を取り除きたいでしょう。あなたはまた、あなたのスタックビューの要素の中心をとってUIのつり合いをとりたいでしょう。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To clean up the UI<br><span class="jpstr">
UIを掃除するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Return to the standard editor by clicking the Standard button.
<br><span class="jpstr">
標準エディタにStandardボタンをクリックすることで戻ってください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/standard_toggle_2x.png" alt="image: ../Art/standard_toggle_2x.png" width="371" height="86" />
</figure>
<p class="para">
  Expand the project navigator and utility area by clicking the Navigator and Utilities buttons in the Xcode toolbar.
<br><span class="jpstr">
プロジェクトナビゲータとユーティリティ区画をNavigatorとUtilitiesボタンをXcodeツールバーでクリックすることで広げてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Open your storyboard.
<br><span class="jpstr">
あなたのストーリーボードを開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Select the Set Default Label Text button, and press the Delete key to delete it.
<br><span class="jpstr">
Set Default Label Textボタンを選択します、そしてデリートキーを押してそれを消去してください。
</span><!--end_jpstr-->
</p>
<p class="para">
  The stack view rearranges your UI elements to fill the gap that the button left.
<br><span class="jpstr">
スタックビューは、あなたのUI要素を配列し直して下と左の隙間を埋めます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_deletebutton_2x.png" alt="image: ../Art/5_deletebutton_2x.png" width="374" height="391" />
</figure>
</li><li class="item"><p class="para">
  If necessary, open the outline view. Select the Stack View object.
<br><span class="jpstr">
必要なら、アウトラインビューを開いてください。Stack Viewオブジェクトを選択してください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/2_AL_outlineview_2x.png" alt="image: ../Art/2_AL_outlineview_2x.png" width="243" height="278" />
</figure>
</li><li class="item"><p class="para">
  Open the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW19" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW19">Attributes inspector</a></span>.
<br><span class="jpstr">
<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW19" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW19">Attributesインスペクタ</a></span>を開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the Attributes inspector, find the Alignment field and select Center.
<br><span class="jpstr">
Attributesインスペクタにおいて、Alignment欄を見つけてCenterを選択してください。
</span><!--end_jpstr-->
</p>
<p class="para">
  The elements in the stack view center horizontally:
<br><span class="jpstr">
スタックビューの中の要素は横方向の真ん中に置かれます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_centerstack_2x.png" alt="image: ../Art/5_centerstack_2x.png" width="373" height="391" />
</figure>
</li>
</ol><p class="para">
  Now, remove the action method that corresponds with the button you deleted.
<br><span class="jpstr">
今度は、あなたが削除したボタンに対応するアクションメソッドを削除します。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To clean up the code<br><span class="jpstr">
コードを掃除するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open <code class="code-voice">ViewController.swift</code>.
<br><span class="jpstr">
<code class="code-voice">ViewController.swift</code>を開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">ViewController.swift</code>, delete the <code class="code-voice">setDefaultLabelText(_:)</code> action method.
<br><span class="jpstr">
<code class="code-voice">ViewController.swift</code>において、<code class="code-voice">setDefaultLabelText(_:)</code>アクションメソッドを削除してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">@IBAction</span> <span class="kt">func</span> <span class="vc">setDefaultLabelText</span>(<span class="vc">sender</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">mealNameLabel</span>.<span class="vc">text</span> = <span class="s">&quot;Default Text&quot;</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  That’s all you need to delete for now. You’ll make a change to the label outlet (<code class="code-voice">mealNameLabel</code>) in a later lesson.
<br><span class="jpstr">
これが今のところあなたが削除に必要なすべてです。あなたは、あとのレッスンでラベルアウトレット（<code class="code-voice">mealNameLabel</code>）に変更を行います。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  <em>Checkpoint</em>: Run your app. Everything should work exactly as before, but the Set Default Label Text button is gone, and the elements are centered horizontally. The buttons should be side-by-side. Clicking any of the buttons at this point should still call <code class="code-voice">ratingButtonTapped(_:)</code> and change the button images appropriately.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。すべてのものが正確に以前と同じように働きます、しかしSet Default Label Textボタンはなくなりました、そして要素は水平方向の中心に置かれます。ボタンは横に並んでいるはずです。ボタンのどれかをクリックするとこの時点では依然として<code class="code-voice">ratingButtonTapped(_:)</code>が呼び出されます、そしてボタン画像は適切に変化します。
</span><!--end_jpstr-->
</p><div class="important clear">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_3"></a>
  <aside class="aside">
    <p class="aside-title">Important
    <br><span class="jpstr">
重要
</span><!--end_jpstr-->
</p>
    <p class="para">If you’re running into build issues, try pressing Command-Shift-K to clean your project.
    <br><span class="jpstr">
あなたがビルド問題にぶつかっているならば、コマンド-シフト-Kを押してあなたのプロジェクトの掃除してみてください。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/5_sim_finalUI_2x.png" alt="image: ../Art/5_sim_finalUI_2x.png" width="320" height="559" />
</figure><div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW13"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">To see the completed sample project for this lesson, download the file and view it in Xcode.
    	<br><span class="jpstr">
このレッスンの完成見本プロジェクトを見るには、このファイルをダウンロードしてXcodeでそれを見てください。
</span><!--end_jpstr-->
</p>
    <p class="para">
  <img class="inline-graphic" src="Art/WWDR_download_icon_withPadding_2x.png" alt="image: ../Art/WWDR_download_icon_withPadding_2x.png" width="15" height="17" /><a href="https://developer.apple.com/sample-code/swift/downloads/Start-Dev-iOS-Apps-05.zip">Download File</a>
</p>

  </aside>
</div>
  
</section>


 	<section id="next_previous" class="">
    		<p class="previous-link"><a href="Lesson4.html#//apple_ref/doc/uid/TP40015214-CH6-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH6-SW1">Work with View Controllers<br><span class="jpstr">
ビューコントローラを扱う
</span><!--end_jpstr-->
</a></p>
  			<p class="next-link"><a href="Lesson6.html#//apple_ref/doc/uid/TP40015214-CH20-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH20-SW1">Define Your Data Model<br><span class="jpstr">
あなたのデータモデルの定義
</span><!--end_jpstr-->
</a></p>

    <p class="copyright">Copyright &#x00a9; 2016 Apple Inc. All rights reserved. 
  <a class="link" href="http://www.apple.com/legal/terms/site.html" target="_blank" rel="external">Terms of Use</a> | 
  <a class="link" href="http://www.apple.com/privacy/" target="_blank" rel="external">Privacy Policy</a> | 
  <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Updated: 2015-09-16</a>
</p>
  </section>
</article>

    </div>
    <div id='big_button'></div>
    <footer id="footer">
  <div class="content-wrapper">
  	<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
  </div>
  <script src="../../../Resources/1254/JavaScript/devpubs-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../Resources/1254/JavaScript/feedback-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <div id="_omniture_top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
</script>

<!-- <script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script> -->
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>

</footer>

    
  </body>
    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="https://developer.apple.com/bugreporter/" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

</div>
</html>
