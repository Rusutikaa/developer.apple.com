<!DOCTYPE html>
<html lang="en">
  <head>  
  <title>Start Developing iOS Apps (Swift): Implement a Custom Control</title>
  <link rel="stylesheet" type="text/css" href="../../../Resources/1257/CSS/style-1.6.3.css" />
  <link rel="stylesheet" type="text/css" href="../../../Resources/1257/CSS/feedback-1.6.3.css" />
  <meta charset='utf-8'> 
<meta id="j-version" name="j-version" content="" />
<meta id="build" name="build" content="18a4ddd810268b2b45148ad71ca004a7" />
<meta id="document-version" name="document-version" content="1.4.42" />
<meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Topic/General}" />
<meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/TP40015214" />
<meta id="chapterId" name="chapterId" content="TP40015214-CH19">
<meta id="book-title" name="book-title" content="Start Developing iOS Apps (Swift)" />
<meta id="book-resource-type" name="book-resource-type" content="Guide" />
<meta id="book-root" name="book-root" content="./" />
<meta id="book-json" name="book-json" content="book.json">
<meta id="date" name="date" content="2016-12-08" />
<meta id="description" name="description" content="A hands-on introduction to iOS app development using Swift." />
<meta id="IndexTitle" name="IndexTitle" content="" />
<meta id="resources-uri" name="resources-uri" content="../../../Resources/1257">
<link id="book-index-page" rel="Start" title="" type="text/html" href="./index.html">
<!-- , next_chapter: next_chapter, previous_chapter: previous_chapter -->
<link id="next-page" rel="Next" type="text/html" href="">
<link id="previous-page" rel="Prev" type="text/html" href="">
<meta id="devcenter" name="devcenter" content="<!-- DEVCENTER_NAME -->" />
<meta id="devcenter-url" name="devcenter-url" content="<!-- DEVCENTER_URL -->" />
<meta id="reflib" name="reflib" content="<!-- REFLIB_NAME -->" />

<meta id="xcode-display" name="xcode-display" content="render" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta id="platforms" name="platforms" content="iOS">
</head>

  <body id="roadmap" class='jazz'>
    
    <header id="ios_header" class="hideOnPrint hideInXcode">
  <div class="content-wrapper">
    <p class="header-text">
    	<a href="../../../navigation/index.html">Guides and Sample Code
 		</a>
 </p>
    <p id="wwdr"><img id="apple_logo" src="../../../Resources/1257/Images/apple2.png" height="14px" width="12px" aria-hidden="true" /><a href="https://developer.apple.com">Developer</a></p>
  </div>
</header>

    <section id="valence">
  <div class="content-wrapper">
	<p id="hierarchial_navigation">
		<span id="book_title">Start Developing iOS Apps (Swift)</span>
	</p>
	<form id="search" class="hideInXcode" method="get" action="/search/index.php" accept-charset="utf-8" autocomplete="off">
  <input type="search" id="ssi_SearchField" placeholder="Search Guides and Sample Code" name="q" autocomplete="off" tabindex="2" />
</form>

	  
   
   



    <img id="shortstack" src="../../../Resources/1257/Images/shortstack_2x.png"/>
  </div>
</section>
    <div class="content-wrapper">
      <nav id="navigator" class="book-parts hideInXcode" role="navigation">
    <ul class="nav-parts">
        <li class="part-name">
            <a href="index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH2-SW1">Getting Started<br><span class="jpstr">
はじめに
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH2-SW1">Jump Right In<br><span class="jpstr">
すぐ始めよう
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name nav-part-active open-part">
            <a href="BuildABasicUI.html#//apple_ref/doc/uid/TP40015214-CH5-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH5-SW1">Building the UI<br><span class="jpstr">
UIを作る
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="BuildABasicUI.html#//apple_ref/doc/uid/TP40015214-CH5-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH5-SW1">Build a Basic UI<br><span class="jpstr">
基本的なUIを作る
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="ConnectTheUIToCode.html#//apple_ref/doc/uid/TP40015214-CH22-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH22-SW1">Connect the UI to Code<br><span class="jpstr">
UIをコードに接続する
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="WorkWithViewControllers.html#//apple_ref/doc/uid/TP40015214-CH6-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH6-SW1">Work with View Controllers<br><span class="jpstr">
ビューコントローラを扱う
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter nav-current-chapter">
              	<a href="#//apple_ref/doc/uid/TP40015214-CH19-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH19-SW1">Implement a Custom Control<br><span class="jpstr">
カスタムコントロールの実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="DefineYourDataModel.html#//apple_ref/doc/uid/TP40015214-CH20-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH20-SW1">Define Your Data Model<br><span class="jpstr">
あなたのデータモデルの定義
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="CreateATableView.html#//apple_ref/doc/uid/TP40015214-CH8-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH8-SW1">Working with Table Views<br><span class="jpstr">
テーブルビューを扱う
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="CreateATableView.html#//apple_ref/doc/uid/TP40015214-CH8-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH8-SW1">Create a Table View<br><span class="jpstr">
テーブルビューを作る
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="ImplementNavigation.html#//apple_ref/doc/uid/TP40015214-CH16-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH16-SW1">Implement Navigation<br><span class="jpstr">
ナビゲーションの実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="ImplementEditAndDeleteBehavior.html#//apple_ref/doc/uid/TP40015214-CH9-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH9-SW1">Implement Edit and Delete Behavior<br><span class="jpstr">
編集および削除挙動の実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="PersistData.html#//apple_ref/doc/uid/TP40015214-CH14-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH14-SW1">Persist Data<br><span class="jpstr">
データ永続
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="Resources.html#//apple_ref/doc/uid/TP40015214-CH15-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH15-SW1">What’s Next?<br><span class="jpstr">
次はなに？
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Resources.html#//apple_ref/doc/uid/TP40015214-CH15-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH15-SW1">Where to Go from Here<br><span class="jpstr">
これからどうする
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW1">iOS and Swift Terminology<br><span class="jpstr">
iOSとSwiftの専門用語
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="glossary nav-chapter">
              	<a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW1">Glossary<br><span class="jpstr">
用語集
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li data-id="revision-history"
            class="part-name">
          <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Revision History<br><span class="jpstr">
改定履歴
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
            <li class="nav-chapter">
              <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Document Revision History<br><span class="jpstr">
文書改定履歴
</span><!--end_jpstr-->
</a>
            </li>
          </ul>
        </li>
    </ul>
</nav>

      <menu id="bashful" type="toolbar">
  <div class="shield"></div>
  <menuitem id="jump_to" class="menu-bar-item closed">
  <span>On This Page</span>
  <div class="chevron">
    <div class="chevy chevron-left"></div>
    <div class="chevy chevron-right"></div>
  </div>
  <menu type="list" class="details">
      <ul class="list-bullet">
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW2">Learning Objectives</a>
<br><span class="jpstr">
学習する目標
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW3">Create a Custom View</a>
<br><span class="jpstr">
カスタムビューの作成
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW5">Display the Custom View</a>
<br><span class="jpstr">
カスタムビューの表示
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW8">Add Buttons to the View</a>
<br><span class="jpstr">
ボタンをビューに加える
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_8">Add Support for Interface Builder</a>
<br><span class="jpstr">
Interface Builderに対するサポートを加える
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW4">Add Star Images to the Buttons</a>
<br><span class="jpstr">
星の画像をボタンに加える
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW10">Implement the Button Action</a>
<br><span class="jpstr">
ボタンアクションの実装
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_9">Add Accessibility Information</a>
<br><span class="jpstr">
アクセシビリティ情報を加える
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW12">Connect the Rating Control to the View Controller</a>
<br><span class="jpstr">
格付けコントロールをビューコントローラに接続する
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-SW7">Clean Up the Project</a>
<br><span class="jpstr">
プロジェクトの掃除
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_10">Wrapping Up</a>
<br><span class="jpstr">
まとめ
</span><!--end_jpstr-->
          </li>
      </ul>
  </menu>
</menuitem>

</menu>
<div class="pixel-line"></div>
<div class="rubber-band-gap"></div>
<article class="chapter">
  <a name="//apple_ref/doc/uid/TP40015214-CH19"></a><a name="//apple_ref/doc/uid/TP40015214-CH19-SW1"></a>
  <h2 class='chapter-name chapter-name-short'>Implement a Custom Control<br><span class="jpstr">
カスタムコントロールの実装
</span><!--end_jpstr-->
</h2>
  
  	<section class="section">
  		<p class="para">
  In this lesson, you’ll implement a rating control for the FoodTracker app. When you’re finished, your app will look something like this:
<br><span class="jpstr">
このレッスンでは、あなたは格付けコントロールをFoodTrackerアプリに実装します。あなたが作業し終わった時、あなたのアプリはこのようなものに見えるでしょう：
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_sim_finalUI_2x.png" alt="image: ../Art/ICC_sim_finalUI_2x.png" width="387" height="679" />
</figure>

		</section> 
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW2"></a>
  <h3 class="section-name" tabindex="0">Learning Objectives<br><span class="jpstr">
学習する目標
</span><!--end_jpstr-->
</h3>
  <p class="para">
  At the end of the lesson, you’ll be able to:
<br><span class="jpstr">
このレッスンの終わりに、あなたが出来るようになるのは：
</span><!--end_jpstr-->
</p><ul class="list-bullet">
  <li class="item"><p class="para">
  Create and associate custom source code files with elements in a storyboard
<br><span class="jpstr">
カスタムソースコードを作成してストーリーボードの要素と結びつける
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Define a custom class
<br><span class="jpstr">
カスタムクラスを定義する
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Implement an initializer on a custom class
<br><span class="jpstr">
カスタムクラス上でイニシャライザを実装する
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Use <code class="code-voice">UIStackView</code> as a container
<br><span class="jpstr">
<code class="code-voice">UIStackView</code>をコンテナとして使う
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Understand how to create views programmatically
<br><span class="jpstr">
どのようにビューを作成するかプログラム的に理解する
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add accessibility information to a custom control
<br><span class="jpstr">
アクセシビリティ情報をカスタムコントロールに加える
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Work with <code class="code-voice">@IBInspectable</code> and <code class="code-voice">@IBDesignable</code> to display and control a custom view in Interface Builder
<br><span class="jpstr">
<code class="code-voice">@IBInspectable</code>と<code class="code-voice">@IBDesignable</code>で作業して、カスタムビューをInterface Builderにおいて表示する
</span><!--end_jpstr-->
</p>
</li>
</ul>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW3"></a>
  <h3 class="section-name" tabindex="0">Create a Custom View<br><span class="jpstr">
カスタムビューの作成
</span><!--end_jpstr-->
</h3>
  <p class="para">
  To be able to rate a meal, users need a <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW17" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW17">control</a></span> that lets them select the number of stars they want to assign to the meal. There are many ways to implement this, but this lesson focuses on a straightforward approach, building a custom control by combining existing views and controls. You’ll create a stack view subclass that manages a row of buttons representing the stars. You’ll define your custom control entirely in code, and then add it to your <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW8" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW8">storyboard</a></span>.
<br><span class="jpstr">
食事に格付けできるようにするために、ユーザに必要なのはある<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW17" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW17">コントロール</a></span>です、それは彼らがその食事に付けたい星の数を選ばせます。多くの方法がこれを実装するためにはあります、しかしこのレッスンは直接的な取り組みに焦点を当て、カスタムコントロールを既存のビューとコントロールを組み合わせることで構築します。あなたは、あるスタックビューサブクラスを作成し、それは星を表すボタンの列を管理します。あなたは、あなたのカスタムコントロールをすっかりコード中に定義して、それからそれをあなたの<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW8" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW8">ストーリーボード</a></span>へ加えます。
</span><!--end_jpstr-->
</p><p class="para">
  The rating control appears as a row of stars.
<br><span class="jpstr">
格付けコントロールは、星の列として現れます。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_ratingcontrol_2x.png" alt="image: ../Art/ICC_ratingcontrol_2x.png" width="337" height="70" />
</figure><p class="para">
  Users can choose a rating for a meal. When a user taps a star, that star and the stars preceding it are filled in. If the user taps the rightmost filled in star (the star associated with the current rating), the rating is cleared and all stars are displayed as empty. 
<br><span class="jpstr">
ユーザは、ある食事の格付けを選ぶことができます。ユーザがある星をタップするとき、その星とそれの前にある星が塗りつぶされます。ユーザが星で塗りつぶされた最も右（現在の格付けと関連する星）をタップするならば、格付けは消去されてすべての星は空として表示されます。
</span><!--end_jpstr-->
</p><p class="para">
  To begin designing the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW18" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW18">user interface (UI)</a></span>, interaction, and behavior of this control, start by creating a custom stack view (<code class="code-voice">UIStackView</code>) <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW14" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW14">subclass</a></span>.
<br><span class="jpstr">
設計を<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW18" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW18">ユーザインターフェイス (UI)</a></span>、相互作用、そしてこのコントロールの挙動に対して始めるには、あるカスタムスタックビュー（<code class="code-voice">UIStackView</code>）<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW14" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW14">サブクラス</a></span>を作成することで始めます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To create a subclass of UIStackView<br><span class="jpstr">
UIStackViewのサブクラスを作成するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Choose File &gt; New &gt; File (or press Command-N).
<br><span class="jpstr">
File &gt; New &gt; Fileを選んでください（またはコマンド-Nを押します）。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  At the top of the dialog that appears, select iOS.
<br><span class="jpstr">
現れたダイアログの一番上で、iOSを選択してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Select Cocoa Touch Class, and click Next.
<br><span class="jpstr">
Cocoa Touch Classを選んで、Nextをクリックしてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the Class field, type <code class="code-voice">RatingControl</code>.
<br><span class="jpstr">
Class欄において、<code class="code-voice">RatingControl</code>をタイプします。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the “Subclass of” field, select <code class="code-voice">UIStackView</code>.
<br><span class="jpstr">
「Subclass of」欄で、<code class="code-voice">UIStackView</code>を選択してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Make sure the Language option is set to Swift.
<br><span class="jpstr">
LanguageオプションがSwiftに設定されていることを確かめてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_newviewclass_2x.png" alt="image: ../Art/ICC_newviewclass_2x.png" width="680" height="486" />
</figure>
</li><li class="item"><p class="para">
  Click Next.
<br><span class="jpstr">
Nextをクリックしてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  The save location defaults to your project directory.
<br><span class="jpstr">
保存場所は、初期状態であなたのプロジェクトディレクトリです。
</span><!--end_jpstr-->
</p>
<p class="para">
  The Group option defaults to your app name, FoodTracker.
<br><span class="jpstr">
Groupオプションは、初期状態であなたのアプリ名、FoodTrackerです。
</span><!--end_jpstr-->
</p>
<p class="para">
  In the Targets section, your app is selected and the tests for your app are unselected.
<br><span class="jpstr">
Targets区画において、あなたのアプリが選択されて、あなたのアプリのためのテストは選択されません。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Leave these defaults as they are, and click Create.
<br><span class="jpstr">
これらの初期値はそれらのままにしておきます、そしてCreateをクリックします。
</span><!--end_jpstr-->
</p>
<p class="para">
  Xcode creates a file that defines the <code class="code-voice">RatingControl</code> class: <code class="code-voice">RatingControl.swift</code>. <code class="code-voice">RatingControl</code> is a custom view subclass of <code class="code-voice">UIView</code>.
<br><span class="jpstr">
Xcodeは、<code class="code-voice">RatingControl</code>クラスを定義するファイル：<code class="code-voice">RatingControl.swift</code>を作成します。<code class="code-voice">RatingControl</code>は、<code class="code-voice">UIView</code>のカスタムのビュー・サブクラスです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  If necessary, in the Project navigator, drag the <code class="code-voice">RatingControl.swift</code> file so that it’s positioned under the other Swift files.
<br><span class="jpstr">
必要ならば、Projectナビゲータにおいて、<code class="code-voice">RatingControl.swift</code>ファイルをドラッグして、それでそれが他のSwiftファイルの下に置かれるようにします。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_dragfile_2x.png" alt="image: ../Art/ICC_dragfile_2x.png" width="272" height="279" />
</figure>
</li><li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, delete the comments that come with the template <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW44" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW44">implementation</a></span> so you can start working with a blank slate.
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、ひな形<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW44" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW44">実装</a></span>に付いてくるコメントを削除してください、それであなたは白紙の状態で作業を始めることができます。
</span><!--end_jpstr-->
</p>
<p class="para">
  The implementation should look like this:
<br><span class="jpstr">
実装はこのように見えるはずです：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">import</span> <span class="vc">UIKit</span></code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">RatingControl</span>: <span class="n"><!-- a href="" -->UIStackView<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ol><p class="para">
  You typically create a view in one of two ways: by programatically <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">initializing</a></span> the view, or by allowing the view to be loaded by the storyboard. There’s a corresponding initializer for each approach: <code class="code-voice">init(frame:)</code> for programatically initializing the view and <code class="code-voice">init?(coder:)</code> for loading the view from the storyboard. Recall that an <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">initializer</a></span> is a method that prepares an instance of a class for use, which involves setting an initial value for each property and performing any other setup.
<br><span class="jpstr">
あなたは概して、ビューを２つのやり方のうちの１つで作成します：ビューをプログラム的に<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">初期化（イニシャライズ）</a></span>することで、またはビューをストーリーボードによってロードされるようにすることで。それぞれの取り組み方に合ったイニシャライザがあります：ビューをプログラム的に初期化するための<code class="code-voice">init(frame:)</code>とビューをストーリーボードからロードするための<code class="code-voice">init?(coder:)</code>。思い出してください、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">イニシャライザ</a></span>（初期化子）はひとつのメソッドです、それはクラスのインスタンスを使用する段取りを整えます、それには各プロパティに対する初期値の設定となんらかの他の設定の実行を伴います。
</span><!--end_jpstr-->
</p><p class="para">
  You will need to implement both of these methods in your custom control. While designing the app, Interface Builder programatically instantiates the view when you add it to the canvas. At runtime, your app loads the view from the storyboard.
<br><span class="jpstr">
あなたは、それらメソッドの両方をあなたのカスタムコントロールにおいて実装する必要があります。アプリ設計の間、Interface Builderはプログラム的にビューを、あなたがそれをキャンバスに加える時にインスタンス化します。実行時に、あなたのアプリはビューをストーリボードからロードします。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To override the initializers<br><span class="jpstr">
これらイニシャライザをオーバーライドするには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, under the <code class="code-voice">class</code> line, add this comment.
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">class</code>行の下で、このコメントを加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">//MARK: Initialization</span></code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Below the comment, start typing <code class="code-voice">init</code>.
<br><span class="jpstr">
このコメントの下で、<code class="code-voice">init</code>の入力を始めます。
</span><!--end_jpstr-->
</p>
<p class="para">
  The code completion overlay shows up.
<br><span class="jpstr">
コード補完重ね表示が現れてきます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_init_codecompletion_2x.png" alt="image: ../Art/ICC_init_codecompletion_2x.png" width="680" height="370" />
</figure>
</li><li class="item"><p class="para">
  Select <code class="code-voice">init(frame: CGRect)</code> from the listed options, and press Return.
<br><span class="jpstr">
<code class="code-voice">init(frame: CGRect)</code>をリストされたオプションから選択してください、そしてReturnを押してください。
</span><!--end_jpstr-->
</p>
<p class="para">
  Xcode inserts the initializer skeleton for you.
<br><span class="jpstr">
Xcodeはそのイニシャライザの骨組みをあなたの代わりに挿入します。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">init</span>(<span class="vc">frame</span>: <span class="n"><!-- a href="" -->CGRect<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Errors and warnings appear as yellow triangle icons (warnings) and red circles (errors) next to the code. Currently, the <code class="code-voice">init(frame:)</code> method has an error. Click on the error icon to bring up more information about the error.
<br><span class="jpstr">
エラーと警告は、黄色い三角形アイコン（警告）と赤い丸（エラー）としてコードの隣に現れます。現在、<code class="code-voice">init(frame:)</code>に１つのエラーがあります。エラーアイコンをクリックして、そのエラーについてさらなる情報を引き出してください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_init_fixit_2x.png" alt="image: ../Art/ICC_init_fixit_2x.png" width="680" height="388" />
</figure>
</li><li class="item"><p class="para">
  Double-click the Fix-it to insert the <code class="code-voice">override</code> keyword.
<br><span class="jpstr">
Fix-itをダブルクリックすることで、<code class="code-voice">override</code>キーワードを挿入してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">init</span>(<span class="vc">frame</span>: <span class="n"><!-- a href="" -->CGRect<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The Swift compiler knows that <code class="code-voice">init(frame:)</code> must be marked as required, and offers a fix-it to make this change in your code. <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW90" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW90">Fix-its</a></span> are provided by the compiler as potential solutions to errors in your code.
<br><span class="jpstr">
Swiftコンパイラは、<code class="code-voice">init(frame:)</code>がrequiredと印されなければならないことを知っています、そしてにあなたのコードでこの変更をするよう修正を提案します。これら<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW90" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW90">Fix-it</a></span>は、コンパイラによってあなたのコード中のエラーに対する可能性のある解決策として提供されます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add this line to call the superclass’s initializer:
<br><span class="jpstr">
この行を加えてスーパークラスの持つイニシャライザを呼び出してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">frame</span>: <span class="vc">frame</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Below the <code class="code-voice">init(frame:)</code> method, start typing <code class="code-voice">init</code> again, and select init(coder: NSCoder) from the code completion options. Press Return. 
<br><span class="jpstr">
<code class="code-voice">init(frame:)</code>メソッドの下で、再び<code class="code-voice">init</code>をタイプし始めて、そしてinit(coder: NSCoder)をコード補完の選択肢から選んでください。リターンキーを押します。
</span><!--end_jpstr-->
</p>
<p class="para">
  Xcode inserts the initializer skeleton for you.
<br><span class="jpstr">
Xcodeはそのイニシャライザの骨組みをあなたの代わりに挿入します。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">init</span>(<span class="vc">coder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Use the Fix-it to insert the <code class="code-voice">required</code> keyword.
<br><span class="jpstr">
Fix-itを使って<code class="code-voice">required</code>キーワードを挿入してください。
</span><!--end_jpstr-->
</p>
<div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_30"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">Swift handles initializers differently than other methods. If you don’t provide any initializers, Swift classes automatically inherit all of their super class’s designated initializers. If you implement any initializers, you not longer inherit any of the superclasses initializers; however, the superclass can mark one or more of its initializers as <code class="code-voice">required</code>. The subclass must implement (or automatically inherit) all of the required initializers. Furthermore, the subclass must mark their initializers as <code class="code-voice">required</code>, indicating that their subclasses must also implement the initializers.
    	<br><span class="jpstr">
Swiftは、イニシャライザを他のメソッドとは異なって扱います。あなたが何らイニシャライザを提供しないならば、Swiftのクラスは自動的にそれらのスーパークラスの持つ指定イニシャライザの全てを継承します。あなたが何らかのイニシャライザを実装するならば、あなたはもはやスーパークラスイニシャライザのどれも継承しません；しかしながら、スーパークラスはひとつ以上のそれのイニシャライザを<code class="code-voice">required</code>と印することができます。サブクラスは、必須イニシャライザの全てを実装（または自動的に継承）しなければなりません。さらにその上、サブクラスはそれらのイニシャライザを<code class="code-voice">required</code>と印して、それらのサブクラスもまたそれらイニシャライザを実装する必要があることを指し示さなければなりません。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div>
</li><li class="item"><p class="para">
  Add this line to call the superclass’s initializer.
<br><span class="jpstr">
この行を加えてスーパークラスのイニシャライザを呼び出してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">coder</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ol><p class="para">
  The initializers should look like this:
<br><span class="jpstr">
それらイニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">init</span>(<span class="vc">frame</span>: <span class="n"><!-- a href="" -->CGRect<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">frame</span>: <span class="vc">frame</span>)</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>(<span class="vc">coder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">coder</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  Right now, your initializers are placeholders that simply call the superclass’s implementation. You will add additional configuration steps later in this lesson.
<br><span class="jpstr">
今のところ、あなたのイニシャライザはプレースホルダであり、単にスーパークラスの持つ実装を呼び出します。あなたは、追加的な構成設定行程をこのレッスンの後で加えます。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW5"></a>
  <h3 class="section-name" tabindex="0">Display the Custom View<br><span class="jpstr">
カスタムビューの表示
</span><!--end_jpstr-->
</h3>
  <p class="para">
  To display your custom control, you need to add a stack view to your storyboard and establish a connection between the stack view and the code you just wrote.
<br><span class="jpstr">
あなたのカスタムコントロールを画面表示するには、あなたはあるスタックビューをあなたのストーリーボードに加えて、連結をスタックビューとあなたがちょうど書いたコードとの間に確立する必要があります。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To display the view<br><span class="jpstr">
ビューを表示するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open your storyboard.
<br><span class="jpstr">
あなたのストーリーボードを開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In your storyboard, use the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW54" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW54">Object library</a></span> to find a Horizontal Stack View object, and drag one into your storyboard scene so that it’s in the stack view below the image view.
<br><span class="jpstr">
あなたのストーリボードにおいて、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW54" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW54">オブジェクトライブラリ</a></span>を使うことで、Horizontal Stack Viewオブジェクトを見つけて、それをあなたのストーリーボードシーンへとドラッグしてそれがスタックビューの中でイメージビューの下になるようにしてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_addhorizontalstack_2x.png" alt="image: ../Art/ICC_addhorizontalstack_2x.png" width="417" height="712" />
</figure>
</li><li class="item"><p class="para">
  With the horizontal stack view selected, open the Identity inspector <img class="inline-graphic" src="Art/inspector_identity_2x.png" alt="image: ../Art/inspector_identity_2x.png" width="16" height="16" />.
<br><span class="jpstr">
水平スタックビューが選択された状態で、Identityインスペクタ<img class="inline-graphic" src="Art/inspector_identity_2x.png" alt="image: ../Art/inspector_identity_2x.png" width="16" height="16" />を開いてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  Recall that the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW80" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW80">Identity inspector</a></span> lets you edit properties of an object in your storyboard related to that object’s identity, such as what class the object belongs to.
<br><span class="jpstr">
思い出してください、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW80" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW80">同一性インスペクタ</a></span>は、あなたにあなたのストーリーボードのあるオブジェクトのプロパティをそのオブジェクトの同一性に関して、例えばどのクラスにそのオブジェクトが所属するかなどを、編集させます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_inspector_identity_2x.png" alt="image: ../Art/ICC_inspector_identity_2x.png" width="272" height="515" />
</figure>
</li><li class="item"><p class="para">
  In the Identity inspector, find the field labeled Class and select <code class="code-voice">RatingControl</code>.
<br><span class="jpstr">
同一性インスペクタにおいて、Classとラベルをつけられる欄を探して<code class="code-voice">RatingControl</code>を選択してください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_identity_ratingcontrol_2x.png" alt="image: ../Art/ICC_identity_ratingcontrol_2x.png" width="272" height="477" />
</figure>
</li>
</ol>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW8"></a>
  <h3 class="section-name" tabindex="0">Add Buttons to the View<br><span class="jpstr">
ボタンをビューに加える
</span><!--end_jpstr-->
</h3>
  <p class="para">
  At this point, you’ve got the basics of a custom <code class="code-voice">UIStackView</code> subclass, called <code class="code-voice">RatingControl</code>. Next, you need to add buttons to your view to allow the user to select a rating. Start with something simple, like getting a single red button to show up in your view.
<br><span class="jpstr">
この時点で、あなたは基本的なカスタム<code class="code-voice">UIStackView</code>サブクラス、<code class="code-voice">RatingControl</code>と呼ばれるものを手に入れています。次に、あなたが必要とするのは、ボタンをあなたのビューに加えてユーザが格付けを選べるようにすることです。始めに簡単なことをします、例えばひとつだけ赤いボタンをあなたのビューに表示させることのような。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To create a button in your view<br><span class="jpstr">
ボタンをあなたのビューの中に作成するには
</span><!--end_jpstr-->
</strong>
</p><p class="para">
  Make sure the button is added, regardless of which initializer is called. To do this, add a private method, <code class="code-voice">setupButtons()</code>, and call that method from both initializers.
<br><span class="jpstr">
ボタンが加えられることを確認してください、どのイニシャライザが呼ばれるかに構わずに。これを行うには、プライベートメソッド、<code class="code-voice">setupButtons()</code>を加えて、そのメソッドを両方のイニシャライザが呼び出してください。
</span><!--end_jpstr-->
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, under the initializer methods, add this comment.
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、そのイニシャライザメソッドの下で、このコメントを加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">//MARK: Private Methods</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Use the space below this comment to create private methods—methods with the <code class="code-voice">private</code> modifier before the <code class="code-voice">func</code> introducer. Private methods can only be called by code within the declaring class. This lets you encapsulate and protect methods, ensuring that they are not unexpectedly or accidentally called from the outside.
<br><span class="jpstr">
このコメントの下の空間を使ってプライベートメソッド — <code class="code-voice">private</code>修飾子を<code class="code-voice">func</code>導入子の前に持つメソッド、を作成してください。プライベートメソッドは、宣言しているクラス内のコードによってのみ呼び出されることができます。これは、あなたにメソッドをカプセル化させて保護させて、それらが思いがけなくまたは誤って外側から呼び出されないのを保証します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Under the comment, add the following method:
<br><span class="jpstr">
コメントの下で、以下のメソッドを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  In the <code class="code-voice">setupButtons()</code> method, add the following lines of code to create a red button:
<br><span class="jpstr">
<code class="code-voice">setupButtons()</code>メソッドにおいて、以下のコード行を加えることで赤いボタンを作成してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Create the button</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Here, you are using one of the <code class="code-voice">UIButton</code> class’s convenience initializers. This initializer calls <code class="code-voice">init(frame:)</code> and passes in a zero-sized rectangle. Starting with a zero-sized button is fine, because you’re using Auto Layout. The stack view will automatically define the button’s position, and you will add constraints to define the button’s size.
<br><span class="jpstr">
ここで、あなたは<code class="code-voice">UIButton</code>クラスの持つ便宜イニシャライザの１つを使っています。このイニシャライザは、<code class="code-voice">init(frame:)</code>を呼び出して大きさゼロの長方形を渡します。大きさゼロのボタンで始めることは非常に良いことです、なぜならあなたは「自動レイアウト」を使うからです。スタックビューは、自動的にボタンの位置を定義します、そしてあなたは制約を加えることでボタンの大きさを定義します。
</span><!--end_jpstr-->
</p>
<p class="para">
  You are using <code class="code-voice">red</code> so it’s easy to see where the view is. If you’d like, use one of the other predefined <code class="code-voice">UIColor</code> values instead, like <code class="code-voice">blue</code> or <code class="code-voice">green</code>.
<br><span class="jpstr">
あなたは<code class="code-voice">red</code>を使っています、なのでビューがあるところを確認するのは簡単です。あなたが好むならば、他の既定の<code class="code-voice">UIColor</code>値の内の１つを代わりに使ってください、<code class="code-voice">blue</code>や<code class="code-voice">green</code>のように。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Below the last line, add the button’s constraints:
<br><span class="jpstr">
最後の行の下、ボタンの持つ制約を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The first line of code disables the button’s automatically generated constraints. When you programmatically instantiate a view, its <code class="code-voice">translatesAutoresizingMaskIntoConstraints</code> property defaults to <code class="code-voice">true</code>. This tells the layout engine to create constraints that define the view’s size and position based on the view’s <code class="code-voice">frame</code> and <code class="code-voice">autoresizingmask</code> properties. Typically, when you are using Auto Layout, you want to replace these autogenerated constraints with your own. To remove the autogenerated constraints, set the <code class="code-voice">translatesAutoresizingMaskIntoConstraints</code> property to <code class="code-voice">false</code>.
<br><span class="jpstr">
コードの最初の行は、ボタンの持つ自動生成の制約を作動しないようにします。あなたがプログラム的にビューをインスタンス化する場合、それの<code class="code-voice">translatesAutoresizingMaskIntoConstraints</code>プロパティは初期状態で<code class="code-voice">true</code>になります。これは、レイアウトエンジンに制約を作成するように言い、それはビューの大きさと位置をビューの<code class="code-voice">frame</code>と<code class="code-voice">autoresizingmask</code>プロパティに基づいて定義します。一般的に、あなたが自動レイアウトを使っている場合、あなたはこれら自動生成される制約をあなた独自のものと置き換えたいでしょう。自動生成された制約を取り除くために、<code class="code-voice">translatesAutoresizingMaskIntoConstraints</code>プロパティを<code class="code-voice">false</code>に設定してください。
</span><!--end_jpstr-->
</p>
<div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_31"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">This line is not strictly necessary. When you add a view to a stack view, the stack view automatically sets the view’s <code class="code-voice">translatesAutoresizingMaskIntoConstraints</code> property to <code class="code-voice">false</code>. However, when using Auto Layout, it’s a good habit to explicitly disable the autogenerated constraints whenever you programmatically create a view. That way you won’t accidentally forget to disable them when it actually matters.
    	<br><span class="jpstr">
この行は、厳密には必要ではありません。あなたがあるビューをスタックビューに加える場合、そのスタックビューは自動的にビューの持つ<code class="code-voice">translatesAutoresizingMaskIntoConstraints</code>プロパティを<code class="code-voice">false</code>に設定します。しかしながら、「自動レイアウト」を使っている場合、あなたがプログラム的にビューを作成するたびごとに明示的に自動生成制約を作動しないようにするのは良い習慣です。そのようにしてあなたはそれが実際に重要である時それらを作動しないようにするのを誤って忘れないでしょう。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div>
<p class="para">
  The lines starting with <code class="code-voice">button.heightAnchor</code> and <code class="code-voice">button.widthAnchor</code> create the constraints that define the button’s height and width. Each line performs the following steps:
<br><span class="jpstr">
<code class="code-voice">button.heightAnchor</code>と<code class="code-voice">button.widthAnchor</code>で始まる行は制約を作成するもので、ボタンの持つ高さと幅を定義します。各行は以下の行程を実行します：
</span><!--end_jpstr-->
</p>
<ol class="list-number">
  <li class="item"><p class="para">
  The button’s <code class="code-voice">heightAnchor</code> and <code class="code-voice">widthAnchor</code> properties give access to layout anchors. You use layout anchors to create constraints—in this case, constraints that define the view’s height and width, respectively.
<br><span class="jpstr">
ボタンの持つ<code class="code-voice">heightAnchor</code>と<code class="code-voice">widthAnchor</code>プロパティはレイアウトアンカーにアセクスさせます。あなたは、レイアウトアンカーを使って制約を作成します — この場合には、それぞれビューの高さと幅を定義する制約。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  The anchor’s <code class="code-voice">constraint(equalToConstant:)</code> method returns a constraint that defines a constant height or width for the view.
<br><span class="jpstr">
アンカーの持つ<code class="code-voice">constraint(equalToConstant:)</code>メソッドは、ビューのための定数で高さまたは幅を定義する制約を返します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  The constraint’s <code class="code-voice">isActive</code> property activates or deactivates the constraint. When you set this property to <code class="code-voice">true</code>, the system adds the constraint to the correct view, and activates it.
<br><span class="jpstr">
制約の持つ<code class="code-voice">isActive</code>プロパティは、制約を活性化または非活性化します。あなたがこのプロパティを<code class="code-voice">true</code>に設定する場合、システムは制約を正しいビューに加えます、そしてそれを活性化します。
</span><!--end_jpstr-->
</p>
</li>
</ol>
<p class="para">
  Together, these lines define the button as a fixed-size object in your layout (44 point x 44 point). 
<br><span class="jpstr">
合わせて、これらの行はボタンをあなたのレイアウトの中の規定サイズオブジェクト（44ポイント × 44ポイント）として定義します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Finally, add the button to the stack:
<br><span class="jpstr">
最後に、ボタンをスタックに加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice"><span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The <code class="code-voice">addArrangedSubview()</code> method adds the button you created to the list of views managed by the <code class="code-voice">RatingControl</code> stack view. This action adds the view as a subview of the <code class="code-voice">RatingControl</code>, and also instructs the <code class="code-voice">RatingControl</code> to create the constraints needed to manage the button’s position within the control.
<br><span class="jpstr">
<code class="code-voice">addArrangedSubview()</code>メソッドは、あなたが作成したボタンを<code class="code-voice">RatingControl</code>スタックビューによって管理されるビューのリストに加えます。このアクションは、ビューを<code class="code-voice">RatingControl</code>のサブビューとして加えます、そしてまたボタンの位置をコントロール内で管理するのに必要とされる制約を<code class="code-voice">RatingControl</code>に作成するよう指示します。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">setupButtons()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">setupButtons()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">    <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  Now call this method from both initialization methods, as shown below:
<br><span class="jpstr">
次にこのメソッドを両方の初期化メソッドから呼び出してください、下で示すように：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">init</span>(<span class="vc">frame</span>: <span class="n"><!-- a href="" -->CGRect<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">frame</span>: <span class="vc">frame</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">setupButtons</span>()</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">init</span>(<span class="vc">coder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">coder</span>: <span class="vc">coder</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">setupButtons</span>()</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. You should be able to see a view with a small red square inside of it. The red square is the button you added in the initializer.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたは、ビューと一緒に小さな赤い四角をそれの内部に見ることができるはずです。この赤い四角は、あなたがイニシャライザに加えたボタンです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_sim_1redbutton_2x.png" alt="image: ../Art/ICC_sim_1redbutton_2x.png" width="387" height="679" />
</figure><p class="para">
  You need to add an action for this button (and for the other buttons you’ll be adding later). Eventually, you will use this button to change the meal’s rating; however, for now you’ll just check that the action is working.
<br><span class="jpstr">
あなたは、あるアクションをこのボタンに（そしてあなたが後で加えることになる他のボタンに）加える必要があります。最後には、あなたはこのボタンを使って食事の持つ格付けを変更します；しかしながら、今のところはあなたは単にアクションが働いているかを確認するだけです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add an action to the button<br><span class="jpstr">
アクションをボタンに加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, after the <code class="code-voice">//MARK Initialization</code> section, add the following:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">//MARK Initialization</code>セクションの後、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">//MARK: Button Action</span></code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Under the comment, add the following:
<br><span class="jpstr">
このコメントの下で、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">print</span>(<span class="s">&quot;Button pressed 👍&quot;</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Use the <code class="code-voice">print()</code> function to check that the <code class="code-voice">ratingButtonTapped(_:)</code> action is linked to the button as expected. This function prints a message to the standard output, which in this case is the Xcode debug <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW86" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW86">console</a></span>. The console is a useful debugging mechanism that appears at the bottom of the editor area.
<br><span class="jpstr">
<code class="code-voice">print()</code>関数を使って<code class="code-voice">ratingButtonTapped(_:)</code>アクションが期待されるようにボタンとリンクされるか確認してください。この関数は、あるメッセージを標準出力に印字します、それはこの場合ではXcodeデバッグ<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW86" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW86">コンソール</a></span>になります。コンソールは、有用なデバッグの仕組みです、それはエディタ区画の下に現れます。
</span><!--end_jpstr-->
</p>
<p class="para">
  You’ll replace this debugging implementation with a real implementation in a little while.
<br><span class="jpstr">
あなたは、このデバック実装を実際の実装としばらくして置き換えます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Find the <code class="code-voice">setupButtons()</code> method:
<br><span class="jpstr">
<code class="code-voice">setupButtons()</code>メソッドを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">    <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Just above the <code class="code-voice">// Add the button to the stack</code> comment, add the following code:
<br><span class="jpstr">
<code class="code-voice">// Add the button to the stack</code>コメントのすぐ上に、以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  In the previous lesson, you used the target-action pattern to link elements in your storyboard to action methods in your code. The <code class="code-voice">addTarget(_, action:, for:)</code> method does the same thing in code. You’re attaching the <code class="code-voice">ratingButtonTapped(_:)</code> action method to the <code class="code-voice">button</code> object, which will be triggered whenever the <code class="code-voice">.TouchDown</code> event occurs.
<br><span class="jpstr">
以前のレッスンにおいて、あなたはターゲットアクションパターンを使ってあなたのストーリーボードの中の要素をあなたのコードの中のメソッドとリンクしました。<code class="code-voice">addTarget(_, action:, for:)</code>メソッドは、同じことをコードの中で行います。あなたは、<code class="code-voice">ratingButtonTapped(_:)</code>アクションを<code class="code-voice">button</code>オブジェクトに取り付けています、それは<code class="code-voice">.TouchDown</code>イベントが起こるたびに作動させられます。
</span><!--end_jpstr-->
</p>
<p class="para">
  There’s a lot going on in this code. Here’s a breakdown:
<br><span class="jpstr">
このコードにおいて多くのことが起こります。ここにはある断絶があります：
</span><!--end_jpstr-->
</p>
<ul class="list-bullet">
  <li class="item"><p class="para">
  The target is <code class="code-voice">self</code>, which refers to the current instance of the enclosing class. In this case, it refers to the <code class="code-voice">RatingControl</code> object that is setting up the buttons.
<br><span class="jpstr">
ターゲットは<code class="code-voice">self</code>です、それは周りを囲んでいるクラスの現在のインスタンスを参照します。この場合には、それはボタンを設定している<code class="code-voice">RatingControl</code>オブジェクトを参照します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">#selector</code> expression returns the <code class="code-voice">Selector</code> value for the provided method. A selector is an opaque value that identifies the method. Older APIs used selectors to dynamically invoke methods at runtime. While newer APIs have largely replaced selectors with blocks, many methods—like <code class="code-voice">performSelector(_:)</code> and <code class="code-voice">addTarget(_:action:forControlEvents:)</code>—still take selectors as arguments. In this example, the <code class="code-voice">#selector(RatingControl.ratingButtonTapped(_:))</code> expression returns the selector for your <code class="code-voice">ratingButtonTapped(_:)</code> action method. This lets the system call your action method when the button is tapped.
<br><span class="jpstr">
<code class="code-voice">#selector</code>式は、与えられたメソッドに対する<code class="code-voice">Selector</code>値を返します。セレクタは、メソッドを識別する不透明な値です。古いAPIは、実行時に動的にメソッドを発動するためにセレクタを使いました。新しいAPIが大部分はセレクタをブロックで置き換える一方で、多くのメソッドは — <code class="code-voice">performSelector(_:)</code>および<code class="code-voice">addTarget(_:action:forControlEvents:)</code>などは — 依然としてセレクタを引数として取ります。この例において、<code class="code-voice">#selector(RatingControl.ratingButtonTapped(_:))</code>式はあなたの<code class="code-voice">ratingButtonTapped(_:)</code>アクションメソッドに対するセレクタを返します。これは、システムにあなたのアクションメソッドをボタンがタップされる時に呼び出させます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">UIControlEvents</code> option set defines a number of events that controls can respond to. Typically buttons respond to the <code class="code-voice">.touchUpInside</code> event. This occurs when the user touches the button, and then lifts their finger while the finger is still within the button’s bounds. This event has an advantage over <code class="code-voice">.touchDown</code>, because the user can cancel the event by dragging their finger outside the button before lifting it.
<br><span class="jpstr">
<code class="code-voice">UIControlEvents</code>オプションセットは、コントロールが応答することができる多くのイベントを定義します。一般的にボタンは<code class="code-voice">.touchUpInside</code>イベントに応答します。これは、ユーザがボタンをタッチして、それから指がまだボタンの境界線内にある間に彼らの指を持ち上げる時に発生します。このイベントには<code class="code-voice">.touchDown</code>の長所があります、なぜならユーザがイベントをキャンセルすることが彼らの指をボタンの外側にそれを持ち上げる前にドラッグすることで可能だからです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Note that because you’re not using Interface Builder, you don’t need to define your action method with the <code class="code-voice">IBAction</code> attribute; you just define the action like any other method. You can use a method that takes no arguments, that takes a single sender argument, or that takes both a sender and an event argument.
<br><span class="jpstr">
注意することは、あなたがインターフェイスビルダーを使っていないことです、あなたがしなくていもいいのは、あなたのアクションメソッドを<code class="code-voice">IBAction</code>属性とともに定義することです；あなたは単にこのアクションをあらゆる 他のメソッドと同じように定義します。あなたは、引数を取らない、単一のセンダー引数を取る、またはセンダーとイベント引数の両方を取る、あるメソッドを使うことができます。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">doSomething</span>()</code></li>
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">doSomething</span>(<span class="vc">sender</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>)</code></li>
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">doSomething</span>(<span class="vc">sender</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>, <span class="vc">forEvent</span> <span class="vc">event</span>: <span class="n"><!-- a href="" -->UIEvent<!-- /a --></span>)</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ul>
</li>
</ol><p class="para">
  Your <code class="code-voice">setupButtons()</code> method should now look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">setupButtons()</code>は、今やこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">    <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. When you click the red square, you should see the “Button pressed” message in the console.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたが赤い四角をクリックする時、あなたは「Button pressed」メッセージをコンソールにおいて見るはずです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_console_buttonpressed_2x.png" alt="image: ../Art/ICC_console_buttonpressed_2x.png" width="680" height="467" />
</figure><p class="para">
  Now it’s time to think about what pieces of information the <code class="code-voice">RatingControl</code> class needs to have in order to represent a rating. You’ll need to keep track of a rating value, as well as the buttons that a user taps to set that rating. You can represent the rating value with an <code class="code-voice">Int</code>, and the buttons as an array of <code class="code-voice">UIButton</code> objects.
<br><span class="jpstr">
今や<code class="code-voice">RatingControl</code>クラスが格付けを表すために持つ必要がある情報の部品は何かについて考える時です。あなたが必要とするのは、格付けの値の、それだけでなくユーザがその格付けを設定するためにタップするボタンの、最新の状態を把握することです。あなたは、格付けの値を<code class="code-voice">Int</code>を使って、そしてボタンを<code class="code-voice">UIButton</code>オブジェクトの配列として表すことができます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add rating properties<br><span class="jpstr">
格付けプロパティを加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the class declaration line:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、クラス定義行を見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">RatingControl</span>: <span class="n"><!-- a href="" -->UIView<!-- /a --></span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Below this line, add the following code:
<br><span class="jpstr">
この行の下に、以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">//MARK: Properties</span></code></li>
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">var</span> <span class="vc">ratingButtons</span> = [<span class="vc">UIButton</span>]()</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">rating</span> = <span class="m">0</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This creates two properties. The first is a  property that contains the list of buttons. You don’t want to let anything outside the <code class="code-voice">RatingControl</code> class access these buttons; therefore, you declare them as private. 
<br><span class="jpstr">
これは、２つのプロパティを作成します。最初のものは、ボタンのリストを含むプロパティです。あなたは、<code class="code-voice">RatingControl</code>クラスの外側のどんなものもそれらのボタンにアクセスするのを望みません；それゆえにあなたはそれらをプライベートとして定義します。
</span><!--end_jpstr-->
</p>
<p class="para">
  The Second property contains the control’s rating. You need to be able to both read and write this value from outside this class. By leaving it as internal access (the default), you can access it from any other class inside the app.
<br><span class="jpstr">
２番目のプロパティは、コントロールの持つ格付けを含みます。あなたは、この値の読み書き両方をこのクラスの外部から可能にする必要があります。それを内部アクセス（初期状態）のままにしておくことによって、あなたはそれにアプリの内部の何らかの他のクラスからアクセスできます。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Right now, you have one button in the view, but you need five total. To create a total of five buttons, use a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop. A <code class="code-voice">for</code>-<code class="code-voice">in</code> loop iterates over a sequence, such as ranges of numbers, to execute a set of code multiple times. Instead of creating one button, the loop will create five.
<br><span class="jpstr">
今のところ、あなたはひとつのボタンをこのビューに持ちます、しかしあなたが必要なのは全部で５つです。合計５つのボタンを作成するために、<code class="code-voice">for</code>-<code class="code-voice">in</code>ループを使ってください。<code class="code-voice">for</code>-<code class="code-voice">in</code>ループは、あるシーケンス（列、一続きのもの）のすべてに渡って繰り返して行きます、例えばある範囲の数などに対して、そうして一組にされたコードを複数回実行します。１つのボタンを作成するのではなく、このループは５つ作成します。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To create a total of five buttons<br><span class="jpstr">
合計５つのボタンを作成するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the <code class="code-voice">setupButtons()</code> method, and add a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop around the method’s contents, like this:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">setupButtons()</code>メソッドを見つけてください、<code class="code-voice">for</code>-<code class="code-voice">in</code>ループをこのメソッドの内容の周りに加えてください、このように：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="m">5</span> {</code></li>
            <li><code class="code-voice">    <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">    <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Make sure the lines in the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop are indented properly by selecting all of them and pressing Control-I.
<br><span class="jpstr">
<code class="code-voice">for</code>-<code class="code-voice">in</code>ループの中の行が、それらの全てを選択してコントロール-Iを押すことによってふさわしく字下げされることを確かめてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW94" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW94">half-open range operator</a></span> (<code class="code-voice">..&lt;</code>) doesn’t include the upper number, so this range goes from <code class="code-voice">0</code> to <code class="code-voice">4</code> for a total of five loop iterations, drawing five buttons instead of just one. The underscore (<code class="code-voice">_</code>) represents a wildcard, which you can use when you don’t need to know which iteration of the loop is currently executing. 
<br><span class="jpstr">
<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW94" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW94">半開範囲演算子</a></span>（<code class="code-voice">..&lt;</code>）は、高い方の数を含みません、それでこの範囲は<code class="code-voice">0</code>から<code class="code-voice">4</code>になり合計５回ループを繰り返して、５つのボタンを描画します、１つではなく。アンダースコア（<code class="code-voice">_</code>）は、ワイルドカード（万能札）を表します、それはループのどの繰り返しが現在実行されているかをあなたが知る必要がない時に使うことができるものです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add the following just above the for-in loop’s closing curly brace (}).
<br><span class="jpstr">
以下をfor-inループの閉じ波確固（}）のすぐ上に加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Add the new button to the rating button array</span></code></li>
            <li><code class="code-voice"><span class="vc">ratingButtons</span>.<span class="vc">append</span>(<span class="vc">button</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  As you create each button, you add it to the <code class="code-voice">ratingButtons</code> array to keep track of it.
<br><span class="jpstr">
あなたが各ボタンを作成するとき、あなたはそれを<code class="code-voice">ratingButtons</code>配列に加えてそれの最新の状態を把握するようにします。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">setupButtons()</code> method should now look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">setupButtons()</code>は、今やこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="m">5</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="m">44.0</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">        <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the new button to the rating button array</span></code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span>.<span class="vc">append</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. Notice how the stack view lays out the buttons. They are arranged horizontally, but there’s no space between them—making them look like a single, red block.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。どのようにスタックビューがボタンを配置するかにしてください。それらは横には整えられます、しかしそれらの間の空きがありません — それらは単一の、赤いブロックのように見えます。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_buttonswithoutspace_2x.png" alt="image: ../Art/ICC_buttonswithoutspace_2x.png" width="387" height="679" />
</figure><p class="para">
  To fix this, open <code class="code-voice">Main.storyboard</code> and select the <code class="code-voice">RatingControl</code> stack view. Open the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW19" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW19">Attributes inspector</a></span> <img class="inline-graphic" src="Art/inspector_attributes_2x.png" alt="image: ../Art/inspector_attributes_2x.png" width="16" height="16" />, and set the Spacing attribute to <code class="code-voice">8</code>.
<br><span class="jpstr">
これを修正するために、<code class="code-voice">Main.storyboard</code>を開いて<code class="code-voice">RatingControl</code>スタックビューを選択してください。<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW19" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW19">Attributesインスペクタ</a></span> <img class="inline-graphic" src="Art/inspector_attributes_2x.png" alt="image: ../Art/inspector_attributes_2x.png" width="16" height="16" />を開いて、Spacing属性を<code class="code-voice">8</code>に設定してください。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_setstackspacing_2x.png" alt="image: ../Art/ICC_setstackspacing_2x.png" width="272" height="321" />
</figure><p class="para">
  <em>Checkpoint</em>: Run your app again. Now, the buttons should be laid out as expected. Note, clicking any of the buttons at this point should still call the <code class="code-voice">ratingButtonTapped(button:)</code> method and log the message to the console. 
<br><span class="jpstr">
<em>確認点</em>：再びあなたのアプリを実行します。今では、ボタンは期待されるように配置されるはずです。注意してください、何らかのボタンをこの時点でクリックすることはまだ<code class="code-voice">ratingButtonTapped(button:)</code>メソッドを呼び出さず、コンソールにメッセージを記録します。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_sim_5redbuttons_2x.png" alt="image: ../Art/ICC_sim_5redbuttons_2x.png" width="387" height="679" />
</figure><p class="para">
  To collapse the console, use the Debug area toggle.
<br><span class="jpstr">
コンソールを折り畳むためには、Debug区画切り替えボタンを使ってください。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/debug_toggle_2x.png" alt="image: ../Art/debug_toggle_2x.png" width="300" height="94" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_8"></a>
  <h3 class="section-name" tabindex="0">Add Support for Interface Builder<br><span class="jpstr">
Interface Builderに対するサポートを加える
</span><!--end_jpstr-->
</h3>
  <p class="para">
  If you look at the rating control in Interface Builder, you’ll notice that it’s displayed as a large, empty rectangle. Worse yet, if you select the rating control, its bounding box turns red, indicating that there’s a problem with the control’s layout. In fact, there are two other indications that something might be wrong. There’s a yellow warning triangle in the right side of the Activity viewer. There’s also a red error icon beside the View Controller Scene in the Outline view.
<br><span class="jpstr">
あなたが格付けコントロールをInterface Builderで見つけるならば、あなたはそれが大きな、空の長方形として表示されるのに気づくでしょう。まだ悪いことに、あなたが格付けコントロールを選択するならば、それの境界ボックスは赤になり、コントロールのレイアウトで問題があることを指し示しています。事実、何か間違っているかもしれないことを指し示すものが他に２つあります。黄色い警告三角形がActivityビューアの右端にあります。また赤いエラーアイコンがView Controller Sceneの隣にOutlineビューにおいて存在します。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_errorsandwarnings_2x.png" alt="image: ../Art/ICC_errorsandwarnings_2x.png" width="680" height="465" />
</figure><p class="para">
  If you click these icons, Xcode shows additional information about the errors and warnings.
<br><span class="jpstr">
あなたがそれらのアンコンをクリックするならば、Xcodeはエラーと警告について追加情報を示します。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_ambiguouslayoutwarning_2x.png" alt="image: ../Art/ICC_ambiguouslayoutwarning_2x.png" width="229" height="165" />
</figure><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_missingconstrainterror_2x.png" alt="image: ../Art/ICC_missingconstrainterror_2x.png" width="282" height="149" />
</figure><p class="para">
  In both cases, the root cause is the same. Interface Builder does not know anything about the contents of your rating control. To fix this, you define the control as <code class="code-voice">@IBDesignable</code>. This lets Interface Builder instantiate and draw a copy of your control directly in the canvas. Additionally, now that Interface Builder has a live copy of your control, its layout engine can properly position and size the control.
<br><span class="jpstr">
両方の場合において、根本的原因は同じです。Interface Builderは、あなたの格付けコントロールの内容について何も知りません。これを修正するために、あなたはコントロールを<code class="code-voice">@IBDesignable</code>として定義します。これは、Interface Builderにあなたのコントロールのコピーを直接にキャンバスの中にインスタンス化させて描画させます。加えて、Interface Builderがあなたのコントロールの本物のコピーを持つ今では、それのレイアウトエンジンは適切にコントロールの位置と大きさを決めます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To declare the control as @IBDesignable<br><span class="jpstr">
コントロールを@IBDesignableとして宣言するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the class declaration:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、クラス宣言を見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">RatingControl</span>: <span class="n"><!-- a href="" -->UIStackView<!-- /a --></span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Add <code class="code-voice">@IBDesignable</code> to  the beginning of the line as shown:
<br><span class="jpstr">
<code class="code-voice">@IBDesignable</code>を行の始まりに次に示すように加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">@IBDesignable</span> <span class="kt">class</span> <span class="vc">RatingControl</span>: <span class="n"><!-- a href="" -->UIStackView<!-- /a --></span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Rebuild the project by typing Command-B (or choosing Product &gt; Build).
<br><span class="jpstr">
プロジェクトをコマンド-Bをタイプすること（またはProduct &gt; Buildを選ぶこと）によって再ビルドしてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Open <code class="code-voice">Main.storyboard</code>. Once the build completes, the storyboard shows a live view of your rating control.
<br><span class="jpstr">
<code class="code-voice">Main.storyboard</code>を開いてください。一旦ビルドが完了したならば、ストーリーボードはあなたの格付けコントロールのライブビューを示します。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_designableliveview_2x.png" alt="image: ../Art/ICC_designableliveview_2x.png" width="418" height="712" />
</figure>
<p class="para">
  Notice that the canvas now correctly sizes and places your <code class="code-voice">RatingControl</code> view. As a result, the warnings and errors are now gone.
<br><span class="jpstr">
キャンバスが今では正確にあなたの<code class="code-voice">RatingControl</code>ビューの大きさと場所を決めることに注意してください。結果として、警告とエラーは今では去りました。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Interface Builder can do more than just display your custom view. You can also specify properties that can then be set in the Attributes inspector. Add the <code class="code-voice">@IBInspectable</code> attribute to the desired properties. Interface Builder supports the inspection of basic types (and their corresponding optionals), including: Booleans, numbers, strings, as well as <code class="code-voice">CGRect</code>, <code class="code-voice">CGSize</code>, <code class="code-voice">CGPoint</code>, and <code class="code-voice">UIColor</code>.
<br><span class="jpstr">
Interface Builderは、あなたのカスタムビューを表示するだけでなくもっと多くを行うことができます。あなたはまた幾つかのプロパティを指定でき、それらは後でAttributesインスペクタで設定されることができます。<code class="code-voice">@IBInspectable</code>属性を望むプロパティに加えてください。Interface Builderは、基本的な型（およびそれらの関連するオプショナル）の調査をサポートします、含むのは：ブール、数、文字列、それだけでなく<code class="code-voice">CGRect</code>、<code class="code-voice">CGSize</code>、<code class="code-voice">CGPoint</code>、そして<code class="code-voice">UIColor</code>。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add inspectable properties<br><span class="jpstr">
調査可能なプロパティを加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, add the following properties to the bottom of the <code class="code-voice">//MARK: Properties</code> section:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、以下のプロパティを<code class="code-voice">//MARK: Properties</code>セクションのボタンに加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">@IBInspectable</span> <span class="kt">var</span> <span class="vc">starSize</span>: <span class="n"><!-- a href="" -->CGSize<!-- /a --></span> = <span class="vc">CGSize</span>(<span class="vc">width</span>: <span class="m">44.0</span>, <span class="vc">height</span>: <span class="m">44.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">@IBInspectable</span> <span class="kt">var</span> <span class="vc">starCount</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">5</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  These lines define the size of your buttons and the number of buttons in your control.
<br><span class="jpstr">
これらの行は、あなたのボタンの大きさとあなたのコントロールの中のボタンの数を定義します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Now you need to use these values. Locate the <code class="code-voice">setupButtons()</code> method, and make the following changes:
<br><span class="jpstr">
今度はあなたはこれらの値を使うことを必要とします。<code class="code-voice">setupButtons()</code>メソッドの位置を突き止めて、以下の変更をしてください：
</span><!--end_jpstr-->
</p>
<ol class="list-number">
  <li class="item"><p class="para">
  In the <code class="code-voice">for</code>-<code class="code-voice">in</code> declaration, change <code class="code-voice">5</code> to <code class="code-voice">starCount</code>.
<br><span class="jpstr">
<code class="code-voice">for</code>-<code class="code-voice">in</code>宣言において、<code class="code-voice">5</code>を<code class="code-voice">starCount</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">button.heightAnchor.constraint()</code> method call, change <code class="code-voice">44.0</code> to <code class="code-voice">starSize.height</code>.
<br><span class="jpstr">
<code class="code-voice">button.heightAnchor.constraint()</code>メソッド呼び出しにおいて、<code class="code-voice">44.0</code>を<code class="code-voice">starSize.height</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">button.widthAnchor.constraint()</code> method call, change <code class="code-voice">44.0</code> to <code class="code-voice">starSize.width</code>.
<br><span class="jpstr">
<code class="code-voice">button.widthAnchor.constraint()</code>メソッド呼び出しにおいて、<code class="code-voice">44.0</code>を<code class="code-voice">starSize.width</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li>
</ol>
<p class="para">
  The method should appear as shown below:
<br><span class="jpstr">
メソッドは下に示すように現れるはずです：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">starCount</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">height</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">width</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">        <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the new button to the rating button array</span></code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span>.<span class="vc">append</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  If you switch to the <code class="code-voice">Main.storyboard</code> and select the <code class="code-voice">RatingControl</code>, you’ll see the Star Size and Star Count settings in the Attributes inspector. The dashes indicate that the control is currently using the default values (in this case 44.0 points and 5 stars). However, changing these values does not yet change the control.
<br><span class="jpstr">
あなたが<code class="code-voice">Main.storyboard</code>に切り替えて<code class="code-voice">RatingControl</code>を選択するならば、あなたは、Star SizeとStar Count設定をAttributesインスペクタで見るでしょう。ダッシュは、コントロールが現在は省略時の値を使っていることを示します（この場合44.0ポイントと5スター）。しかしながら、それらの値を変えることはまだコントロールを変えません。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_inspectableattributes_2x.png" alt="image: ../Art/ICC_inspectableattributes_2x.png" width="272" height="272" />
</figure>
</li><li class="item"><p class="para">
  To update the control, you need to reset the control’s buttons every time these attributes change. To do that, add a property observer to each property. A <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW123" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW123">property observer</a></span> observes and responds to changes in a property’s value. Property observers are called every time a property’s value is set, and can be used to perform work immediately before or after the value changes. 
<br><span class="jpstr">
コントロールを更新するには、あなたはコントロールの持つボタンをそれら属性を変えるたびごとに再設定する必要があります。それをするために、プロパティオブザーバを各プロパティに加えてください。<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW123" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW123">プロパティオブザーバ</a></span>（プロパティ監視者）は、監視と応答をあるプロパティの持つ値における変化に対して行います。プロパティオブザーバは、あるプロパティの値が設定される時すべてに呼ばれます、そしてその値が変化する直前または直後に作業を実行するために使われることができます。
</span><!--end_jpstr-->
</p>
<p class="para">
  In <code class="code-voice">RatingControl.swift</code>, modify the inspectable properties as shown below:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、調査可能なプロパティを以下に示すように修正してください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">@IBInspectable</span> <span class="kt">var</span> <span class="vc">starSize</span>: <span class="n"><!-- a href="" -->CGSize<!-- /a --></span> = <span class="vc">CGSize</span>(<span class="vc">width</span>: <span class="m">44.0</span>, <span class="vc">height</span>: <span class="m">44.0</span>) {</code></li>
            <li><code class="code-voice"><span class="kt">didSet</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">setupButtons</span>()</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">@IBInspectable</span> <span class="kt">var</span> <span class="vc">starCount</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">5</span> {</code></li>
            <li><code class="code-voice"><span class="kt">didSet</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">setupButtons</span>()</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Here, you define property observers for the <code class="code-voice">starSize</code> and <code class="code-voice">starCount</code> properties. Specifically, the <code class="code-voice">didSet</code> property observer is called immediately after the property’s value is set. Your implementation then calls the <code class="code-voice">setupButtons()</code> method. This method adds new buttons using the updated size and count; however, the current implementation doesn’t get rid of the old buttons.
<br><span class="jpstr">
ここで、あなたはプロパティオブザーバを<code class="code-voice">starSize</code>と<code class="code-voice">starCount</code>プロパティに対して定義します。具体的には、<code class="code-voice">didSet</code>プロパティオブザーバは、プロパティの値が設定された直後に呼ばれます。あなたの実装は、それから<code class="code-voice">setupButtons()</code>メソッドを呼び出します。このメソッドは、新しいボタンを更新された大きさと数を使って追加します；しかしながら、現在の実装は古いボタンの除去をしません。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  To clear out the old buttons, add the following code to the beginning of the <code class="code-voice">setupButtons()</code> method.
<br><span class="jpstr">
古いボタンを処分するには、以下のコードを<code class="code-voice">setupButtons()</code>メソッドの始まりに加えます。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// clear any existing buttons</span></code></li>
            <li><code class="code-voice"><span class="kt">for</span> <span class="vc">button</span> <span class="kt">in</span> <span class="vc">ratingButtons</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">removeArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">button</span>.<span class="vc">removeFromSuperview</span>()</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"><span class="vc">ratingButtons</span>.<span class="vc">removeAll</span>()</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code iterates over all of the rating control’s buttons. First, it removes the button from the list of views managed by the stack view. This tells the stack view that it should no longer calculate the button’s size and position—but the button is still a subview of the stack view. Next, the code removes the button from the stack view entirely. Finally, once all the buttons have been removed, it clears the <code class="code-voice">ratingButtons</code> array.
<br><span class="jpstr">
このコードは、格付けコントロールの持つボタンのすべてにわたって反復します。まず、それはボタンをスタックビューによって管理されるビューのリストから削除します。これは、スタックビューにそれはもはやボタンの大きさと位置を計算すべきでないことを伝えます — しかしボタンはまだスタックビューのサブビューの１つです。次に、コードはボタンをスタックビューから完全に削除します。最後に、一旦すべてのボタンが削除されてしまうならば、それは<code class="code-voice">ratingButtons</code>配列を片付けます。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <code class="code-voice">setupButtons()</code> method should now appear as shown below:
<br><span class="jpstr">
<code class="code-voice">setupButtons()</code>メソッドは、今では下で示すように現れます：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// clear any existing buttons</span></code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="vc">button</span> <span class="kt">in</span> <span class="vc">ratingButtons</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">removeArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">removeFromSuperview</span>()</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    <span class="vc">ratingButtons</span>.<span class="vc">removeAll</span>()</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">starCount</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">backgroundColor</span> = <span class="vc">UIColor</span>.<span class="vc">red</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">height</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">width</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">        <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the new button to the rating button array</span></code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span>.<span class="vc">append</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_32"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">Ripping out and replacing all of the buttons is not necessarily the best idea from a performance standpoint. However, the <code class="code-voice">didSet</code> observers should only be called by Interface Builder at design time. When the app is running, the <code class="code-voice">setupButtons()</code> method is only called once, when the control is first loaded from the storyboard. Therefore, there’s no need to create a more-complex solution to update the existing buttons in place.
    	<br><span class="jpstr">
すべてのボタンを剥ぎ取って置き換えることは、性能の見地から必ずしも最良のアイデアではありません。しかしながら、<code class="code-voice">didSet</code>オブザーバは、Interface Builderによって設計時に一度だけ呼び出されるべきです。アプリが動作している時、<code class="code-voice">setupButtons()</code>メソッドはただ一度だけ、コントロールが最初にストーリーボードからロードされる時に呼び出されます。それゆえに、既存のボタンをその場で更新するもっと複雑な解決策を作成する必要はありません。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div>
</li>
</ol><p class="para">
  <em>Checkpoint</em>: Open <code class="code-voice">Main.storyboard</code> and select the <code class="code-voice">RatingControl</code> object. Try changing the Star Size and Star Count attributes. The control in the canvas should change to match the new settings. Run the app, and you should see the changes in the simulator.
<br><span class="jpstr">
<em>確認点</em>：<code class="code-voice">Main.storyboard</code>を開いて、<code class="code-voice">RatingControl</code>オブジェクトを選択してください。Star SizeとStar Count属性の変更を試みてください。キャンバスの中のコントロールは、新しい設定に合うように変わるはずです。アプリを実行します、するとあなたはシミュレータにおいて変更を見るはずです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_modifyinginspectableproperties_2x.png" alt="image: ../Art/ICC_modifyinginspectableproperties_2x.png" width="680" height="465" />
</figure><p class="para">
  Be sure to reset these settings to their default values when you are done testing them.
<br><span class="jpstr">
これらの設定をそれらの省略時の値に設定し直すことをあなたがそれらのテストを終えた時に確実にしてください。
</span><!--end_jpstr-->
</p><div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_33"></a>
  <aside class="aside">
    <p class="aside-title">Explore Further
    <br><span class="jpstr">
さらに先を探索
</span><!--end_jpstr-->
</p>
    	<p class="para">For more information on working with custom views, see Lay out user interfaces &gt; Add objects and media &gt; Render custom views in Xcode help.
    	<br><span class="jpstr">
カスタムビューを使っての作業の詳細として、Lay out user interfaces &gt; Add objects and media &gt; Render custom viewsをXcodeヘルプで見てください。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW4"></a>
  <h3 class="section-name" tabindex="0">Add Star Images to the Buttons<br><span class="jpstr">
星の画像をボタンに加える
</span><!--end_jpstr-->
</h3>
  <p class="para">
  Next, you’ll add images of an empty, filled, and highlighted star to the buttons.
<br><span class="jpstr">
今度は、あなたは空の、塗りつぶされた、そして強調された星の画像をボタンに加えます。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_emptyStar_2x.png" alt="image: ../Art/ICC_emptyStar_2x.png" width="75" height="75" />
</figure><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_filledStar_2x.png" alt="image: ../Art/ICC_filledStar_2x.png" width="75" height="75" />
</figure><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_highlightedStar_2x.png" alt="image: ../Art/ICC_highlightedStar_2x.png" width="75" height="75" />
</figure><p class="para">
  You can find the images shown above within the <code class="code-voice">Images/</code> folder of the downloadable file at the end of this lesson, or use your own images. (Make sure the names of the images you use match the image names in the code later.)
<br><span class="jpstr">
あなたは、上で見せた画像をこのレッスンの終わりでダウンロード可能なファイルの<code class="code-voice">Images/</code>フォルダ内で見つけることができます、またはあなた独自の画像を使うことができます。（あなたの使う画像の名前が後のコードでの画像名と一致することを確実にしてください。）
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add images to your project<br><span class="jpstr">
いくらかの画像をあなたのプロジェクトに加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">project navigator</a></span>, select <code class="code-voice">Assets.xcassets</code> to view the asset catalog.
<br><span class="jpstr">
<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">プロジェクトナビゲータ</a></span>において、<code class="code-voice">Assets.xcassets</code>を選択してアセットカタログ（資産目録）を眺めてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  Recall that the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW69" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW69">asset catalog</a></span> is a place to store and organize your image assets for an app.
<br><span class="jpstr">
思い出してください、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW69" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW69">アセットカタログ</a></span>はあなたのアプリのためのあなたの画像資産を格納し整理するところです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the bottom left corner, click the plus (<code class="code-voice">+</code>) button and choose New Folder from the pop-up menu.
<br><span class="jpstr">
１番下左隅で、プラスボタン（<code class="code-voice">+</code>）をクリックしてNew Folderをポップアップメニューから選んでください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_assetcatalog_addfolder_2x.png" alt="image: ../Art/ICC_assetcatalog_addfolder_2x.png" width="680" height="434" />
</figure>
</li><li class="item"><p class="para">
  Double-click the folder name and rename it <code class="code-voice">Rating Images</code>.
<br><span class="jpstr">
フォルダ名をダブルクリックして、それの名前を<code class="code-voice">Rating Images</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  With the folder selected, in the bottom left corner, click the plus (<code class="code-voice">+</code>) button and choose New Image Set from the pop-up menu.
<br><span class="jpstr">
そのフォルダが選択された状態で、１番下左隅で、プラス（<code class="code-voice">+</code>）ボタンをクリックしてNew Image Set（新規画像セット）をポップアップメニューから選んでください。
</span><!--end_jpstr-->
</p>
<p class="para">
  An image set represents a single image asset, but can contain different versions of the image to display at different screen resolutions.
<br><span class="jpstr">
画像セットはただ１つだけ画像資産を表示します、しかし異なるバージョンの画像を含むことで異なる画面解像度で表示することができます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Double-click the image set name and rename it <code class="code-voice">emptyStar</code>.
<br><span class="jpstr">
画像セットの名前をダブルクリックして、その名前を<code class="code-voice">emptyStar</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  On your computer, select the empty star image you want to add.
<br><span class="jpstr">
あなたのコンピュータ上で、あなたが加えようと思う空の星の画像を選択してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Drag and drop the image into the <code class="code-voice">2x</code> slot in the image set.
<br><span class="jpstr">
その画像を画像セットの<code class="code-voice">2x</code>の挿入位置にドラック＆ドロップしてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_emptystar_drag_2x.png" alt="image: ../Art/ICC_emptystar_drag_2x.png" width="610" height="174" />
</figure>
<p class="para">
  <code class="code-voice">2x</code> is the display resolution for iPhone 7 Simulator that you’re using in these lessons, so the image will look best at this resolution.
<br><span class="jpstr">
<code class="code-voice">2x</code>は、iPhone 7シミュレータ用の画面解像度で、あなたがこのレッスンで使っているものです、それでこの解像度でその画像は最もよく見えるでしょう。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the bottom left corner, click the plus (<code class="code-voice">+</code>) button and choose New Image Set from the pop-up menu.
<br><span class="jpstr">
１番下左隅で、プラス（<code class="code-voice">+</code>）ボタンをクリックしてNew Image Setをポップアップメニューから選んでください
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Double-click the image set name and rename it <code class="code-voice">filledStar</code>.
<br><span class="jpstr">
画像セットの名前をダブルクリックして、その名前を<code class="code-voice">filledStar</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  On your computer, select the filled-in star image you want to add.
<br><span class="jpstr">
あなたのコンピュータ上で、あなたが加えようと思う塗りつぶされた星の画像を選択してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Drag and drop the image into the <code class="code-voice">2x</code> slot in the image set.
<br><span class="jpstr">
その画像を画像セットの<code class="code-voice">2x</code>の挿入位置にドラック＆ドロップしてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_filledstar_drag_2x.png" alt="image: ../Art/ICC_filledstar_drag_2x.png" width="610" height="174" />
</figure>
</li><li class="item"><p class="para">
  In the bottom left corner, click the plus (<code class="code-voice">+</code>) button and choose New Image Set from the pop-up menu.
<br><span class="jpstr">
１番下左隅で、プラス（<code class="code-voice">+</code>）ボタンをクリックしてNew Image Setをポップアップメニューから選んでください
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Double-click the image set name and rename it <code class="code-voice">highlightedStar</code>.
<br><span class="jpstr">
画像セットの名前をダブルクリックして、その名前を<code class="code-voice">highlightedStar</code>に変えてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  On your computer, select the filled-in star image you want to add.
<br><span class="jpstr">
あなたのコンピュータ上で、あなたが加えようと思う塗りつぶされた星の画像を選択してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Drag and drop the image into the <code class="code-voice">2x</code> slot in the image set.
<br><span class="jpstr">
その画像を画像セットの<code class="code-voice">2x</code>の挿入位置にドラック＆ドロップしてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_highlightedstar_drag_2x.png" alt="image: ../Art/ICC_highlightedstar_drag_2x.png" width="610" height="174" />
</figure>
</li>
</ol><p class="para">
  Your asset catalog should look something like this:
<br><span class="jpstr">
あなたのアセットカタログはこのようなものに見えるはずです：
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_assetcatalog_final_2x.png" alt="image: ../Art/ICC_assetcatalog_final_2x.png" width="680" height="441" />
</figure><p class="para">
  Next, write the code to set the appropriate image for a button at the right time.
<br><span class="jpstr">
次に、コードを書いて適切な画像をボタンに対して正しいときに設定するようにします。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To set star images for the buttons<br><span class="jpstr">
星画像をボタンに設定するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, navigate to the <code class="code-voice">setupButtons()</code> method, and add this code just above the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop that creates the buttons:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">setupButtons()</code>メソッドに進み、このコードをボタンを作成する<code class="code-voice">for</code>-<code class="code-voice">in</code>ループのすぐ上に加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Load Button Images</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">bundle</span> = <span class="vc">Bundle</span>(<span class="vc">for</span>: <span class="vc">type</span>(<span class="vc">of</span>: <span class="kt">self</span>))</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">filledStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;filledStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">emptyStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;emptyStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">highlightedStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;highlightedStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  These lines load the star images from the assets catalog. Note that the assets catalog is located in the app’s main bundle. This means that the app can load the images using the shorter <code class="code-voice">UIImage(named:)</code> method. However, because the control is <code class="code-voice">@IBDesignable</code>, the setup code also needs to run in Interface Builder. For the images to load properly in Interface Builder, you must explicitly specify the catalog’s bundle. This ensures that the system can find and load the image.
<br><span class="jpstr">
それらの行は、星画像をアセットカタログからロードします。アセットカタログはアプリの持つメインバンドルの中にロードされることに注意してください。これは、アプリは画像をより短い<code class="code-voice">UIImage(named:)</code>メソッドを使ってロードできるのを意味します。しかしながら、コントロールは<code class="code-voice">@IBDesignable</code>であることから、準備コードもまたInterface Builderにおいて動作する必要があります。画像をInterface Builderにおいて適切にロードするために、あなたは明示的にカタログの持つバンドルを指定しなければなりません。これは、システムが画像を見つけてロードできるのを確実にします。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Find the line that sets the background color (<code class="code-voice">button.backgroundColor = UIColor.redColor()</code>) and replace it with the following:
<br><span class="jpstr">
背景色を設定する行（<code class="code-voice">button.backgroundColor = UIColor.redColor()</code>）を見つけて、それを以下と置き換えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Set the button images</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">emptyStar</span>, <span class="vc">for</span>: .<span class="vc">normal</span>)</code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStar</span>, <span class="vc">for</span>: .<span class="vc">selected</span>)</code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: .<span class="vc">highlighted</span>)</code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: [.<span class="vc">highlighted</span>, .<span class="vc">selected</span>])</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Buttons have five different states: normal, highlighted, focused, selected, and disabled. By default, the button modifies its appearance based on its state, for example a disabled button appears grayed out. A button can be in more than one state at the same time, such as when a button is both disabled and highlighted. 
<br><span class="jpstr">
ボタンは、５つの異なる状態を持ちます：通常、強調、フォーカス、選択、そして使用不能。省略時では、ボタンはそれの外観をそれの状態に基づいて修正します、例えば使用不能ボタンはグレイアウトされて現れます。ボタンは、同時にひとつ以上の状態になることができます、例えばあるボタンが使用不能と強調の両方であるなど。
</span><!--end_jpstr-->
</p>
<p class="para">
  Buttons always start in the normal state (not highlighted, selected, focused, or disabled). A button is highlighted whenever the user touches it. You can also programmatically set a button to be selected or disabled. The focused state is used by focus-based interfaces, like Apple TV.
<br><span class="jpstr">
ボタンは、常に通常状態で始まります（強調、選択、フォーカス、または使用不能ではなく）ボタンは、ユーザがそれをタッチするときはいつでも強調されます。あなたはまた、プログラム的にボタンを選択または使用不能にされるようにできます。フォーカス状態は、フォーカス基盤のインターフェイスによって使用されます、Apple TVのように。
</span><!--end_jpstr-->
</p>
<p class="para">
  In the code above, you are telling the button to use the empty star image for the normal state. This is the button’s default image. The system uses this image (possibly with an added effect) whenever a state or combination of states doesn’t have an image of their own.
<br><span class="jpstr">
上のコードにおいて、あなたは空の星画像を通常状態のために使うようボタンに伝えています。これは、ボタンの持つ省略時の画像です。システムは、ある状態または幾つかの状態の組み合わせがそれら独自の画像を持たないときはいつでもこの画像を（ことによると追加の効果と共に）使います。
</span><!--end_jpstr-->
</p>
<p class="para">
  Next, the code above sets the filled image for the selected state. If you programmatically set the button as selected, it will change from the empty star to the filled star. 
<br><span class="jpstr">
次に、上のコードは塗りつぶされた画像を選択済状態に対して設定します。あなたがプログラム的にボタンを選択されると設定するならば、それは空の星から塗りつぶされた星へと変わるでしょう。
</span><!--end_jpstr-->
</p>
<p class="para">
  Finally, you set the highlighted image for both the highlighted and the selected and highlighted states. When the user touches the button, whether or not it is selected, the system will show the highlighted button image.
<br><span class="jpstr">
最後に、あなたは強調画像を強調状態および選択・強調状態の両方に対して設定します。ユーザがボタンにタッチする場合、それが選択されるかどうかに関係なく、システムはボタン画像を強調して示すでしょう。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">setupButtons()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">setupButtons()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Clear any existing buttons</span></code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="vc">button</span> <span class="kt">in</span> <span class="vc">ratingButtons</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">removeArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">removeFromSuperview</span>()</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    <span class="vc">ratingButtons</span>.<span class="vc">removeAll</span>()</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Load Button Images</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">bundle</span> = <span class="vc">Bundle</span>(<span class="vc">for</span>: <span class="vc">type</span>(<span class="vc">of</span>: <span class="kt">self</span>))</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">filledStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;filledStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">emptyStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;emptyStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">highlightedStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;highlightedStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">starCount</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Set the button images</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">emptyStar</span>, <span class="vc">for</span>: .<span class="vc">normal</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStar</span>, <span class="vc">for</span>: .<span class="vc">selected</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: .<span class="vc">highlighted</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: [.<span class="vc">highlighted</span>, .<span class="vc">selected</span>])</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">height</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">width</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">        <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the new button to the rating button array</span></code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span>.<span class="vc">append</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. You should see stars instead of red buttons. Tapping any of the buttons at this point should still call <code class="code-voice">ratingButtonTapped(_:)</code> and log the message to the console. You’ll even see the blue highlighted star while you are touching the button, but your buttons don’t change to the filled images yet. You’ll fix that next.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたは、赤いボタンの代わりに星を見るはずです。ボタンのどれかをタップすると、この時点ではまだ<code class="code-voice">ratingButtonTapped(_:)</code>を呼び出してメッセージをコンソールに記録するはずです。あなたは、青く強調された星をあなたがボタンをタッチしている間は見さえするでしょう、しかしあなたのボタンは塗りつぶされた画像へとまだ変化しません。あなたはこれを次に修正します。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_sim_emptystars_2x.png" alt="image: ../Art/ICC_sim_emptystars_2x.png" width="387" height="679" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW10"></a>
  <h3 class="section-name" tabindex="0">Implement the Button Action<br><span class="jpstr">
ボタンアクションの実装
</span><!--end_jpstr-->
</h3>
  <p class="para">
  The user needs to be able to select a rating by tapping a star, so you’ll replace the debugging implementation with a real implementation of the <code class="code-voice">ratingButtonTapped(_:)</code> method.
<br><span class="jpstr">
ユーザが必要とするのは、格付けの選択がある星のタップによってできることです、それであなたはデバック実装を実際の実装の<code class="code-voice">ratingButtonTapped(_:)</code>メソッドで置き換えます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To implement the rating action<br><span class="jpstr">
格付けアクションを実装するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, find the <code class="code-voice">ratingButtonTapped(button:)</code> method:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">ratingButtonTapped(button:)</code>メソッドを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">print</span>(<span class="s">&quot;Button pressed 👍&quot;</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Replace the <code class="code-voice">print</code> statement with this code:
<br><span class="jpstr">
<code class="code-voice">print</code>文をこのコードと置き換えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">guard</span> <span class="kt">let</span> <span class="vc">index</span> = <span class="vc">ratingButtons</span>.<span class="vc">index</span>(<span class="vc">of</span>: <span class="vc">button</span>) <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">fatalError</span>(<span class="s">&quot;The button, </span>\(<span class="vc">button</span>)<span class="s">, is not in the ratingButtons array: </span>\(<span class="vc">ratingButtons</span>)<span class="s">&quot;</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Calculate the rating of the selected button</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">selectedRating</span> = <span class="vc">index</span> + <span class="m">1</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="vc">selectedRating</span> == <span class="vc">rating</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// If the selected star represents the current rating, reset the rating to 0.</span></code></li>
            <li><code class="code-voice">        <span class="vc">rating</span> = <span class="m">0</span></code></li>
            <li><code class="code-voice">    } <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Otherwise set the rating to the selected star</span></code></li>
            <li><code class="code-voice">        <span class="vc">rating</span> = <span class="vc">selectedRating</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  In the code above, the <code class="code-voice">indexOf(_:)</code> method attempts to find the selected button in the array of buttons and to return the index at which it was found. This method returns an optional <code class="code-voice">Int</code> because the instance you’re searching for might not exist in the collection you’re searching. However, because the only buttons that trigger this action are the ones you created and added to the array, if the <code class="code-voice">indexOf(_:)</code> method cannot find a matching button, you have a serious bug in your code. Throwing a fatal error here terminates the app and prints a useful error message to the console, helping you find and fix any problems while you design and test your app.
<br><span class="jpstr">
上のコードにおいて、<code class="code-voice">indexOf(_:)</code>メソッドが試みるのは、選択されたボタンをボタン配列の中で見つけること、そしてそれが見つかったのはどのインデックスかを返すことです。このメソッドは、オプショナルの<code class="code-voice">Int</code>を返します、なぜならあなたが探しているインスタンスがあなたがそこで見つけようとしているコレクションの中に存在しないかもしれないからです。しかしながら、このアクションを引き起こすボタンのみが、あなたが作成してこの配列に加えたものなので、<code class="code-voice">indexOf(_:)</code>メソッドが一致するボタンを見つけることができないならば、あなたはゆゆしいバグをあなたのコードの中に持ちます。ここでの致命的なエラーのスローは、アプリを終了して役に立つエラーメッセージをコンソールに出力して、あなたがあなたのアプリを設計してテストする間あなたが何らかの問題を見つけて修正する助けとなります。
</span><!--end_jpstr-->
</p>
<p class="para">
  Once you have the button’s index (in this case a value from 0 to 4), you add 1 to the index to calculate the selected rating (giving you a value from 1 to 5). If the user tapped the star that corresponds with the current rating, you reset the control’s <code class="code-voice">rating</code> property to 0. Otherwise, you set the <code class="code-voice">rating</code> to the selected rating.
<br><span class="jpstr">
一旦あなたがボタンのインデックスを持つならば（この場合には０から４までの値）、あなたは１をインデックスに加えて選択された格付けを計算します（１から５までの値をあなたに与えます）。現在の格付けに相当する星をユーザがタップしたならば、あなたはコントロールの持つ<code class="code-voice">rating</code>プロパティをゼロへとリセットします。そうでなければ、あなたは<code class="code-voice">rating</code>を選択された格付けへ設定します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Once the rating is set, you need some way to update the button’s appearance. In <code class="code-voice">RatingControl.swift</code>, before the last curly brace (<code class="code-voice">}</code>), add the following method:
<br><span class="jpstr">
一旦格付けが設定されたならば、あなたはボタンの外観を更新するための何らかの方法を必要とします。<code class="code-voice">RatingControl.swift</code>において、最後の波括弧（<code class="code-voice">}</code>）の前に、以下のメソッドを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">updateButtonSelectionStates</span>() {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This is a helper method that you’ll use to update the selection state of the buttons.
<br><span class="jpstr">
これはヘルパーメソッド（お手伝いさんメソッド）です、あなたはそれを使ってボタンの選択状態を更新するようにします。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">updateButtonSelectionStates()</code> method, add the following <code class="code-voice">for</code>-<code class="code-voice">in</code> loop:
<br><span class="jpstr">
<code class="code-voice">updateButtonSelectionStates()</code>メソッドにおいて、以下の<code class="code-voice">for</code>-<code class="code-voice">in</code>ループを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">updateButtonSelectionStates</span>() {</code></li>
            <li><code class="code-voice">    <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">button</span>) <span class="kt">in</span> <span class="vc">ratingButtons</span>.<span class="vc">enumerated</span>() {</code></li>
            <li><code class="code-voice">        <span class="c">// If the index of a button is less than the rating, that button should be selected.&nbsp;<span class="jpstr">（あるボタンのインデックスが格付けより少ないならば、そのボタンは選択されるべき。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">isSelected</span> = <span class="vc">index</span> &lt; <span class="vc">rating</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code iterates through the buttons and sets each one’s selected state based on its position and the rating. As you saw earlier, the selected state affects the button’s appearance. If the button’s index is less than the rating, the <code class="code-voice">isSelected</code> property is set to <code class="code-voice">true</code>, and the button displays the filled-in star image. Otherwise, the <code class="code-voice">isSelected</code> property is set to <code class="code-voice">false</code>, and the button shows the empty star image.
<br><span class="jpstr">
このコードはボタンのすべてに対して反復していって、それぞれのものの持つ選択済状態をそれの位置と格付けに基づいて設定します。あなたが前に見たように、選択済状態はボタンの外観に影響します。ボタンのインデックスが格付けより小さいならば、<code class="code-voice">isSelected</code>プロパティは<code class="code-voice">true</code>へ設定されます、そしてボタンは塗りつぶされた星画像を表示します。それ以外では、<code class="code-voice">isSelected</code>プロパティは<code class="code-voice">false</code>に設定され、ボタンは空の星画像を示します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add a property observer to the <code class="code-voice">rating</code> property, and have it call the <code class="code-voice">updateButtonSelectionStates()</code> method whenever the rating changes.
<br><span class="jpstr">
あるプロパティオブザーバを<code class="code-voice">rating</code>プロパティに加えてください、そしてそれが<code class="code-voice">updateButtonSelectionStates()</code>メソッドを格付けが変化するときはいつでも呼ぶようにしてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">rating</span> = <span class="m">0</span> {</code></li>
            <li><code class="code-voice"><span class="kt">didSet</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">updateButtonSelectionStates</span>()</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  You also need to update the button’s selection state whenever buttons are added to the control. In the <code class="code-voice">setupButtons()</code> method, add a call to the <code class="code-voice">updateButtonSelectionStates()</code> method just above the method’s closing curly brace (<code class="code-voice">}</code>). The <code class="code-voice">setupButtons()</code> method should now look as shown below:
<br><span class="jpstr">
あなたはまた、ボタンがコントロールへ追加されるときはいつでもボタンの選択状態を更新する必要があります。<code class="code-voice">setupButtons()</code>メソッドにおいて、<code class="code-voice">updateButtonSelectionStates()</code>メソッドへの呼び出しをそのメソッドの閉じ波カッコ（<code class="code-voice">}</code>）のすぐ上に加えてください。<code class="code-voice">setupButtons()</code>メソッドは、今では下に示すように見えるはずです：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Clear any existing buttons</span></code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="vc">button</span> <span class="kt">in</span> <span class="vc">ratingButtons</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">removeArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">removeFromSuperview</span>()</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    <span class="vc">ratingButtons</span>.<span class="vc">removeAll</span>()</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Load Button Images</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">bundle</span> = <span class="vc">Bundle</span>(<span class="vc">for</span>: <span class="vc">type</span>(<span class="vc">of</span>: <span class="kt">self</span>))</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">filledStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;filledStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">emptyStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;emptyStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">highlightedStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;highlightedStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="vc">index</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">starCount</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Set the button images</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">emptyStar</span>, <span class="vc">for</span>: .<span class="vc">normal</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStar</span>, <span class="vc">for</span>: .<span class="vc">selected</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: .<span class="vc">highlighted</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: [.<span class="vc">highlighted</span>, .<span class="vc">selected</span>])</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">height</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">width</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">        <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the new button to the rating button array</span></code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span>.<span class="vc">append</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="vc">updateButtonSelectionStates</span>()</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li>
</ol><p class="para">
  <em>Checkpoint</em>: Run your app. You should see five stars and be able to click one to change the rating. Click the third star to change the rating to 3, for example. Click the same star a second time. The control should reset to a zero-star rating.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたは、５つの星を見るはずです、そして１つクリックすることで格付けを変更できるはずです。例えば、３番目の星をクリックして格付けを３に変えてください。同じ星をもう一度クリックしてください。コントロールは星ゼロの格付けにリセットされるはずです。
</span><!--end_jpstr-->
</p><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_sim_filledstars_2x.png" alt="image: ../Art/ICC_sim_filledstars_2x.png" width="320" height="559" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_9"></a>
  <h3 class="section-name" tabindex="0">Add Accessibility Information<br><span class="jpstr">
アクセシビリティ情報を加える
</span><!--end_jpstr-->
</h3>
  <p class="para">
  With iOS built-in accessibility features, you can deliver an outstanding mobile experience to every customer, including those with special needs. These features include VoiceOver, Switch Control, playback of closed captioned or audio described video, Guided Access, Text to Speech, and more.
<br><span class="jpstr">
iOSの組み込みのアクセシビリティ機能で、あなたは傑出したモバイル体験をすべての顧客に送り届けることができます、それらは特別な必要性を持つものを含みます。これらの機能は、VoiceOver、Switch Control、聴力障害者用字幕付きまたは音声解説付きビデオの巻き戻し再生、Guided Access、Text to Speech、その他いろいろを含みます。
</span><!--end_jpstr-->
</p><p class="para">
  In most cases, users benefit from these features without any additional work on your part. VoiceOver, however, often requires a little attention. VoiceOver is a revolutionary screen reader for blind and low vision users. VoiceOver reads your user interface to the user. Although the default description of built-in controls provides a good starting point, you may need to optimize the presentation of your user interface; especially for custom views and controls.
<br><span class="jpstr">
多くの場合には、ユーザはこれらの機能から、あなたの受け持ちでの何らかの追加的作業なしで利益を受けます。VoiceOverは、しかしながら、しばしば少しの注意が必要とされます。VoiceOverは、視覚障害および低視力ユーザのための革命的な画面読み上げ機構です。VoiceOverは、あなたのユーザインターフェイスをユーザのために読み上げます。組み込みのコントロールの初期状態の解説は良い出発点を提供するとはいえ、あなたはあなたのユーザインターフェイスの表現を最適化する必要があるでしょう；とりわけカスタムビューおよびコントロールについて。
</span><!--end_jpstr-->
</p><p class="para">
  For the rating control, you need to provide three additional pieces of information for each button,
<br><span class="jpstr">
格付けコントロールのために、あなたは３つの追加的な部分の情報を各ボタンのために提供する必要があります、
</span><!--end_jpstr-->
</p><ul class="list-bullet">
  <li class="item"><p class="para">
  <strong class="inline-head">Accessibility label.</strong> A short, localized word or phrase that succinctly describes the control or view, but does not identify the element’s type. Examples are “Add” or “Play.”
<br><span class="jpstr">
<strong class="inline-head">アクセシビリティラベル。</strong> 短い、ローカライズされた単語または語句で、簡潔にコントロールやビューを解説します、しかし要素の持つ型を識別しません。例は、「追加」や「再生」です。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  <strong class="inline-head">Accessibility value.</strong> The current value of an element, when the value is not represented by the label. For example, the label for a slider might be “Speed,” but its current value might be “50%.” 
<br><span class="jpstr">
<strong class="inline-head">アクセシビリティ値。</strong> ある要素の現在の値、値がラベルによって表されない時に。例えば、あるスライダのためのラベルは「速度」であるかもしれません、しかしそれの現在の値は「50%」であるかもしれません。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  <strong class="inline-head">Accessibility hint.</strong> A brief, localized phrase that describes the results of an action on an element. Examples are “Adds a title” or “Opens the shopping list.”
<br><span class="jpstr">
<strong class="inline-head">アクセシビリティヒント。</strong> 簡潔な、ローカライズされた語句で、ある要素に関するあるアクションの結果を解説します。例は、「タイトルを追加」や「買い物リストを開く」です。
</span><!--end_jpstr-->
</p>
</li>
</ul><p class="para">
  In the rating control, each button’s accessibility label describes the value that the button sets. For example, the first button’s label says “Set 1 star rating.” The accessibility value contains the control’s current rating. For example, if you have a 4-star rating, the value says “4 stars set.” Finally, you assign a hint to the currently selected star that says, “Tap to reset the rating to zero.” All the other stars have a <code class="code-voice">nil</code>-valued hint, because their effects are already adequately described by their labels.
<br><span class="jpstr">
格付けコントロールでは、各ボタンの持つアクセシビリティラベルは、そのボタンが設定する値を解説します。例えば、最初のボタンの持つラベルは、「星１格付けを設定」と言います。アクセシビリティ値は、そのコントロールの持つ現在の格付けを含みます。例えば、あなたが星４格付けをするならば、その値は「星４を設定」と話します。最後に、あなたはあるヒントを現在選択される星に割り当てます、それは「タップして格付けをゼロにリセット」と話します。他の星すべては、<code class="code-voice">nil</code>値のヒントを持ちます、なぜならそれらの効果はすでにそれらのラベルによって妥当に解説されるからです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To add accessibility labels, values, and hints<br><span class="jpstr">
アクセシビリティ・ラベル、値、およびヒントを加えるには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">RatingControl.swift</code>, navigate to the <code class="code-voice">setupButtons()</code> method. find the <code class="code-voice">for</code>-<code class="code-voice">in</code> declaration. Replace the placeholder loop variable (<code class="code-voice">_</code>) with <code class="code-voice">index</code> as shown:
<br><span class="jpstr">
<code class="code-voice">RatingControl.swift</code>において、<code class="code-voice">setupButtons()</code>メソッドに進んでください。<code class="code-voice">for</code>-<code class="code-voice">in</code>宣言を見つけてください。プレースホルダループ変数（<code class="code-voice">_</code>）を<code class="code-voice">index</code>と置き換えてください、次に示すように：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">for</span> <span class="vc">index</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">starCount</span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Inside the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, just after the constraints, add the following code:
<br><span class="jpstr">
<code class="code-voice">for</code>-<code class="code-voice">in</code>ループの内側で、制約のすぐ下に、以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Set the accessibility label</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">accessibilityLabel</span> = <span class="s">&quot;Set </span>\(<span class="vc">index</span> + <span class="m">1</span>)<span class="s"> star rating&quot;</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code calculates a label string using the button’s index, then assigns it to the button’s <code class="code-voice">accessibilityLabel</code> property. 
<br><span class="jpstr">
このコードは、ラベル文字列をボタンの持つインデックスを使って算出します、それからそれをボタンの<code class="code-voice">accessibilityLabel</code>プロパティに割り当てます。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <code class="code-voice">setupButtons()</code> method should now look like this:
<br><span class="jpstr">
<code class="code-voice">setupButtons()</code>メソッドは今ではこのように見えるはずです：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">setupButtons</span>() {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Clear any existing buttons</span></code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="vc">button</span> <span class="kt">in</span> <span class="vc">ratingButtons</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">removeArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">removeFromSuperview</span>()</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    <span class="vc">ratingButtons</span>.<span class="vc">removeAll</span>()</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Load Button Images</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">bundle</span> = <span class="vc">Bundle</span>(<span class="vc">for</span>: <span class="vc">type</span>(<span class="vc">of</span>: <span class="kt">self</span>))</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">filledStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>: <span class="s">&quot;filledStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">emptyStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;emptyStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">highlightedStar</span> = <span class="vc">UIImage</span>(<span class="vc">named</span>:<span class="s">&quot;highlightedStar&quot;</span>, <span class="vc">in</span>: <span class="vc">bundle</span>, <span class="vc">compatibleWith</span>: <span class="kt">self</span>.<span class="vc">traitCollection</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">for</span> <span class="vc">index</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">starCount</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create the button</span></code></li>
            <li><code class="code-voice">        <span class="kt">let</span> <span class="vc">button</span> = <span class="vc">UIButton</span>()</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Set the button images</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">emptyStar</span>, <span class="vc">for</span>: .<span class="vc">normal</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">filledStar</span>, <span class="vc">for</span>: .<span class="vc">selected</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: .<span class="vc">highlighted</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">setImage</span>(<span class="vc">highlightedStar</span>, <span class="vc">for</span>: [.<span class="vc">highlighted</span>, .<span class="vc">selected</span>])</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add constraints</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">translatesAutoresizingMaskIntoConstraints</span> = <span class="kt">false</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">heightAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">height</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">widthAnchor</span>.<span class="vc">constraint</span>(<span class="vc">equalToConstant</span>: <span class="vc">starSize</span>.<span class="vc">width</span>).<span class="vc">isActive</span> = <span class="kt">true</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Set the accessibility label</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">accessibilityLabel</span> = <span class="s">&quot;Set </span>\(<span class="vc">index</span> + <span class="m">1</span>)<span class="s"> star rating&quot;</span></code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Setup the button action</span></code></li>
            <li><code class="code-voice">        <span class="vc">button</span>.<span class="vc">addTarget</span>(<span class="kt">self</span>, <span class="vc">action</span>: <span class="kt">#selector</span>(<span class="vc">RatingControl</span>.<span class="vc">ratingButtonTapped</span>(<span class="vc">button</span>:)), <span class="vc">for</span>: .<span class="vc">touchUpInside</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the button to the stack</span></code></li>
            <li><code class="code-voice">        <span class="vc">addArrangedSubview</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Add the new button to the rating button array</span></code></li>
            <li><code class="code-voice">        <span class="vc">ratingButtons</span>.<span class="vc">append</span>(<span class="vc">button</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="vc">updateButtonSelectionStates</span>()</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Navigate to the updateButtonSelectionStates() method. Inside the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, add the following code just after the line that sets the button’s <code class="code-voice">isSelected</code> property.
<br><span class="jpstr">
updateButtonSelectionStates()メソッドに進んでください。<code class="code-voice">for</code>-<code class="code-voice">in</code>ループの内側で、以下のコードを、ボタンの<code class="code-voice">isSelected</code>プロパティを設定した行の直ぐ下に加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Set the hint string for the currently selected star</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">hintString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
            <li><code class="code-voice"><span class="kt">if</span> <span class="vc">rating</span> == <span class="vc">index</span> + <span class="m">1</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">hintString</span> = <span class="s">&quot;Tap to reset the rating to zero.&quot;</span></code></li>
            <li><code class="code-voice">} <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">hintString</span> = <span class="kt">nil</span></code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="c">// Calculate the value string</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">valueString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
            <li><code class="code-voice"><span class="kt">switch</span> (<span class="vc">rating</span>) {</code></li>
            <li><code class="code-voice"><span class="kt">case</span> <span class="m">0</span>:</code></li>
            <li><code class="code-voice">    <span class="vc">valueString</span> = <span class="s">&quot;No rating set.&quot;</span></code></li>
            <li><code class="code-voice"><span class="kt">case</span> <span class="m">1</span>:</code></li>
            <li><code class="code-voice">    <span class="vc">valueString</span> = <span class="s">&quot;1 star set.&quot;</span></code></li>
            <li><code class="code-voice"><span class="kt">default</span>:</code></li>
            <li><code class="code-voice">    <span class="vc">valueString</span> = <span class="s">&quot;</span>\(<span class="vc">rating</span>)<span class="s"> stars set.&quot;</span></code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="c">// Assign the hint string and value string</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">accessibilityHint</span> = <span class="vc">hintString</span></code></li>
            <li><code class="code-voice"><span class="vc">button</span>.<span class="vc">accessibilityValue</span> = <span class="vc">valueString</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Here, you start by checking whether the button is the currently selected button. If it is, you assign a hint. If not, you set the button’s <code class="code-voice">hintString</code> property to <code class="code-voice">nil</code>. 
<br><span class="jpstr">
ここでは、あなたはボタンが現在選択済ボタンかどうか調べることで始めます。そうであるならば、あなたはヒントを割り当てます。違うならば、あなたはボタンの<code class="code-voice">hintString</code>プロパティを<code class="code-voice">nil</code>に設定します。
</span><!--end_jpstr-->
</p>
<p class="para">
  Next, you calculate the value based on the control’s rating. Use a <code class="code-voice">switch</code> statement to assign custom strings if the <code class="code-voice">rating</code> is <code class="code-voice">0</code> or <code class="code-voice">1</code>. If the rating is greater than <code class="code-voice">1</code>, you calculate the hint using string interpolation.
<br><span class="jpstr">
次に、あなたは値をコントロールの持つ格付けに基づいて計算します。<code class="code-voice">switch</code>文を使ってカスタム文字列を割り当ててください、もし<code class="code-voice">rating</code>が<code class="code-voice">0</code>または<code class="code-voice">1</code>なら。格付けが<code class="code-voice">1</code>より大きいならば、あなたはヒントを文字列補間を使って算出します。
</span><!--end_jpstr-->
</p>
<p class="para">
  Finally, assign these values to the <code class="code-voice">accessibilityHint</code> and <code class="code-voice">accessibilityValue</code> properties.
<br><span class="jpstr">
最後に、これらの値を<code class="code-voice">accessibilityHint</code>と<code class="code-voice">accessibilityValue</code>プロパティに割り当ててください。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  When the user runs your app with VoiceOver enabled, when they touch one of the buttons, VoiceOver reads the button’s label, followed by the word <em>button</em>. Then it reads the accessibility value. Finally, it reads the accessibility hint (if any). This lets the user know both the control’s current value and the result of tapping the currently selected button.
<br><span class="jpstr">
ユーザがあなたのアプリをVoiceOverを有効にして実行する場合、彼らがボタンの１つをタッチする時、VoiceOverはボタンのラベルを、単語<em>button</em>の後に続けて読み上げます。それからそれはアクセシビリティ値を読み上げます。最後に、それはアクセシビリティヒントを読み上げます（もしあれば）。これは、ユーザにコントロールの持つ値と、現在選択されたボタンをタップする結果の両方を知らせます。
</span><!--end_jpstr-->
</p><div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_34"></a>
  <aside class="aside">
    <p class="aside-title">Explore Further
    <br><span class="jpstr">
さらに先を探索
</span><!--end_jpstr-->
</p>
    	<p class="para">For more information on accessibility, see <a href="https://developer.apple.com/accessibility/ios/">Accessibility on iOS</a>.
    	<br><span class="jpstr">
アクセシビリティに関する詳細として、<a href="https://developer.apple.com/accessibility/ios/">Accessibility on iOS</a>を見てください。
</span><!--end_jpstr-->
</p>
    <p class="para">
  Also, for the purpose of this lesson, you assigned simple strings to the accessibility properties; however, a production app should use localized strings. For more information on internationalization and localization, see <a href="https://developer.apple.com/internationalization/">Build Apps for the World</a>.
<br><span class="jpstr">
また、このレッスンの目標として、あなたは単純な文字列をアクセシビリティプロパティに割り当てました；しかしながら、製品アプリはローカライズされた文字列を使うべきです。国際化と現地語化に関する詳細として、<a href="https://developer.apple.com/internationalization/">Build Apps for the World</a>を見てください。
</span><!--end_jpstr-->
</p>

  </aside>
</div>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW12"></a>
  <h3 class="section-name" tabindex="0">Connect the Rating Control to the View Controller<br><span class="jpstr">
格付けコントロールをビューコントローラに接続する
</span><!--end_jpstr-->
</h3>
  <p class="para">
  The last thing you need to do to set up the rating control is to give the <code class="code-voice">ViewController</code> class a reference to it.
<br><span class="jpstr">
格付けコントロールの設定としてあなたが最後にしなければならないことは、<code class="code-voice">ViewController</code>クラスにそれへの参照を持たせることです。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To connect a rating control outlet to ViewController.swift<br><span class="jpstr">
格付けコントロールアウトレットをViewController.swiftに接続するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open your storyboard.
<br><span class="jpstr">
あなたのストーリーボードを開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Click the Assistant button in the Xcode toolbar to open the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW76" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW76">assistant editor</a></span>. 
<br><span class="jpstr">
AssistantボタンをXcodeツールバーにおいてクリックして<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW76" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW76">アシスタントエディタ</a></span>を開いてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW6"></a>
  <span class="caption"></span>
  <img src="Art/assistant_editor_toggle_2x.png" alt="image: ../Art/assistant_editor_toggle_2x.png" width="307" height="101" />
</figure>
</li><li class="item"><p class="para">
  If you want more space to work, collapse the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">project navigator</a></span> and <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW72" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW72">utility area</a></span> by clicking the Navigator and Utilities buttons in the Xcode toolbar.
<br><span class="jpstr">
あなたがもっと場所を必要とするならば、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW57" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW57">プロジェクトナビゲータ</a></span>と<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW72" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW72">ユーティリティ区画</a></span>をNavigatorとUtilitiesボタンをXcodeツールバーにおいてクリックすることで折り畳んでください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/navigator_utilities_toggle_on_2x.png" alt="image: ../Art/navigator_utilities_toggle_on_2x.png" width="372" height="100" />
</figure>
<p class="para">
  You can also collapse the outline view.
<br><span class="jpstr">
あなたはまたアウトラインビューも折り畳むことができます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Select the rating control.
<br><span class="jpstr">
格付けコントロールを選択してください。
</span><!--end_jpstr-->
</p>
<p class="para">
  <code class="code-voice">ViewController.swift</code> displays in the editor on the right. (If it doesn’t, choose Automatic &gt; ViewController.swift in the editor selector bar.)
<br><span class="jpstr">
<code class="code-voice">ViewController.swift</code>は、エディタの右に表示されます。（そうでないならば、Automatic &gt; ViewController.swiftをエディタセレクタバーで選んでください。）
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Control-drag from the rating control on your canvas to the code display in the editor on the right, stopping the drag at the line below the <code class="code-voice">photoImageView</code> property in <code class="code-voice">ViewController.swift</code>.
<br><span class="jpstr">
あなたのキャンバス上の格付けコントロールから右のエディタの中のコード表示へコントロール-ドラッグして、<code class="code-voice">ViewController.swift</code>の中の<code class="code-voice">photoImageView</code>プロパティの下の行でドラッグをやめてください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_ratingcontrol_dragoutlet_2x.png" alt="image: ../Art/ICC_ratingcontrol_dragoutlet_2x.png" width="680" height="437" />
</figure>
</li><li class="item"><p class="para">
  In the dialog that appears, for Name, type <code class="code-voice">ratingControl</code>.
<br><span class="jpstr">
現れたダイアログにおいて、名前に、<code class="code-voice">ratingControl</code>をタイプしてください。
</span><!--end_jpstr-->
</p>
<p class="para">
  Leave the rest of the options as they are. Your dialog should look like this:
<br><span class="jpstr">
残りのオプションはそれらのままにしておきます。あなたのダイアログはこのように見えるはずです：
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_ratingcontrol_addoutlet_2x.png" alt="image: ../Art/ICC_ratingcontrol_addoutlet_2x.png" width="680" height="431" />
</figure>
</li><li class="item"><p class="para">
  Click Connect.
<br><span class="jpstr">
Connectをクリックしてください。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  The <code class="code-voice">ViewController</code> class now has a reference to the rating control in the storyboard.
<br><span class="jpstr">
<code class="code-voice">ViewController</code>クラスは今ではストーリーボードの中の格付けコントロールに対する参照を持ちます。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-SW7"></a>
  <h3 class="section-name" tabindex="0">Clean Up the Project<br><span class="jpstr">
プロジェクトの掃除
</span><!--end_jpstr-->
</h3>
  <p class="para">
  You’re close to finalizing the meal scene’s user interface, but first you need to do some cleanup. Now that the FoodTracker app is implementing more advanced behavior and a different user interface than in the previous lessons, you’ll want to remove the pieces you don’t need. You’ll also center the elements in your stack view to balance the user interface.
<br><span class="jpstr">
あなたは、食事シーンのユーザインターフェイスの完成段階に近づいています、しかしまずあなたはいくらかの掃除をする必要があります。今ではFoodTrackerアプリは以前のレッスンに比べてより進んだ挙動と異なるユーザインターフェイスを実装しています、あなたは必要としない部分を取り除きたいでしょう。あなたはまた、あなたのスタックビューの要素の中心をとってユーザインターフェイスのつり合いをとりたいでしょう。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To clean up the UI<br><span class="jpstr">
UIを掃除するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Return to the standard editor by clicking the Standard button.
<br><span class="jpstr">
標準エディタにStandardボタンをクリックすることで戻ってください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/standard_toggle_2x.png" alt="image: ../Art/standard_toggle_2x.png" width="371" height="86" />
</figure>
<p class="para">
  Expand the project navigator and utility area by clicking the Navigator and Utilities buttons in the Xcode toolbar.
<br><span class="jpstr">
プロジェクトナビゲータとユーティリティ区画をNavigatorとUtilitiesボタンをXcodeツールバーでクリックすることで広げてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Open your storyboard.
<br><span class="jpstr">
あなたのストーリーボードを開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Select the Set Default Label Text button, and press the Delete key to delete it.
<br><span class="jpstr">
Set Default Label Textボタンを選択します、そしてデリートキーを押してそれを消去してください。
</span><!--end_jpstr-->
</p>
<p class="para">
  The stack view rearranges your user interface elements to fill the gap that the button left.
<br><span class="jpstr">
スタックビューは、あなたのユーザインターフェイス要素を配列し直して下と左の隙間を埋めます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_deletebutton_2x.png" alt="image: ../Art/ICC_deletebutton_2x.png" width="423" height="712" />
</figure>
</li><li class="item"><p class="para">
  If necessary, open the outline view. Select the Stack View object.
<br><span class="jpstr">
必要なら、アウトラインビューを開いてください。Stack Viewオブジェクトを選択してください。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_outlineview_2x.png" alt="image: ../Art/ICC_outlineview_2x.png" width="282" height="320" />
</figure>
</li><li class="item"><p class="para">
  Open the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW19" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW19">Attributes inspector</a></span> <img class="inline-graphic" src="Art/inspector_attributes_2x.png" alt="image: ../Art/inspector_attributes_2x.png" width="16" height="16" />.
<br><span class="jpstr">
<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW19" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW19">Attributesインスペクタ</a></span> <img class="inline-graphic" src="Art/inspector_attributes_2x.png" alt="image: ../Art/inspector_attributes_2x.png" width="16" height="16" />を開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the Attributes inspector, find the Alignment field and select Center.
<br><span class="jpstr">
Attributesインスペクタにおいて、Alignment欄を見つけてCenterを選択してください。
</span><!--end_jpstr-->
</p>
<p class="para">
  The elements in the stack view center horizontally:
<br><span class="jpstr">
スタックビューの中の要素は横方向の真ん中に置かれます。
</span><!--end_jpstr-->
</p>
<figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_centerstack_2x.png" alt="image: ../Art/ICC_centerstack_2x.png" width="422" height="712" />
</figure>
</li>
</ol><p class="para">
  Now, remove the action method that corresponds with the button you deleted.
<br><span class="jpstr">
今度は、あなたが削除したボタンに対応するアクションメソッドを削除します。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To clean up the code<br><span class="jpstr">
コードを掃除するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open <code class="code-voice">ViewController.swift</code>.
<br><span class="jpstr">
<code class="code-voice">ViewController.swift</code>を開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">ViewController.swift</code>, delete the <code class="code-voice">setDefaultLabelText(_:)</code> action method.
<br><span class="jpstr">
<code class="code-voice">ViewController.swift</code>において、<code class="code-voice">setDefaultLabelText(_:)</code>アクションメソッドを削除してください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">@IBAction</span> <span class="kt">func</span> <span class="vc">setDefaultLabelText</span>(<span class="vc">sender</span>: <span class="n"><!-- a href="" -->UIButton<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">mealNameLabel</span>.<span class="vc">text</span> = <span class="s">&quot;Default Text&quot;</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  That’s all you need to delete for now. You’ll make a change to the label outlet (<code class="code-voice">mealNameLabel</code>) in a later lesson.
<br><span class="jpstr">
これが今のところあなたが削除に必要なすべてです。あなたは、あとのレッスンでラベルアウトレット（<code class="code-voice">mealNameLabel</code>）に変更を行います。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  <em>Checkpoint</em>: Run your app. Everything should work exactly as before, but the Set Default Label Text button is gone, and the elements are centered horizontally. The buttons should be side-by-side. Clicking any of the buttons at this point should still call <code class="code-voice">ratingButtonTapped(_:)</code> and change the button images appropriately.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。すべてのものが正確に以前と同じように働きます、しかしSet Default Label Textボタンはなくなりました、そして要素は水平方向の中心に置かれます。ボタンは横に並んでいるはずです。ボタンのどれかをクリックするとこの時点では依然として<code class="code-voice">ratingButtonTapped(_:)</code>が呼び出されます、そしてボタン画像は適切に変化します。
</span><!--end_jpstr-->
</p><div class="important clear">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_35"></a>
  <aside class="aside">
    <p class="aside-title">Important
    <br><span class="jpstr">
重要
</span><!--end_jpstr-->
</p>
    <p class="para">If you’re running into build issues, try pressing Command-Shift-K to <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW107" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW107">clean</a></span> your project.
    <br><span class="jpstr">
あなたがビルド問題にぶつかっているならば、コマンド-シフト-Kを押してあなたのプロジェクトを<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW107" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW107">掃除</a></span>してみてください。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div><figure class="figure">
  
  <span class="caption"></span>
  <img src="Art/ICC_sim_finalUI_2x.png" alt="image: ../Art/ICC_sim_finalUI_2x.png" width="387" height="679" />
</figure>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_10"></a>
  <h3 class="section-name" tabindex="0">Wrapping Up<br><span class="jpstr">
まとめ
</span><!--end_jpstr-->
</h3>
  <p class="para">
  In this lesson, you learned how to build a custom control that can be displayed in Interface Builder. The control also exposes properties that can be modified in the Attributes inspector. Finally, you added accessibility information, ensuring that the control works well with Voice Over.
<br><span class="jpstr">
このレッスンでは、あなたはカスタムコントロールをビルドする方法を学びました、それはInterface Builderで表示されることができます。コントロールはまた、Attributesインスペクタで修正可能なプロパティを外界に触れさせます。最後に、あなたはアクセシビリティ情報を加えて、コントロールがVoice Overでうまく機能することを確かなものにしました。
</span><!--end_jpstr-->
</p><p class="para">
  Next, you will design and connect the app’s data model.
<br><span class="jpstr">
次に、あなたはアプリのデータモデルの設計および接続をすることになります。
</span><!--end_jpstr-->
</p><div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH19-DontLinkElementID_36"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">To see the completed sample project for this lesson, download the file and view it in Xcode.
    	<br><span class="jpstr">
このレッスンの完成見本プロジェクトを見るには、このファイルをダウンロードしてXcodeでそれを見てください。
</span><!--end_jpstr-->
</p>
    <p class="para">
  <img class="inline-graphic" src="Art/WWDR_download_icon_withPadding_2x.png" alt="image: ../Art/WWDR_download_icon_withPadding_2x.png" width="15" height="17" /><a href="https://developer.apple.com/sample-code/swift/downloads/04_ImplementACustomControl.zip">Download File</a>
</p>

  </aside>
</div>
  
</section>


 	<section id="next_previous" class="">
    		<p class="previous-link"><a href="WorkWithViewControllers.html#//apple_ref/doc/uid/TP40015214-CH6-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH6-SW1">Work with View Controllers<br><span class="jpstr">
ビューコントローラを扱う
</span><!--end_jpstr-->
</a></p>
  			<p class="next-link"><a href="DefineYourDataModel.html#//apple_ref/doc/uid/TP40015214-CH20-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH20-SW1">Define Your Data Model<br><span class="jpstr">
あなたのデータモデルの定義
</span><!--end_jpstr-->
</a></p>

    <p class="copyright">Copyright &#x00a9; 2016 Apple Inc. All rights reserved. 
  <a class="link" href="http://www.apple.com/legal/terms/site.html" target="_blank" rel="external">Terms of Use</a> | 
  <a class="link" href="http://www.apple.com/privacy/" target="_blank" rel="external">Privacy Policy</a> | 
  <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Updated: 2016-12-08</a>
</p>
  </section>
</article>

    </div>
    <div id='big_button'></div>
    <footer id="footer">
  <div class="content-wrapper">
  	<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
  </div>
  <script src="../../../Resources/1257/JavaScript/devpubs-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../Resources/1257/JavaScript/feedback-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <div id="_omniture_top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
</script>

<!-- <script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script> -->
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>

</footer>

    
  </body>
    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="https://developer.apple.com/bugreporter/" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

</div>
</html>
