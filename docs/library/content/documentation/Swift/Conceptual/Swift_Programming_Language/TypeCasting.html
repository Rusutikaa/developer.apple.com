<!DOCTYPE html>
<html lang="en">
  <head>  
  <title>The Swift Programming Language (Swift 4): Type Casting</title>
  <link rel="stylesheet" type="text/css" href="../../../../Resources/1264/CSS/style-1.6.3.css" />
  <link rel="stylesheet" type="text/css" href="../../../../Resources/1264/CSS/feedback-1.6.3.css" />
  <meta charset='utf-8'> 
<meta id="j-version" name="j-version" content="" />
<meta id="build" name="build" content="c84576297fc3afc02d9f919c74344612" />
<meta id="document-version" name="document-version" content="10.0.14" />
<meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Topic/Swift}" />
<meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/TP40014097" />
<meta id="chapterId" name="chapterId" content="TP40014097-CH22">
<meta id="book-title" name="book-title" content="The Swift Programming Language (Swift 4)" />
<meta id="book-resource-type" name="book-resource-type" content="Guide" />
<meta id="book-root" name="book-root" content="./" />
<meta id="book-json" name="book-json" content="book.json">
<meta id="date" name="date" content="2017-09-19" />
<meta id="description" name="description" content="The definitive guide to Swift, Apple’s programming language for building iOS, macOS, watchOS, and tvOS apps." />
<meta id="IndexTitle" name="IndexTitle" content="" />
<meta id="resources-uri" name="resources-uri" content="../../../../Resources/1264">
<link id="book-index-page" rel="Start" title="" type="text/html" href="./index.html">
<!-- , next_chapter: next_chapter, previous_chapter: previous_chapter -->
<link id="next-page" rel="Next" type="text/html" href="">
<link id="previous-page" rel="Prev" type="text/html" href="">
<meta id="devcenter" name="devcenter" content="<!-- DEVCENTER_NAME -->" />
<meta id="devcenter-url" name="devcenter-url" content="<!-- DEVCENTER_URL -->" />
<meta id="reflib" name="reflib" content="<!-- REFLIB_NAME -->" />

<meta id="xcode-display" name="xcode-display" content="render" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta id="platforms" name="platforms" content="Xcode Developer Tools">
</head>

  <body id="conceptual_flow_with_tasks" class="jazz">
    
    <header id="ios_header" class="hideOnPrint hideInXcode">
  <div class="content-wrapper">
    <p class="header-text">
    	<a href="../../../../navigation/index.html">Guides and Sample Code
 		</a>
 </p>
    <p id="wwdr"><img id="apple_logo" src="../../../../Resources/1264/Images/apple2.png" height="14px" width="12px" aria-hidden="true" /><a href="https://developer.apple.com">Developer</a></p>
  </div>
</header>

    <section id="valence">
  <div class="content-wrapper">
    <p id="hierarchial_navigation">
      <span id="book_title">The Swift Programming Language (Swift 4)</span>
    </p>
    <form id="search" class="hideInXcode" method="get" action="/search/index.php" accept-charset="utf-8" autocomplete="off">
  <input type="search" id="ssi_SearchField" placeholder="Search Guides and Sample Code" name="q" autocomplete="off" tabindex="2" />
</form>

      
   
   




    <span class="download-text hideInXcode">
      <a href="https://itunes.apple.com/us/book/the-swift-programming-language/id881256329?mt=11">iBooks</a>
    </span>

    

    <img id="shortstack" src="../../../../Resources/1264/Images/shortstack_2x.png"/>
  </div>
</section>
    <div class="content-wrapper">
      <nav id="navigator" class="book-parts hideInXcode" role="navigation">
    <ul class="nav-parts">
        <li data-id="//apple_ref/doc/uid/TP40014097-CH1-ID2"
            class="part-name">
            <a href="index.html#//apple_ref/doc/uid/TP40014097-CH3-ID0" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH3-ID0">Welcome to Swift<br><span class="jpstr">
スウィフトにようこそ
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="index.html#//apple_ref/doc/uid/TP40014097-CH3-ID0" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH3-ID0">About Swift<br><span class="jpstr">
スウィフトについて
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Compatibility.html#//apple_ref/doc/uid/TP40014097-CH45-ID561" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH45-ID561">Version Compatibility<br><span class="jpstr">
バージョン互換性
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="GuidedTour.html#//apple_ref/doc/uid/TP40014097-CH2-ID1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH2-ID1">A Swift Tour<br><span class="jpstr">
スウィフトツアー
</span><!--end_jpstr-->
</a>
              </li>
          </ul>
        </li>
        <li data-id="//apple_ref/doc/uid/TP40014097-CH4-ID233"
            class="part-name nav-part-active open-part">
            <a href="TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID309" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH5-ID309">Language Guide<br><span class="jpstr">
言語ガイド
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID309" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH5-ID309">The Basics<br><span class="jpstr">
基本
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="BasicOperators.html#//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators<br><span class="jpstr">
基本の演算子
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="StringsAndCharacters.html#//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285">Strings and Characters<br><span class="jpstr">
文字列と文字
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="CollectionTypes.html#//apple_ref/doc/uid/TP40014097-CH8-ID105" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH8-ID105">Collection Types<br><span class="jpstr">
コレクション型
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="ControlFlow.html#//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow<br><span class="jpstr">
制御の流れ
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Functions.html#//apple_ref/doc/uid/TP40014097-CH10-ID158" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH10-ID158">Functions<br><span class="jpstr">
関数
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Closures.html#//apple_ref/doc/uid/TP40014097-CH11-ID94" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH11-ID94">Closures<br><span class="jpstr">
クロージャ
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Enumerations.html#//apple_ref/doc/uid/TP40014097-CH12-ID145" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH12-ID145">Enumerations<br><span class="jpstr">
列挙
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="ClassesAndStructures.html#//apple_ref/doc/uid/TP40014097-CH13-ID82" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH13-ID82">Classes and Structures<br><span class="jpstr">
クラスと構造体
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Properties.html#//apple_ref/doc/uid/TP40014097-CH14-ID254" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH14-ID254">Properties<br><span class="jpstr">
プロパティ
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Methods.html#//apple_ref/doc/uid/TP40014097-CH15-ID234" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH15-ID234">Methods<br><span class="jpstr">
メソッド
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Subscripts.html#//apple_ref/doc/uid/TP40014097-CH16-ID305" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH16-ID305">Subscripts<br><span class="jpstr">
添え字
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Inheritance.html#//apple_ref/doc/uid/TP40014097-CH17-ID193" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH17-ID193">Inheritance<br><span class="jpstr">
継承
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization<br><span class="jpstr">
初期化
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Deinitialization.html#//apple_ref/doc/uid/TP40014097-CH19-ID142" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH19-ID142">Deinitialization<br><span class="jpstr">
デイニシャライズ
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="OptionalChaining.html#//apple_ref/doc/uid/TP40014097-CH21-ID245" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH21-ID245">Optional Chaining<br><span class="jpstr">
オプショナル連鎖
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="ErrorHandling.html#//apple_ref/doc/uid/TP40014097-CH42-ID508" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH42-ID508">Error Handling<br><span class="jpstr">
エラーの処理
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter nav-current-chapter">
              	<a href="#//apple_ref/doc/uid/TP40014097-CH22-ID338" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH22-ID338">Type Casting<br><span class="jpstr">
型キャスト
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="NestedTypes.html#//apple_ref/doc/uid/TP40014097-CH23-ID242" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH23-ID242">Nested Types<br><span class="jpstr">
入れ子にされた型
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Extensions.html#//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions<br><span class="jpstr">
拡張
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Protocols.html#//apple_ref/doc/uid/TP40014097-CH25-ID267" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH25-ID267">Protocols<br><span class="jpstr">
プロトコル
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Generics.html#//apple_ref/doc/uid/TP40014097-CH26-ID179" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH26-ID179">Generics<br><span class="jpstr">
総称体
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-ID48" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH20-ID48">Automatic Reference Counting<br><span class="jpstr">
自動参照カウント
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="MemorySafety.html#//apple_ref/doc/uid/TP40014097-CH46-ID567" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH46-ID567">Memory Safety<br><span class="jpstr">
メモリ安全
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID3" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH41-ID3">Access Control<br><span class="jpstr">
アクセス制御
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28">Advanced Operators<br><span class="jpstr">
先進の演算子
</span><!--end_jpstr-->
</a>
              </li>
          </ul>
        </li>
        <li data-id="//apple_ref/doc/uid/TP40014097-CH28-ID427"
            class="part-name">
            <a href="AboutTheLanguageReference.html#//apple_ref/doc/uid/TP40014097-CH29-ID345" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH29-ID345">Language Reference<br><span class="jpstr">
言語リファレンス
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="AboutTheLanguageReference.html#//apple_ref/doc/uid/TP40014097-CH29-ID345" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH29-ID345">About the Language Reference<br><span class="jpstr">
言語リファレンスについて
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="LexicalStructure.html#//apple_ref/doc/uid/TP40014097-CH30-ID410" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH30-ID410">Lexical Structure<br><span class="jpstr">
語彙の構造
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Types.html#//apple_ref/doc/uid/TP40014097-CH31-ID445" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH31-ID445">Types<br><span class="jpstr">
型
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Expressions.html#//apple_ref/doc/uid/TP40014097-CH32-ID383" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH32-ID383">Expressions<br><span class="jpstr">
式
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Statements.html#//apple_ref/doc/uid/TP40014097-CH33-ID428" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH33-ID428">Statements<br><span class="jpstr">
文
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Declarations.html#//apple_ref/doc/uid/TP40014097-CH34-ID351" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH34-ID351">Declarations<br><span class="jpstr">
宣言
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Attributes.html#//apple_ref/doc/uid/TP40014097-CH35-ID347" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH35-ID347">Attributes<br><span class="jpstr">
属性
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="Patterns.html#//apple_ref/doc/uid/TP40014097-CH36-ID419" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH36-ID419">Patterns<br><span class="jpstr">
パターン
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="GenericParametersAndArguments.html#//apple_ref/doc/uid/TP40014097-CH37-ID406" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH37-ID406">Generic Parameters and Arguments<br><span class="jpstr">
総称体パラメータと引数
</span><!--end_jpstr-->
</a>
              </li>
              <li class="nav-chapter">
              	<a href="zzSummaryOfTheGrammar.html#//apple_ref/doc/uid/TP40014097-CH38-ID458" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH38-ID458">Summary of the Grammar<br><span class="jpstr">
文法の概要
</span><!--end_jpstr-->
</a>
              </li>
          </ul>
        </li>
        <li data-id="//apple_ref/doc/uid/TP40014097-CH39-ID460"
            class="part-name">
            <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40014097-CH40-ID459" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH40-ID459">Revision History<br><span class="jpstr">
改訂履歴
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="RevisionHistory.html#//apple_ref/doc/uid/TP40014097-CH40-ID459" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH40-ID459">Document Revision History<br><span class="jpstr">
文書改訂履歴
</span><!--end_jpstr-->
</a>
              </li>
          </ul>
        </li>
    </ul>
</nav>

      <menu id="bashful" type="toolbar">
  <div class="shield"></div>
  <menuitem id="jump_to" class="menu-bar-item closed">
  <span>On This Page</span>
  <div class="chevron">
    <div class="chevy chevron-left"></div>
    <div class="chevy chevron-right"></div>
  </div>
  <menu type="list" class="details">
      <ul class="list-bullet">
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40014097-CH22-ID339">Defining a Class Hierarchy for Type Casting</a>
<br><span class="jpstr">
型キャストのためにクラス階層を定義する
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40014097-CH22-ID340">Checking Type</a>
<br><span class="jpstr">
型を調べる
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40014097-CH22-ID341">Downcasting</a>
<br><span class="jpstr">
ダウンキャスト
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40014097-CH22-ID342">Type Casting for Any and AnyObject</a>
<br><span class="jpstr">
AnyおよびAnyObjectに対する型キャスト
</span><!--end_jpstr-->
          </li>
      </ul>
  </menu>
</menuitem>

</menu>
<div class="pixel-line"></div>
<div class="rubber-band-gap"></div>
<article class="chapter">
  <a name="//apple_ref/doc/uid/TP40014097-CH22"></a><a name="//apple_ref/doc/uid/TP40014097-CH22-ID338"></a>

  <h2 class='chapter-name'>Type Casting<br><span class="jpstr">
型キャスト
</span><!--end_jpstr-->
</h2>


  
  	<section class="section">
  		<p class="para">
  <em>Type casting</em> is a way to check the type of an instance, or to treat that instance as a different superclass or subclass from somewhere else in its own class hierarchy.
<br><span class="jpstr">
<em>型キャスト</em>は、あるインスタンスの型を調べるための、またはそのインスタンスを、それ自身のクラス階層中のどこか他の別のスーパークラスやサブクラスとして扱うための方法です。
</span><!--end_jpstr-->
</p>
<p class="para">
  Type casting in Swift is implemented with the <code class="code-voice">is</code> and <code class="code-voice">as</code> operators. These two operators provide a simple and expressive way to check the type of a value or cast a value to a different type.
<br><span class="jpstr">
スウィフトでの型キャストは、<code class="code-voice">is</code>と<code class="code-voice">as</code>演算子を使って実行されます。これらの２つの演算子は、値の型を調べたり、値を異なる型にキャストする（配役する、投げ込む）ための単純で表現豊かな方法を提供します。
</span><!--end_jpstr-->
</p>
<p class="para">
  You can also use type casting to check whether a type conforms to a protocol, as described in <span class="x-name"><a href="Protocols.html#//apple_ref/doc/uid/TP40014097-CH25-ID283" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH25-ID283">Checking for Protocol Conformance</a></span>.
<br><span class="jpstr">
あなたはまた、<span class="x-name"><a href="Protocols.html#//apple_ref/doc/uid/TP40014097-CH25-ID283" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH25-ID283">プロトコル準拠の確認</a></span>で記述されるように、その型があるプロトコルに準拠しているどうか調べるために型キャストを使うことができます。
</span><!--end_jpstr-->
</p>

		</section> 


  <section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH22-ID339"></a>
  <h3 class="section-name" tabindex="0">Defining a Class Hierarchy for Type Casting<br><span class="jpstr">
型キャストのためにクラス階層を定義する
</span><!--end_jpstr-->
</h3>
  <p class="para">
  You can use type casting with a hierarchy of classes and subclasses to check the type of a particular class instance and to cast that instance to another class within the same hierarchy. The three code snippets below define a hierarchy of classes and an array containing instances of those classes, for use in an example of type casting.
<br><span class="jpstr">
あなたは、いくつかのクラスおよびサブクラスからなるある階層とともに型キャストを使って、特定のクラスインスタンスの型を調べて、そのインスタンスを同じ階層内の別のクラスにキャストすることができます。下の３つのコードの断片は、型キャストの例で使うために、あるクラス階層とそれらのクラスのインスタンスを含んでいる配列を定義します。
</span><!--end_jpstr-->
</p><p class="para">
  The first snippet defines a new base class called <code class="code-voice">MediaItem</code>. This class provides basic functionality for any kind of item that appears in a digital media library. Specifically, it declares a <code class="code-voice">name</code> property of type <code class="code-voice">String</code>, and an <code class="code-voice">init name</code> initializer. (It is assumed that all media items, including all movies and songs, will have a name.)
<br><span class="jpstr">
最初の断片は、<code class="code-voice">MediaItem</code>と呼ばれる新しい基盤クラスを定義します。このクラスは、基本の機能性をデジタル・メディア図書館に現れるあらゆる種類の項目のために用意します。特に、それは型<code class="code-voice">String</code>の<code class="code-voice">name</code>プロパティ、そして<code class="code-voice">init name</code>イニシャライザを宣言します。（全ての映画と歌を含む、全てのメディア項目が名前を持つと仮定されます）。
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">MediaItem</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span></code></li>
            <li><code class="code-voice">    <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span>) {</code></li>
            <li><code class="code-voice">        <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  The next snippet defines two subclasses of <code class="code-voice">MediaItem</code>. The first subclass, <code class="code-voice">Movie</code>, encapsulates additional information about a movie or film. It adds a <code class="code-voice">director</code> property on top of the base <code class="code-voice">MediaItem</code> class, with a corresponding initializer. The second subclass, <code class="code-voice">Song</code>, adds an <code class="code-voice">artist</code> property and initializer on top of the base class:
<br><span class="jpstr">
次の断片は、<code class="code-voice">MediaItem</code>の２つのサブクラスを定義します。最初のサブクラス<code class="code-voice">Movie</code>は、映画またはフィルムに関する追加の情報をカプセル化します。それは、対応するイニシャライザを使って、基盤クラス<code class="code-voice">MediaItem</code>の上に<code class="code-voice">director</code>プロパティを加えます。第二のサブクラス<code class="code-voice">Song</code>は、基盤クラスの上に<code class="code-voice">artist</code>プロパティとイニシャライザを加えます：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">Movie</span>: <span class="n"><! -- a href="" -->MediaItem<! -- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">var</span> <span class="vc">director</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span></code></li>
            <li><code class="code-voice">    <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span>, <span class="vc">director</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span>) {</code></li>
            <li><code class="code-voice">        <span class="kt">self</span>.<span class="vc">director</span> = <span class="vc">director</span></code></li>
            <li><code class="code-voice">        <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">Song</span>: <span class="n"><! -- a href="" -->MediaItem<! -- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">var</span> <span class="vc">artist</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span></code></li>
            <li><code class="code-voice">    <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span>, <span class="vc">artist</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span>) {</code></li>
            <li><code class="code-voice">        <span class="kt">self</span>.<span class="vc">artist</span> = <span class="vc">artist</span></code></li>
            <li><code class="code-voice">        <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  The final snippet creates a constant array called <code class="code-voice">library</code>, which contains two <code class="code-voice">Movie</code> instances and three <code class="code-voice">Song</code> instances. The type of the <code class="code-voice">library</code> array is inferred by initializing it with the contents of an array literal. Swift’s type checker is able to deduce that <code class="code-voice">Movie</code> and <code class="code-voice">Song</code> have a common superclass of <code class="code-voice">MediaItem</code>, and so it infers a type of <code class="code-voice">[MediaItem]</code> for the <code class="code-voice">library</code> array:
<br><span class="jpstr">
最終的な断片は<code class="code-voice">library</code>と呼ばれる定数の配列をつくります、それは、２つの<code class="code-voice">Movie</code>インスタンスと３つの<code class="code-voice">Song</code>インスタンスを含みます。<code class="code-voice">library</code>配列の型は、ある配列リテラルの内容でそれを初期化することから推論されます。スウィフトの型チェッカーは<code class="code-voice">Movie</code>と<code class="code-voice">Song</code>が共通のスーパークラス<code class="code-voice">MediaItem</code>を持つと推論することができます、なのでそれは<code class="code-voice">library</code>配列に対して<code class="code-voice">[MediaItem]</code>型を推論します：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">library</span> = [</code></li>
            <li><code class="code-voice">    <span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">&quot;Casablanca&quot;</span>, <span class="vc">director</span>: <span class="s">&quot;Michael Curtiz&quot;</span>),</code></li>
            <li><code class="code-voice">    <span class="vc">Song</span>(<span class="vc">name</span>: <span class="s">&quot;Blue Suede Shoes&quot;</span>, <span class="vc">artist</span>: <span class="s">&quot;Elvis Presley&quot;</span>),</code></li>
            <li><code class="code-voice">    <span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">&quot;Citizen Kane&quot;</span>, <span class="vc">director</span>: <span class="s">&quot;Orson Welles&quot;</span>),</code></li>
            <li><code class="code-voice">    <span class="vc">Song</span>(<span class="vc">name</span>: <span class="s">&quot;The One And Only&quot;</span>, <span class="vc">artist</span>: <span class="s">&quot;Chesney Hawkes&quot;</span>),</code></li>
            <li><code class="code-voice">    <span class="vc">Song</span>(<span class="vc">name</span>: <span class="s">&quot;Never Gonna Give You Up&quot;</span>, <span class="vc">artist</span>: <span class="s">&quot;Rick Astley&quot;</span>)</code></li>
            <li><code class="code-voice">]</code></li>
            <li><code class="code-voice"><span class="c">// the type of &quot;library&quot; is inferred to be [MediaItem]&nbsp;<span class="jpstr">（「library」の型は、[MediaItem]であると推測されます）</span><!--end_jpstr-->
</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  The items stored in <code class="code-voice">library</code> are still <code class="code-voice">Movie</code> and <code class="code-voice">Song</code> instances behind the scenes. However, if you iterate over the contents of this array, the items you receive back are typed as <code class="code-voice">MediaItem</code>, and not as <code class="code-voice">Movie</code> or <code class="code-voice">Song</code>. In order to work with them as their native type, you need to <em>check</em> their type, or <em>downcast</em> them to a different type, as described below.
<br><span class="jpstr">
<code class="code-voice">library</code>に格納される項目は、依然として舞台裏では<code class="code-voice">Movie</code>と<code class="code-voice">Song</code>インスタンスです。しかし、あなたがこの配列の内容上に繰り返すならば、あなたがそこから取り出す項目は、<code class="code-voice">MediaItem</code>型としてであって、<code class="code-voice">Movie</code>または<code class="code-voice">Song</code>ではありません。それらをそれらの生来の型として取り扱うために、下で述べるように、あなたはそれらの型を<em>調べる</em>こと、またはそれらを異なる型へ<em>ダウンキャスト</em>することが必要です。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH22-ID340"></a>
  <h3 class="section-name" tabindex="0">Checking Type<br><span class="jpstr">
型を調べる
</span><!--end_jpstr-->
</h3>
  <p class="para">
  Use the <em>type check operator</em> (<code class="code-voice">is</code>) to check whether an instance is of a certain subclass type. The type check operator returns <code class="code-voice">true</code> if the instance is of that subclass type and <code class="code-voice">false</code> if it is not.
<br><span class="jpstr">
<em>型確認演算子</em>（<code class="code-voice">is</code>）を使用して、あるインスタンスが特定のサブクラス型であるかどうか調べてください。型確認演算子はそのインスタンスがそのサブクラス型ならば<code class="code-voice">true</code>を、それがそうでないならば<code class="code-voice">false</code>を返します。
</span><!--end_jpstr-->
</p><p class="para">
  The example below defines two variables, <code class="code-voice">movieCount</code> and <code class="code-voice">songCount</code>, which count the number of <code class="code-voice">Movie</code> and <code class="code-voice">Song</code> instances in the <code class="code-voice">library</code> array:
<br><span class="jpstr">
下の例は２つの変数、<code class="code-voice">movieCount</code>と<code class="code-voice">songCountを</code>定義します、それは、<code class="code-voice">Movie</code>と<code class="code-voice">Song</code>インスタンスの数を<code class="code-voice">library</code>配列において数えます：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">movieCount</span> = <span class="m">0</span></code></li>
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">songCount</span> = <span class="m">0</span></code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">for</span> <span class="vc">item</span> <span class="kt">in</span> <span class="vc">library</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="vc">item</span> <span class="kt">is</span> <span class="n"><! -- a href="" -->Movie<! -- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="vc">movieCount</span> += <span class="m">1</span></code></li>
            <li><code class="code-voice">    } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">item</span> <span class="kt">is</span> <span class="n"><! -- a href="" -->Song<! -- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="vc">songCount</span> += <span class="m">1</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="vc">print</span>(<span class="s">&quot;Media library contains </span>\(<span class="vc">movieCount</span>)<span class="s"> movies and </span>\(<span class="vc">songCount</span>)<span class="s"> songs&quot;</span>)</code></li>
            <li><code class="code-voice"><span class="c">// Prints &quot;Media library contains 2 movies and 3 songs&quot;&nbsp;<span class="jpstr">（「情報媒体書庫は、２つの映画と３つの歌を含みます」を出力します）</span><!--end_jpstr-->
</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  This example iterates through all items in the <code class="code-voice">library</code> array. On each pass, the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop sets the <code class="code-voice">item</code> constant to the next <code class="code-voice">MediaItem</code> in the array.
<br><span class="jpstr">
この例は、<code class="code-voice">library</code>配列の中の全ての項目の端が端まで繰り返します。各段階で、この<code class="code-voice">for</code>-<code class="code-voice">in</code>ループは<code class="code-voice">item</code>定数を次の<code class="code-voice">MediaItem</code>に設定します。
</span><!--end_jpstr-->
</p><p class="para">
  <code class="code-voice">item is Movie</code> returns <code class="code-voice">true</code> if the current <code class="code-voice">MediaItem</code> is a <code class="code-voice">Movie</code> instance and <code class="code-voice">false</code> if it is not. Similarly, <code class="code-voice">item is Song</code> checks whether the item is a <code class="code-voice">Song</code> instance. At the end of the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, the values of <code class="code-voice">movieCount</code> and <code class="code-voice">songCount</code> contain a count of how many <code class="code-voice">MediaItem</code> instances were found of each type.
<br><span class="jpstr">
<code class="code-voice">item is Movie</code>は、現在の<code class="code-voice">MediaItem</code>が<code class="code-voice">Movie</code>インスタンスであるならば<code class="code-voice">true</code>を、そうでないならば<code class="code-voice">false</code>を返します。同じように、<code class="code-voice">item is Song</code>はその項目が<code class="code-voice">Song</code>インスタンスであるか調べます。<code class="code-voice">for</code>-<code class="code-voice">in</code>ループの終わりに、<code class="code-voice">movieCount</code>と<code class="code-voice">songCount</code>の値は、各型の<code class="code-voice">MediaItem</code>インスタンスがどれくらい見つけられたかの総数を含みます。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH22-ID341"></a>
  <h3 class="section-name" tabindex="0">Downcasting<br><span class="jpstr">
ダウンキャスト
</span><!--end_jpstr-->
</h3>
  <p class="para">
  A constant or variable of a certain class type may actually refer to an instance of a subclass behind the scenes. Where you believe this is the case, you can try to <em>downcast</em> to the subclass type with a <em>type cast operator</em> (<code class="code-voice">as?</code> or <code class="code-voice">as!</code>).
<br><span class="jpstr">
特定のクラス型の定数または変数は、舞台裏で実際にはあるサブクラスのインスタンスを参照するかもしれません。あなたがこの場合であると思う所で、あなたはサブクラス型への<em>ダウンキャスト</em>を試みることが<em>型キャスト演算子</em>（<code class="code-voice">as?</code>または<code class="code-voice">as!</code>）を使ってできます。
</span><!--end_jpstr-->
</p><p class="para">
  Because downcasting can fail, the type cast operator comes in two different forms. The conditional form, <code class="code-voice">as?</code>, returns an optional value of the type you are trying to downcast to. The forced form, <code class="code-voice">as!</code>, attempts the downcast and force-unwraps the result as a single compound action.
<br><span class="jpstr">
ダウンキャストは失敗することがありえるので、型キャスト演算子は２つの異なる書式になります。条件（仮定）形式<code class="code-voice">as?</code>は、あなたがダウンキャストしようとしている型のオプショナルの値を返します。強制形式<code class="code-voice">as!</code>は、一回の複合動作として、ダウンキャストとその結果の強制アンラップを試みます。
</span><!--end_jpstr-->
</p><p class="para">
  Use the conditional form of the type cast operator (<code class="code-voice">as?</code>) when you are not sure if the downcast will succeed. This form of the operator will always return an optional value, and the value will be <code class="code-voice">nil</code> if the downcast was not possible. This enables you to check for a successful downcast.
<br><span class="jpstr">
あなたがダウンキャストが成功するかどうかよくわからない場合には、条件形式の型キャスト演算子（<code class="code-voice">as?</code>）を使ってください。演算子のこの形式は、常にオプショナルの値を返します、そしてダウンキャストが可能でなかったならばその値は<code class="code-voice">nil</code>です。これは、あなたに成功したダウンキャストについて調べるのを可能にします。
</span><!--end_jpstr-->
</p><p class="para">
  Use the forced form of the type cast operator (<code class="code-voice">as!</code>) only when you are sure that the downcast will always succeed. This form of the operator will trigger a runtime error if you try to downcast to an incorrect class type.
<br><span class="jpstr">
あなたがダウンキャストが常に成功すると確信する場合には、強制形式の型キャスト演算子（<code class="code-voice">as!</code>）を使います。演算子のこの形式は、あなたが適切でないクラス型へのダウンキャストをためすならば、実行時エラーを引き起こします。
</span><!--end_jpstr-->
</p><p class="para">
  The example below iterates over each <code class="code-voice">MediaItem</code> in <code class="code-voice">library</code>, and prints an appropriate description for each item. To do this, it needs to access each item as a true <code class="code-voice">Movie</code> or <code class="code-voice">Song</code>, and not just as a <code class="code-voice">MediaItem</code>. This is necessary in order for it to be able to access the <code class="code-voice">director</code> or <code class="code-voice">artist</code> property of a <code class="code-voice">Movie</code> or <code class="code-voice">Song</code> for use in the description.
<br><span class="jpstr">
下の例は、上に<code class="code-voice">library</code>の中の各々の<code class="code-voice">MediaItem</code>すべてに繰り返して、各項目の適切な説明を出力します。これをするために、それは、ただ<code class="code-voice">MediaItem</code>としてではなく、本当の<code class="code-voice">Movie</code>または<code class="code-voice">Song</code>として各項目にアクセスする必要があります。これは、それがその説明で使う目的で<code class="code-voice">Movie</code>または<code class="code-voice">Song</code>のもつ<code class="code-voice">director</code>または<code class="code-voice">artist</code>プロパティにアクセス可能になるために必要です。
</span><!--end_jpstr-->
</p><p class="para">
  In this example, each item in the array might be a <code class="code-voice">Movie</code>, or it might be a <code class="code-voice">Song</code>. You don’t know in advance which actual class to use for each item, and so it is appropriate to use the conditional form of the type cast operator (<code class="code-voice">as?</code>) to check the downcast each time through the loop:
<br><span class="jpstr">
この例では、配列の各項目は<code class="code-voice">Movie</code>であるかもしれませんし、それは<code class="code-voice">Song</code>であるかもしれません。あなたは、前もって、各項目のために使われる実際のクラスがどれかを知りません、なので適切なのは、型キャスト演算子の条件形式（<code class="code-voice">as?</code>）を使用してループを通して毎回ダウンキャストを確認することです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">for</span> <span class="vc">item</span> <span class="kt">in</span> <span class="vc">library</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="kt">let</span> <span class="vc">movie</span> = <span class="vc">item</span> <span class="kt">as</span>? <span class="n"><! -- a href="" -->Movie<! -- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;Movie: </span>\(<span class="vc">movie</span>.<span class="vc">name</span>)<span class="s">, dir. </span>\(<span class="vc">movie</span>.<span class="vc">director</span>)<span class="s">&quot;</span>)</code></li>
            <li><code class="code-voice">    } <span class="kt">else</span> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">song</span> = <span class="vc">item</span> <span class="kt">as</span>? <span class="n"><! -- a href="" -->Song<! -- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;Song: </span>\(<span class="vc">song</span>.<span class="vc">name</span>)<span class="s">, by </span>\(<span class="vc">song</span>.<span class="vc">artist</span>)<span class="s">&quot;</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="c">// Movie: Casablanca, dir. Michael Curtiz&nbsp;<span class="jpstr">（映画：『カサブランカ』（監）マイケル・カーティス）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// Song: Blue Suede Shoes, by Elvis Presley&nbsp;<span class="jpstr">（歌：『青い裏革靴』、エルヴィス・プレスリー）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// Movie: Citizen Kane, dir. Orson Welles&nbsp;<span class="jpstr">（映画：『市民ケーン』（監）オーソン・ウェルズ）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// Song: The One And Only, by Chesney Hawkes&nbsp;<span class="jpstr">（歌：『唯一無二の』、チェズニー・ホークス）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// Song: Never Gonna Give You Up, by Rick Astley&nbsp;<span class="jpstr">（歌：『諦めないで』、リック・アストリー）</span><!--end_jpstr-->
</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  The example starts by trying to downcast the current <code class="code-voice">item</code> as a <code class="code-voice">Movie</code>. Because <code class="code-voice">item</code> is a <code class="code-voice">MediaItem</code> instance, it’s possible that it <em>might</em> be a <code class="code-voice">Movie</code>; equally, it’s also possible that it might be a <code class="code-voice">Song</code>, or even just a base <code class="code-voice">MediaItem</code>. Because of this uncertainty, the <code class="code-voice">as?</code> form of the type cast operator returns an <em>optional</em> value when attempting to downcast to a subclass type. The result of <code class="code-voice">item as? Movie</code> is of type <code class="code-voice">Movie?</code>, or “optional <code class="code-voice">Movie</code>”.
<br><span class="jpstr">
例は、現在の<code class="code-voice">item</code>を<code class="code-voice">Movie</code>としてダウンキャストすることを試みることによって始まります。<code class="code-voice">item</code>が<code class="code-voice">MediaItem</code>インスタンスであるので、それが<code class="code-voice">Movie</code>である<em>かもしれない</em>可能性があります；等しく、それが<code class="code-voice">Song</code>かもしれない可能性もまたあります、または単に基盤<code class="code-voice">MediaItem</code>であることさえも。この不確実性のために、サブクラス型へのダウンキャストを試みるとき、型キャスト演算子の<code class="code-voice">as?</code>形式は<em>オプショナル</em>の値を返します。<code class="code-voice">item as? Movie</code>の結果は、<code class="code-voice">Movie?</code>型、すなわち「オプショナルの<code class="code-voice">Movie</code>」です。
</span><!--end_jpstr-->
</p><p class="para">
  Downcasting to <code class="code-voice">Movie</code> fails when applied to the <code class="code-voice">Song</code> instances in the library array. To cope with this, the example above uses optional binding to check whether the optional <code class="code-voice">Movie</code> actually contains a value (that is, to find out whether the downcast succeeded.) This optional binding is written “<code class="code-voice">if let movie = item as? Movie</code>”, which can be read as:
<br><span class="jpstr">
<code class="code-voice">Movie</code>にダウンキャストすることは、library配列の<code class="code-voice">Song</code>インスタンスに適用されるとき失敗します。これに対処するために、上の例は、オプショナル束縛を使って、オプショナルの<code class="code-voice">Movie</code>が実際に値を含むかどうか調べます（すなわち、ダウンキャストが成功したかどうか探り出します）。このオプショナル束縛は「<code class="code-voice">if let movie = item as? Movie</code>」のように書かれます、それは、次のように解釈されることができます：
</span><!--end_jpstr-->
</p><p class="para">
  “Try to access <code class="code-voice">item</code> as a <code class="code-voice">Movie</code>. If this is successful, set a new temporary constant called <code class="code-voice">movie</code> to the value stored in the returned optional <code class="code-voice">Movie</code>.”
<br><span class="jpstr">
「<code class="code-voice">item</code>に<code class="code-voice">Movie</code>としてアクセスを試みてください。これが成功するならば、<code class="code-voice">movie</code>と呼ばれる新しい一時的な定数を、返されたオプショナルの<code class="code-voice">Movie</code>に格納される値に設定してください。」
</span><!--end_jpstr-->
</p><p class="para">
  If the downcasting succeeds, the properties of <code class="code-voice">movie</code> are then used to print a description for that <code class="code-voice">Movie</code> instance, including the name of its <code class="code-voice">director</code>. A similar principle is used to check for <code class="code-voice">Song</code> instances, and to print an appropriate description (including <code class="code-voice">artist</code> name) whenever a <code class="code-voice">Song</code> is found in the library.
<br><span class="jpstr">
ダウンキャストが成功するならば、<code class="code-voice">movie</code>のプロパティがそれから使用されて、その<code class="code-voice">Movie</code>インスタンスの、それの<code class="code-voice">director</code>（監督）の名前を含む説明を出力することになります。類似した原則が使用されて、<code class="code-voice">Song</code>インスタンスか確認して、そして<code class="code-voice">Song</code>がlibraryで見つけられるときはいつでも、適切な説明（<code class="code-voice">artist</code>名を含む）を出力します。
</span><!--end_jpstr-->
</p><div class="note">
  <a name="//apple_ref/doc/uid/TP40014097-CH22-NoLink_159"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">Casting does not actually modify the instance or change its values. The underlying instance remains the same; it is simply treated and accessed as an instance of the type to which it has been cast.
    	<br><span class="jpstr">
キャストは、実際にインスタンスを修正したり、その値を変えたりしません。根底にあるインスタンスは、同じもののままです；それは単に、それがキャストされた型のインスタンスとして扱われ、アクセスされます。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH22-ID342"></a>
  <h3 class="section-name" tabindex="0">Type Casting for Any and AnyObject<br><span class="jpstr">
AnyおよびAnyObjectに対する型キャスト
</span><!--end_jpstr-->
</h3>
  <p class="para">
  Swift provides two special types for working with nonspecific types:
<br><span class="jpstr">
スウィフトは、２つの特別な型を「不特定」の型を扱うために提供します：
</span><!--end_jpstr-->
</p><ul class="list-bullet">
  <li class="item"><p class="para">
  <code class="code-voice">Any</code> can represent an instance of any type at all, including function types.
<br><span class="jpstr">
<code class="code-voice">Any</code>は、関数型を含めて、ともかくどんな型のインスタンスでも表すことができます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  <code class="code-voice">AnyObject</code> can represent an instance of any class type.
<br><span class="jpstr">
<code class="code-voice">AnyObject</code>は、どんなクラス型のインスタンスでも表すことができます。
</span><!--end_jpstr-->
</p>
</li>
</ul><p class="para">
  Use <code class="code-voice">Any</code> and <code class="code-voice">AnyObject</code> only when you explicitly need the behavior and capabilities they provide. It is always better to be specific about the types you expect to work with in your code.
<br><span class="jpstr">
あなたが明白にそれらが提供する挙動と能力を必要とする時にだけ、<code class="code-voice">Any</code>と<code class="code-voice">AnyObject</code>を使ってください。いつでもより望ましいのは、あなたのコードで扱うことをあなたが期待する型について明確にすることです。
</span><!--end_jpstr-->
</p><p class="para">
  Here’s an example of using <code class="code-voice">Any</code> to work with a mix of different types, including function types and nonclass types. The example creates an array called <code class="code-voice">things</code>, which can store values of type <code class="code-voice">Any</code>:
<br><span class="jpstr">
関数型と非クラス型を含む、異なった型の混合を扱うために<code class="code-voice">Any</code>を使う例が、ここにあります。この例は<code class="code-voice">things</code>と呼ばれる配列をつくります、それは、<code class="code-voice">Any</code>型の値を格納することができます：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">things</span> = [<span class="kt">Any</span>]()</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">0</span>)</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">0.0</span>)</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">42</span>)</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">3.14159</span>)</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="s">&quot;hello&quot;</span>)</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>((<span class="m">3.0</span>, <span class="m">5.0</span>))</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">&quot;Ghostbusters&quot;</span>, <span class="vc">director</span>: <span class="s">&quot;Ivan Reitman&quot;</span>))</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>({ (<span class="vc">name</span>: <span class="n"><! -- a href="" -->String<! -- /a --></span>) -&gt; <span class="n"><! -- a href="" -->String<! -- /a --></span> <span class="kt">in</span> <span class="s">&quot;Hello, </span>\(<span class="vc">name</span>)<span class="s">&quot;</span> })</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  The <code class="code-voice">things</code> array contains two <code class="code-voice">Int</code> values, two <code class="code-voice">Double</code> values, a <code class="code-voice">String</code> value, a tuple of type <code class="code-voice">(Double, Double)</code>, the movie “Ghostbusters”, and a closure expression that takes a <code class="code-voice">String</code> value and returns another <code class="code-voice">String</code> value.
<br><span class="jpstr">
<code class="code-voice">things</code>配列は、２つの<code class="code-voice">Int</code>値、２つの<code class="code-voice">Double</code>値、１つの<code class="code-voice">String</code>値、型<code class="code-voice">(Double, Double)</code>のタプル、映画「ゴーストバスターズ」、そして<code class="code-voice">String</code>値をとって別の<code class="code-voice">String</code>値を返す一つのクロージャ式を含みます。
</span><!--end_jpstr-->
</p><p class="para">
  To discover the specific type of a constant or variable that is known only to be of type <code class="code-voice">Any</code> or <code class="code-voice">AnyObject</code>, you can use an <code class="code-voice">is</code> or <code class="code-voice">as</code> pattern in a <code class="code-voice">switch</code> statement’s cases. The example below iterates over the items in the <code class="code-voice">things</code> array and queries the type of each item with a <code class="code-voice">switch</code> statement. Several of the <code class="code-voice">switch</code> statement’s cases bind their matched value to a constant of the specified type to enable its value to be printed:
<br><span class="jpstr">
型<code class="code-voice">Any</code>または<code class="code-voice">AnyObject</code>のものであることだけが知られている定数や変数の具体的な型を見つけるために、あなたは<code class="code-voice">is</code>または<code class="code-voice">as</code>パターンを<code class="code-voice">switch</code>文のケース節の中で使うことができます。下の例は、<code class="code-voice">things</code>配列の中の項目のすべてに渡って繰り返して、<code class="code-voice">switch</code>文を使って各項目の型について問い合わせます。<code class="code-voice">switch</code>文のケース節のいくつかは、それらが適合した値を指定された型のある定数に結び付け、その値を出力できるようにします：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">for</span> <span class="vc">thing</span> <span class="kt">in</span> <span class="vc">things</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">switch</span> <span class="vc">thing</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="m">0</span> <span class="kt">as</span> <span class="n"><! -- a href="" -->Int<! -- /a --></span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;zero as an Int&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="m">0</span> <span class="kt">as</span> <span class="n"><! -- a href="" -->Double<! -- /a --></span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;zero as a Double&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="kt">let</span> <span class="vc">someInt</span> <span class="kt">as</span> <span class="n"><! -- a href="" -->Int<! -- /a --></span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;an integer value of </span>\(<span class="vc">someInt</span>)<span class="s">&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="kt">let</span> <span class="vc">someDouble</span> <span class="kt">as</span> <span class="n"><! -- a href="" -->Double<! -- /a --></span> <span class="kt">where</span> <span class="vc">someDouble</span> &gt; <span class="m">0</span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;a positive double value of </span>\(<span class="vc">someDouble</span>)<span class="s">&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="kt">is</span> <span class="n"><! -- a href="" -->Double<! -- /a --></span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;some other double value that I don&#39;t want to print&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="kt">let</span> <span class="vc">someString</span> <span class="kt">as</span> <span class="n"><! -- a href="" -->String<! -- /a --></span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;a string value of \&quot;</span>\(<span class="vc">someString</span>)<span class="s">\&quot;&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>) <span class="kt">as</span> (<span class="n"><! -- a href="" -->Double<! -- /a --></span>, <span class="n"><! -- a href="" -->Double<! -- /a --></span>):</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;an (x, y) point at </span>\(<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">y</span>)<span class="s">&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="kt">let</span> <span class="vc">movie</span> <span class="kt">as</span> <span class="n"><! -- a href="" -->Movie<! -- /a --></span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;a movie called </span>\(<span class="vc">movie</span>.<span class="vc">name</span>)<span class="s">, dir. </span>\(<span class="vc">movie</span>.<span class="vc">director</span>)<span class="s">&quot;</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">case</span> <span class="kt">let</span> <span class="vc">stringConverter</span> <span class="kt">as</span> (<span class="n"><! -- a href="" -->String<! -- /a --></span>) -&gt; <span class="n"><! -- a href="" -->String<! -- /a --></span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="vc">stringConverter</span>(<span class="s">&quot;Michael&quot;</span>))</code></li>
            <li><code class="code-voice">    <span class="kt">default</span>:</code></li>
            <li><code class="code-voice">        <span class="vc">print</span>(<span class="s">&quot;something else&quot;</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="c">// zero as an Int&nbsp;<span class="jpstr">（整数のゼロ）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// zero as a Double&nbsp;<span class="jpstr">（浮動小数点のゼロ）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// an integer value of 42&nbsp;<span class="jpstr">（整数値の42）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// a positive double value of 3.14159&nbsp;<span class="jpstr">（正の浮動小数点の値の3.14159）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// a string value of &quot;hello&quot;&nbsp;<span class="jpstr">（文字列値の「よろしく」）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// an (x, y) point at 3.0, 5.0&nbsp;<span class="jpstr">（3.0、5.0の(x, y)座標点）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// a movie called Ghostbusters, dir. Ivan Reitman&nbsp;<span class="jpstr">（『ゴーストバスターズ』と呼ばれる映画、監督アイヴァン・ライトマン）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="c">// Hello, Michael&nbsp;<span class="jpstr">（こんにちは、マイケル）</span><!--end_jpstr-->
</span></code></li>
        </ol>
      </div>
  </div>
</section><div class="note">
  <a name="//apple_ref/doc/uid/TP40014097-CH22-NoLink_160"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">The <code class="code-voice">Any</code> type represents values of any type, including optional types. Swift gives you a warning if you use an optional value where a value of type <code class="code-voice">Any</code> is expected. If you really do need to use an optional value as an <code class="code-voice">Any</code> value, you can use the <code class="code-voice">as</code> operator to explicitly cast the optional to <code class="code-voice">Any</code>, as shown below.
    	<br><span class="jpstr">
<code class="code-voice">Any</code>型は、オプショナル型を含む、何らかの型の値を表します。スウィフトは、あなたがオプショナル値を型<code class="code-voice">Any</code>が期待されるところで使うならば警告を与えます。あなたが本当にオプショナル値を<code class="code-voice">Any</code>値として使う必要があるならば、あなたは<code class="code-voice">as</code>演算子を使って明示的にオプショナルを<code class="code-voice">Any</code>へキャストすることが、以下で示すように行えます。
</span><!--end_jpstr-->
</p>
    <section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">optionalNumber</span>: <span class="n"><! -- a href="" -->Int<! -- /a --></span>? = <span class="m">3</span></code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="vc">optionalNumber</span>)        <span class="c">// Warning&nbsp;<span class="jpstr"><span class="c">（警告）</span></span><!--end_jpstr--></span>
</code></li>
            <li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="vc">optionalNumber</span> <span class="kt">as</span> <span class="kt">Any</span>) <span class="c">// No warning&nbsp;<span class="jpstr"><span class="c">（警告なし）</span></span><!--end_jpstr--></span>
</code></li>
        </ol>
      </div>
  </div>
</section>

  </aside>
</div>
  
</section>

  	
 	<section id="next_previous" class="">
    		<p class="previous-link"><a href="ErrorHandling.html#//apple_ref/doc/uid/TP40014097-CH42-ID508" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH42-ID508">Error Handling<br><span class="jpstr">
エラーの処理
</span><!--end_jpstr-->
</a></p>
  			<p class="next-link"><a href="NestedTypes.html#//apple_ref/doc/uid/TP40014097-CH23-ID242" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH23-ID242">Nested Types<br><span class="jpstr">
入れ子にされた型
</span><!--end_jpstr-->
</a></p>

    <p class="copyright">Copyright &#x00a9; 2017 Apple Inc. All rights reserved. 
  <a class="link" href="http://www.apple.com/legal/terms/site.html" target="_blank" rel="external">Terms of Use</a> | 
  <a class="link" href="http://www.apple.com/privacy/" target="_blank" rel="external">Privacy Policy</a> | 
  Updated: 2017-09-19
</p>
  </section>
</article>

    </div>
    <div id='big_button'></div>
    <footer id="footer">
  <div class="content-wrapper">
  	<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
  </div>
  <script src="../../../../Resources/1264/JavaScript/devpubs-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../../Resources/1264/JavaScript/feedback-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <div id="_omniture_top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
</script>

<!-- <script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script> -->
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>

</footer>

    
  </body>
    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="https://developer.apple.com/bugreporter/" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

</div>
</html>
