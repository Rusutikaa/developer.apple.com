<!DOCTYPE html><html lang="en"><head><title>Encoding and Decoding Custom Types | Apple Developer Documentation</title><meta content="width=device-width, initial-scale=1 viewport-fit=cover" name="viewport"/><meta data-pid="151177"/><!-- link href="https://www.apple.com/wss/fonts?families=SF+Pro,v1|SF+Mono,v1|SF+Pro+Icons,v1" media="all" rel="stylesheet" type="text/css"/ --><link href="../../../documentation/assets/application-9074460d.css" media="all" rel="stylesheet" type="text/css"/><link rel="mask-icon" href="../../../documentation/assets/apple-logo.svg" color="#000"/><link rel="shortcut icon" href="../../../documentation/assets/favicon.ico"/><script src="../../../documentation/assets/shared-b677e291.js"></script></head><body><div id="_omniture_top">
      <script type="text/javascript">
        var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
      </script>
      <!-- script type="text/javascript" src="file://www.apple.com/metrics/scripts/s_code_h.js" --></script>
      <script type="text/javascript">
        s.pageName=AC.Tracking.pageName();
        s.channel="www.us.developer"

        var s_code=s.t();if(s_code)document.write(s_code)
      </script>
    </div><div id="app"><div><a href="#main" id="skip-localnav" class="showonfocus hidden">Skip Navigation</a><input type="checkbox" id="ac-gn-menustate" class="ac-gn-menustate"/><nav id="ac-globalnav" class="no-js" role="navigation" aria-label="Global" data-hires="false" data-analytics-region="global nav" lang="en-US"><div class="ac-gn-content">
        <ul class="ac-gn-header">
          <li class="ac-gn-item ac-gn-menuicon">
            <label class="ac-gn-menuicon-label" for="ac-gn-menustate" aria-hidden="true">
              <span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-top">
                <span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-top"></span>
              </span>
              <span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-bottom">
                <span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-bottom"></span>
              </span>
            </label>
            <a href="#ac-gn-menustate" class="ac-gn-menuanchor ac-gn-menuanchor-open" id="ac-gn-menuanchor-open"> <span class="ac-gn-menuanchor-label">Open Menu</span> </a>
            <a href="#" class="ac-gn-menuanchor ac-gn-menuanchor-close" id="ac-gn-menuanchor-close"> <span class="ac-gn-menuanchor-label">Close Menu</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-apple">
            <a class="ac-gn-link ac-gn-link-apple" href="/" id="ac-gn-firstfocus-small"> <span class="ac-gn-link-text">Apple Developer</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-bag ac-gn-bag-small" id="ac-gn-bag-small">
            <a class="ac-gn-link ac-gn-link-bag" href="/account/"> <span class="ac-gn-link-text">Account</span> <span class="ac-gn-bag-badge"></span> </a> <span class="ac-gn-bagview-caret ac-gn-bagview-caret-large"></span> </li>
        </ul>
        <ul class="ac-gn-list">
          <li class="ac-gn-item ac-gn-apple">
            <a class="ac-gn-link ac-gn-link-apple" href="/" id="ac-gn-firstfocus"> <span class="ac-gn-link-text">Apple Developer</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-discover">
            <a class="ac-gn-link" href="/discover/"> <span>Discover</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-design">
            <a class="ac-gn-link" href="/design/"> <span>Design</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-develop">
            <a class="ac-gn-link" href="/develop/"> <span>Develop</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-distribute">
            <a class="ac-gn-link" href="/distribute/"> <span>Distribute</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-support">
            <a class="ac-gn-link" href="/support/"> <span>Support</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-account">
            <a class="ac-gn-link" href="/account/"> <span>Account</span> </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-search" role="search">
            <a id="ac-gn-search-button" class="ac-gn-link ac-gn-link-search" href="/search/" aria-label="Search developer.apple.com"> <span class="ac-gn-search-placeholder" aria-hidden="true">Search</span> </a>
          </li>
        </ul>
        <aside id="ac-gn-searchview" class="ac-gn-searchview" role="search" data-analytics-region="search">
          <div class="ac-gn-searchview-content">
            <form id="ac-gn-searchform" class="ac-gn-searchform" action="/search/" method="get">
              <div class="ac-gn-searchform-wrapper">
                <input id="ac-gn-searchform-input" class="ac-gn-searchform-input" type="text" name="q" placeholder="Search" data-placeholder-long="Search for documentation, videos, and more" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" />
                <button id="ac-gn-searchform-submit" class="ac-gn-searchform-submit" type="submit" disabled aria-label="Submit"></button>
                <button id="ac-gn-searchform-reset" class="ac-gn-searchform-reset" type="reset" disabled aria-label="Clear Search"></button>
              </div>
            </form>
            <aside id="ac-gn-searchresults" class="ac-gn-searchresults" data-string-quicklinks="Quick Links" data-string-suggestions="Suggested Searches" data-string-noresults="Hit enter to search.">
            </aside>
          </div>
          <button id="ac-gn-searchview-close" class="ac-gn-searchview-close" aria-label="Close Search">
            <span class="ac-gn-searchview-close-wrapper">
                <span class="ac-gn-searchview-close-left"></span>
            <span class="ac-gn-searchview-close-right"></span>
            </span>
          </button>
        </aside>
      </div></nav><div id="ac-gn-curtain" class="ac-gn-curtain"></div><div id="ac-gn-placeholder" class="ac-nav-placeholder"></div><input type="checkbox" id="localnav-menustate" class="localnav-menustate" aria-hidden="true"/><nav id="localnav" class="localnav localnav-dark theme-dark localnav-scrim localnav-noborder" role="navigation" aria-label="API Reference" data-sticky="true"><div class="localnav-wrapper"><div class="referencenav"><div class="localnav-background"></div><div class="localnav-content"><a href="../../../index.html" class="localnav-title">Documentation</a><div class="localnav-menu"><a href="#localnav-menustate" id="localnav-menustate-open" class="localnav-menucta-anchor localnav-menucta-anchor-open"><span class="localnav-menucta-anchor-label" aria-hidden="true">Open Menu</span></a><a href="#" id="localnav-menustate-close" class="localnav-menucta-anchor localnav-menucta-anchor-close"><span class="localnav-menucta-anchor-label" aria-hidden="true">Close Menu</span></a><div class="localnav-menu-tray"><ul aria-label="Breadcrumbs" class="localnav-menu-items localnav-menu-breadcrumbs"><li class="localnav-menu-item localnav-menu-breadcrumb-item"><a class="localnav-menu-link" href="../../../documentation/swift.html">Swift Standard Library<br><span class="jpstr">
Swift標準ライブラリ
</span><!--end_jpstr-->
</a></li><li class="localnav-menu-item localnav-menu-breadcrumb-item"><a class="localnav-menu-link" href="../../../documentation/swift/encoding_decoding_and_serialization.html">Encoding, Decoding, and Serialization<br><span class="jpstr">
エンコード、デコード、そしてシリアライズ
</span><!--end_jpstr-->
</a></li><li class="localnav-menu-item localnav-menu-breadcrumb-item"><div class="localnav-menu-breadcrumb-current-container localnav-menu-link current"><span aria-current="page" class="localnav-menu-breadcrumb-current">Encoding and Decoding Custom Types<br><span class="jpstr">
あつらえの型のエンコーディングとデコーディング
</span><!--end_jpstr-->
</span></div></li></ul><ul class="localnav-menu-items localnav-menu-settings" data-breadcrumbs-count="3"><li class="localnav-menu-setting language-container"><span class="localnav-menu-setting-label">Language:</span><span class="localnav-menu-toggle-none current-language" aria-current="page">Swift</span></li><li class="localnav-menu-setting"><span class="localnav-menu-setting-label">API Changes:</span><span class="changes-toggle">None</span></li></ul></div><div class="localnav-actions"><div class="localnav-action localnav-action-menucta" aria-hidden="true"><label for="localnav-menustate" class="localnav-menucta"><span class="localnav-menucta-chevron"></span></label></div></div></div></div></div></div></nav><label for="localnav-menustate" id="localnav-curtain" aria-hidden="true"></label><main role="main" id="main" class="main" tabindex="0"><div class="topic-title"><span class="eyebrow">Article</span><h1 class="topic-heading"><span>Encoding and Decoding Custom Types<br><span class="jpstr">
あつらえの型のエンコーディングとデコーディング
</span><!--end_jpstr-->
</span></h1></div><div class="topic-container section-content row"><div class="topic-description column large-9 medium-9 small-12"><div class="topic-abstract abstract formatted-content"><div><p>Make your data types encodable and decodable for compatibility with external representations such as JSON.<br><span class="jpstr">
あなたのデータ型のエンコーディングとデコーディングを外部表現、例えばJSONなどとの互換性のために行います。
</span><!--end_jpstr-->
</p></div></div></div><div class="topic-summary column large-3 medium-3 small-12"><div class="topic-summary-section frameworks" role="complementary" aria-label="Framework"><p class="topic-summary-section-label subsection-label">Framework<br><span class="jpstr">
フレームワーク
</span><!--end_jpstr-->
</p><ul class="topic-summary-section-list"><li class="topic-summary-section-item"><span>Swift Standard Library<br><span class="jpstr">
Swift標準ライブラリ
</span><!--end_jpstr-->
</span></li></ul></div><div class="topic-summary-section onthispage"><nav class="onthispage-nav" aria-labelledby="onthispage-title"><p id="onthispage-title" class="topic-summary-section-label subsection-label">On This Page<br><span class="jpstr">
この項には
</span><!--end_jpstr-->
</p><ul class="topic-summary-section-list"><li class="topic-summary-section-item"><a href="#overview" class="icon icon-after icon-chevrondowncircle">Overview<br><span class="jpstr">
概要
</span><!--end_jpstr-->
</a></li><li class="topic-summary-section-item"><a href="#see-also" class="icon icon-after icon-chevrondowncircle">See Also<br><span class="jpstr">
参照
</span><!--end_jpstr-->
</a></li></ul></nav></div></div><div class="topic-content column large-9 medium-9 small-12" id="topic-content"><section id="overview" class="section"><h2>Overview<br><span class="jpstr">
概要
</span><!--end_jpstr-->
</h2><div class="formatted-content"><div><p>Many programming tasks involve sending data over a network connection, saving data to disk, or submitting data to APIs and services. These tasks often require data to be encoded and decoded to and from an intermediate format while the data is being transferred.<br><span class="jpstr">
多くのプログラミング作業がネットワーク接続を越えてのデータの送信、ディスク上でのデータの保存、またはAPIおよびサービスへのデータの提出を伴います。これらの作業がしばしばデータに要求するのは、データが転送される間に中間形式へとおよびそれからエンコードおよびデコードされることです。
</span><!--end_jpstr-->
</p><p>The Swift standard library defines a standardized approach to data encoding and decoding. You adopt this approach by implementing the <a class="symbol-name" href="../../../documentation/swift/encodable.html"><code><span>Encodable</span></code></a> and <a class="symbol-name" href="../../../documentation/swift/decodable.html"><code><span>Decodable</span></code></a> protocols on your custom types. Adopting these protocols lets implementations of the <a class="symbol-name" href="../../../documentation/swift/encoder.html"><code><span>Encoder</span></code></a> and <a class="symbol-name" href="../../../documentation/swift/decoder.html"><code><span>Decoder</span></code></a> protocols take your data and encode or decode it to and from an external representation such as JSON or property list. To support both encoding and decoding, declare conformance to <a class="symbol-name" href="../../../documentation/swift/codable.html"><code><span>Codable</span></code></a>, which combines the <code class="code-voice"><span>Encodable</span></code> and <code class="code-voice"><span>Decodable</span></code> protocols. This process is known as making your types <em>codable</em>.<br><span class="jpstr">
Swift標準ライブラリは、標準化された取り組みをデータのエンコードとデコードに対して定義します。あなたはこの取り組みを<a class="symbol-name" href="../../../documentation/swift/encodable.html"><code><span>Encodable</span></code></a>と<a class="symbol-name" href="../../../documentation/swift/decodable.html"><code><span>Decodable</span></code></a>プロトコルをあなたのあつらえの型で実装することで採用します。これらのプロトコルの採用は、<a class="symbol-name" href="../../../documentation/swift/encoder.html"><code><span>Encoder</span></code></a>と<a class="symbol-name" href="../../../documentation/swift/decoder.html"><code><span>Decoder</span></code></a>プロトコルの実装に、あなたのデータを取らせて、それをJSONやプロパティリストのような外部表現へとそしてそれからエンコードおよびデコードさせます。エンコードとデコードの両方をサポートするには、<a class="symbol-name" href="../../../documentation/swift/codable.html"><code><span>Codable</span></code></a>への準拠を宣言してください、それは<code class="code-voice"><span>Encodable</span></code>と<code class="code-voice"><span>Decodable</span></code>プロトコルを一体化します。この過程は、あなたの型を<em>コード化可能</em>にするとして知られています。
</span><!--end_jpstr-->
</p></div><h3 id="2904055">Encode and Decode Automatically<br><span class="jpstr">
自動的にエンコードおよびデコードする
</span><!--end_jpstr-->
</h3><div><p>The simplest way to make a type codable is to declare its properties using types that are already <code class="code-voice"><span>Codable</span></code>. These types include standard library types like <a class="symbol-name" href="../../../documentation/swift/string.html"><code><span>String</span></code></a>, <a class="symbol-name" href="../../../documentation/swift/int.html"><code><span>Int</span></code></a>, and <a class="symbol-name" href="../../../documentation/swift/double.html"><code><span>Double</span></code></a>; and Foundation types like <a class="symbol-name" href="https://developer.apple.com/documentation/foundation/date.html"><code><span>Date</span></code></a>, <a class="symbol-name" href="https://developer.apple.com/documentation/foundation/data.html"><code><span>Data</span></code></a>, and <a class="symbol-name" href="https://developer.apple.com/documentation/foundation/url.html"><code><span>URL</span></code></a>. Any type whose properties are codable automatically conforms to <code class="code-voice"><span>Codable</span></code> just by declaring that conformance.<br><span class="jpstr">
ある型をコード化可能にするもっとも単純な方法は、既に<code class="code-voice"><span>Codable</span></code>である型のどれかを使ってそれのプロパティを宣言することになります。それらの型は、<a class="symbol-name" href="../../../documentation/swift/string.html"><code><span>String</span></code></a>、<a class="symbol-name" href="../../../documentation/swift/int.html"><code><span>Int</span></code></a>、そして<a class="symbol-name" href="../../../documentation/swift/double.html"><code><span>Double</span></code></a>のような標準ライブラリ；そして<a class="symbol-name" href="https://developer.apple.com/documentation/foundation/date.html"><code><span>Date</span></code></a>、<a class="symbol-name" href="https://developer.apple.com/documentation/foundation/data.html"><code><span>Data</span></code></a>、そして<a class="symbol-name" href="https://developer.apple.com/documentation/foundation/url.html"><code><span>URL</span></code></a>のようなFoundation型を含みます。それらのプロパティがコード化可能なあらゆる型は、単にその準拠を宣言することによって自動的に<code class="code-voice"><span>Codable</span></code>に準拠します。
</span><!--end_jpstr-->
</p><p>Consider a <code class="code-voice"><span>Landmark</span></code> structure that stores the name and founding year of a landmark:<br><span class="jpstr">
歴史的建築物の名前と建造年を格納する<code class="code-voice"><span>Landmark</span></code>構造体を考えてください：
</span><!--end_jpstr-->
</p><figure id="2904068"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Landmark {
    var name: String
    var foundingYear: Int
}
</code></pre></div></div></figure><p>Adding <code class="code-voice"><span>Codable</span></code> to the inheritance list for <code class="code-voice"><span>Landmark</span></code> triggers an automatic conformance that satisfies all of the protocol requirements from <code class="code-voice"><span>Encodable</span></code> and <code class="code-voice"><span>Decodable</span></code>:<br><span class="jpstr">
<code class="code-voice"><span>Codable</span></code>を<code class="code-voice"><span>Landmark</span></code>に対する継承リストに加えることは、<code class="code-voice"><span>Encodable</span></code>と<code class="code-voice"><span>Decodable</span></code>からのプロトコル要件のすべてを満たす自動的準拠を引き起こします。
</span><!--end_jpstr-->
</p><figure id="2904069"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Landmark: Codable {
    var name: String
    var foundingYear: Int
    
    // Landmark now supports the Codable methods init(from:) and encode(to:), &nbsp;<span class="jpstr">（Landmark は、現在 Codable メソッド init(from:) と encode(to:) をサポートします、）</span><!--end_jpstr-->
    // even though they aren&#x27;t written as part of its declaration.&nbsp;<span class="jpstr">（それらがそれの宣言の一部として書かれないとしてもです。）</span><!--end_jpstr-->
}
</code></pre></div></div></figure><p></p><p>Adopting <code class="code-voice"><span>Codable</span></code> on your own types enables you to serialize them to and from any of the built-in data formats, and any formats provided by custom encoders and decoders. For example, the <code class="code-voice"><span>Landmark</span></code> structure can be encoded using both the <a class="symbol-name" href="https://developer.apple.com/documentation/foundation/propertylistencoder.html"><code><span>Property<wbr/>List<wbr/>Encoder</span></code></a> and <a class="symbol-name" href="https://developer.apple.com/documentation/foundation/jsonencoder.html"><code><span>JSONEncoder</span></code></a> classes, even though <code class="code-voice"><span>Landmark</span></code> itself contains no code to specifically handle property lists or JSON.<br><span class="jpstr">
<code class="code-voice"><span>Codable</span></code>をいろいろなあなた独自の型で採用することは、あなたにそれらをあらゆる組込みデータ形式、そしてあつらえのエンコーダとデコーダによって提供されるあらゆる形式へとおよびそれからシリアライズすることを可能にします。例えば、<code class="code-voice"><span>Landmark</span></code>構造体は、<a class="symbol-name" href="https://developer.apple.com/documentation/foundation/propertylistencoder.html"><code><span>Property<wbr/>List<wbr/>Encoder</span></code></a>と<a class="symbol-name" href="https://developer.apple.com/documentation/foundation/jsonencoder.html"><code><span>JSONEncoder</span></code></a>クラスの両方を使ってエンコードされます、<code class="code-voice"><span>Landmark</span></code>それ自身がプロパティリストまたはJSONを具体的に取り扱うコードを含まないとしてもです。
</span><!--end_jpstr-->
</p><p>The same principle applies to custom types made up of other custom types that are codable. As long as all of its properties are <code class="code-voice"><span>Codable</span></code>, any custom type can also be <code class="code-voice"><span>Codable</span></code>.<br><span class="jpstr">
同じ原理は、コード化可能である他のあつらえの型から成り立っているあつらえの型に適用されます。それのプロパティの全てが<code class="code-voice"><span>Codable</span></code>である限り、あらゆるあつらえの型もまた<code class="code-voice"><span>Codable</span></code>です。
</span><!--end_jpstr-->
</p><p>The example below shows how automatic <code class="code-voice"><span>Codable</span></code> conformance applies when a <code class="code-voice"><span>location</span></code> property is added to the <code class="code-voice"><span>Landmark</span></code> structure:<br><span class="jpstr">
下の例は、自動的に<code class="code-voice"><span>Codable</span></code>準拠を、<code class="code-voice"><span>location</span></code>プロパティが<code class="code-voice"><span>Landmark</span></code>構造体に加えられる時に適用する方法を示します：
</span><!--end_jpstr-->
</p><figure id="2904070"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Coordinate: Codable {
    var latitude: Double
    var longitude: Double
}

struct Landmark: Codable {
    // Double, String, and Int all conform to Codable.&nbsp;<span class="jpstr">（Double, String, そして Int は全て Codable に準拠します。）</span><!--end_jpstr-->
    var name: String
    var foundingYear: Int
    
    // Adding a property of a custom Codable type maintains overall Codable conformance.&nbsp;<span class="jpstr">（あつらえのCodable 型のプロパティを加えることは、 Codable 準拠の何もかもを保守します。）</span><!--end_jpstr-->
    var location: Coordinate
}
</code></pre></div></div></figure><p></p><p>Built-in types such as <a class="symbol-name" href="../../../documentation/swift/array.html"><code><span>Array</span></code></a>,  <a class="symbol-name" href="../../../documentation/swift/dictionary.html"><code><span>Dictionary</span></code></a>, and <a class="symbol-name" href="../../../documentation/swift/optional.html"><code><span>Optional</span></code></a> also conform to <code class="code-voice"><span>Codable</span></code> whenever they contain codable types. You can add an array of <code class="code-voice"><span>Coordinate</span></code> instances to <code class="code-voice"><span>Landmark</span></code>, and the entire structure will still satisfy <code class="code-voice"><span>Codable</span></code>. <br><span class="jpstr">
組込みの型、例えば<a class="symbol-name" href="../../../documentation/swift/array.html"><code><span>Array</span></code></a>、<a class="symbol-name" href="../../../documentation/swift/dictionary.html"><code><span>Dictionary</span></code></a>、そして<a class="symbol-name" href="../../../documentation/swift/optional.html"><code><span>Optional</span></code></a>もまた、それらがコード化可能な型を含む時はいつでも<code class="code-voice"><span>Codable</span></code>に準拠します。あなたは<code class="code-voice"><span>Coordinate</span></code>インスタンスからなる配列を<code class="code-voice"><span>Landmark</span></code>に追加できます、そして構造体全体は依然として<code class="code-voice"><span>Codable</span></code>を満たします。
</span><!--end_jpstr-->
</p><p>The example below shows how automatic conformance still applies when adding multiple properties using built-in codable types within <code class="code-voice"><span>Landmark</span></code>:<br><span class="jpstr">
下の例は、どのように自動的な準拠が依然として適用されるか、複数のプロパティを組込みのコード化可能型を使って<code class="code-voice"><span>Landmark</span></code>構造体内部に加える場合に示します：
</span><!--end_jpstr-->
</p><figure id="2904071"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Landmark: Codable {
    var name: String
    var foundingYear: Int
    var location: Coordinate
    
    // Landmark is still codable after adding these properties.&nbsp;<span class="jpstr">（Landmark は、これらのプロパティを加える後も依然としてコード化可能です。）</span><!--end_jpstr-->
    var vantagePoints: [Coordinate]
    var metadata: [String: String]
    var website: URL?
}
</code></pre></div></div></figure><p></p><p></p></div><h3 id="2904056">Encode or Decode Exclusively<br><span class="jpstr">
排他的にエンコードおよびデコードする
</span><!--end_jpstr-->
</h3><div><p>In some cases, you may not need <code class="code-voice"><span>Codable</span></code>&#x27;s support for bidirectional encoding and decoding.  For example, some apps only need to make calls to a remote network API and do not need to decode a response containing the same type. Declare conformance to <code class="code-voice"><span>Encodable</span></code> if you only need to support the encoding of data. Conversely, declare conformance to <code class="code-voice"><span>Decodable</span></code> if you only need to read data of a given type.<br><span class="jpstr">
いくつかの場合には、あなたは<code class="code-voice"><span>Codable</span></code>のもつ双方向のエンコーディングとデコーディングに対する支援を必要としないかもしれません。例えば、いくつかのアプリはリモートネットワークAPIへの呼び出しだけを必要として、同じ型を含んでいる返答をデコードする必要がありません。<code class="code-voice"><span>Encodable</span></code>への準拠を、あなたがデータのエンコーディングの支援のみを必要とするならば宣言してください。反対に、<code class="code-voice"><span>Decodable</span></code>への準拠を、あなたが与えられた型のデータを読み込みのみを必要とするならば宣言してください。
</span><!--end_jpstr-->
</p><p>The examples below show alternative declarations of the <code class="code-voice"><span>Landmark</span></code> structure that only encode or decode data:<br><span class="jpstr">
下の例は、<code class="code-voice"><span>Landmark</span></code>構造体でデータのエンコードまたはデコードのみを行う選択的な宣言を示します：
</span><!--end_jpstr-->
</p><figure id="2904076"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Landmark: Encodable {
    var name: String
    var foundingYear: Int
}
</code></pre></div></div></figure><figure id="2909111"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Landmark: Decodable {
    var name: String
    var foundingYear: Int
}
</code></pre></div></div></figure><p></p></div><h3 id="2904057">Choose Properties to Encode and Decode Using Coding Keys<br><span class="jpstr">
プロパティを選択してエンコードとデコードをコーディングキーを使って行う
</span><!--end_jpstr-->
</h3><div><p>Codable types can declare a special nested enumeration named <code class="code-voice"><span>Coding<wbr/>Keys</span></code> that conforms to the <a class="symbol-name" href="../../../documentation/swift/codingkey.html"><code><span>Coding<wbr/>Key</span></code></a> protocol. When this enumeration is present, its cases serve as the authoritative list of properties that must be included when instances of a codable type are encoded or decoded. The names of the enumeration cases should match the names you&#x27;ve given to the corresponding properties in your type. <br><span class="jpstr">
コード化可能型は、<code class="code-voice"><span>Coding<wbr/>Keys</span></code>と名前を付けられ、<a class="symbol-name" href="../../../documentation/swift/codingkey.html"><code><span>Coding<wbr/>Key</span></code></a>プロトコルに準拠する、ある特殊な入れ子列挙を宣言できます。この列挙が存在する時、それのケース節は、コード化可能型のインスタンスがエンコードまたはデコードされる時に含められる必要があるプロパティの正式リストとしての機能を果たします。これら列挙ケース節の名前は、あなたの型の中の対応するプロパティにあなたが与えた名前と合致しなければなりません。
</span><!--end_jpstr-->
</p><p>Omit properties from the <code class="code-voice"><span>Coding<wbr/>Keys</span></code> enumeration if they won&#x27;t be present when decoding instances, or if certain properties shouldn&#x27;t be included in an encoded representation. A property omitted from <code class="code-voice"><span>Coding<wbr/>Keys</span></code> needs a default value in order for its containing type to receive automatic conformance to <code class="code-voice"><span>Decodable</span></code> or <code class="code-voice"><span>Codable</span></code>.<br><span class="jpstr">
これらプロパティを<code class="code-voice"><span>Coding<wbr/>Keys</span></code>列挙から省略してください、もしそれらがインスタンスをデコードする時に存在しないならば、または若干のプロパティがエンコード済み表現の中に含められるべきでないならば。<code class="code-voice"><span>Coding<wbr/>Keys</span></code>から省略されたあるプロパティは、それの含んでいる型が<code class="code-voice"><span>Decodable</span></code>または<code class="code-voice"><span>Codable</span></code>への自動的な準拠を受け取るために初期状態の値が必要です。
</span><!--end_jpstr-->
</p><p>If the keys used in your serialized data format don&#x27;t match the property names from your data type, provide alternative keys by specifying <code class="code-voice"><span>String</span></code> as the raw-value type for the <code class="code-voice"><span>Coding<wbr/>Keys</span></code> enumeration.  The string you use as a raw value for each enumeration case is the key name used during encoding and decoding. The association between the case name and its raw value lets you name your data structures according to the Swift <a href="https://swift.org/documentation/api-design-guidelines/">API Design Guidelines</a> rather than having to match the names, punctuation, and capitalization of the serialization format you&#x27;re modeling.<br><span class="jpstr">
あなたの特殊化されたデータ型において使われるキーがあなたのデータ型からのプロパティ名と一致しないならば、代替のキーの提供を<code class="code-voice"><span>String</span></code>を<code class="code-voice"><span>Coding<wbr/>Keys</span></code>列挙に対する生の値型として指定することによって行ってください。あなたが各列挙節に対して生の値として使う文字列は、エンコーディングおよびデコーディングの間に使うキー名です。ケース節名とそれの生の値の間の関連性は、あなたにSwift <a href="https://swift.org/documentation/api-design-guidelines/">API Design Guidelines</a>に従ってあなたのデータ構造体に名前を付けさせます、あなたがモデリングしているシリアライズ形式での名前、句読点、そして大文字の使い方に合わせるのではなく。
</span><!--end_jpstr-->
</p><p>The example below uses alternative keys for the <code class="code-voice"><span>name</span></code> and <code class="code-voice"><span>founding<wbr/>Year</span></code> properties of the <code class="code-voice"><span>Landmark</span></code> structure when encoding and decoding:<br><span class="jpstr">
下の例は、代替キーの使用を、<code class="code-voice"><span>Landmark</span></code>構造体の<code class="code-voice"><span>name</span></code>と<code class="code-voice"><span>founding<wbr/>Year</span></code>プロパティに対して、エンコードおよびデコードする時に行います。
</span><!--end_jpstr-->
</p><figure id="2904080"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Landmark: Codable {
    var name: String
    var foundingYear: Int
    var location: Coordinate
    var vantagePoints: [Coordinate]
    
    enum CodingKeys: String, CodingKey {
        case name = &quot;title&quot;
        case foundingYear = &quot;founding_date&quot;
        
        case location
        case vantagePoints
    }
}
</code></pre></div></div></figure><p></p></div><h3 id="2904058">Encode and Decode Manually<br><span class="jpstr">
手動でエンコードおよびデコードする
</span><!--end_jpstr-->
</h3><div><p>If the structure of your Swift type differs from the structure of its encoded form, you can provide a custom implementation of <code class="code-voice"><span>Encodable</span></code> and <code class="code-voice"><span>Decodable</span></code> to define your own encoding and decoding logic.<br><span class="jpstr">
あなたのSwift型の構造体がそれのエンコード形式の構造体と異なるならば、あなたは<code class="code-voice"><span>Encodable</span></code>および<code class="code-voice"><span>Decodable</span></code>のあつらえの実装を提供することであなた独自のエンコードおよびデコード論理を定義できます。
</span><!--end_jpstr-->
</p><p>In the examples below, the <code class="code-voice"><span>Coordinate</span></code> structure is expanded to support an <code class="code-voice"><span>elevation</span></code> property that&#x27;s nested inside of an <code class="code-voice"><span>additional<wbr/>Info</span></code> container:<br><span class="jpstr">
下の例において、<code class="code-voice"><span>Coordinate</span></code>構造体は拡張されることで<code class="code-voice"><span>elevation</span></code>プロパティをサポートします、それは<code class="code-voice"><span>additional<wbr/>Info</span></code>コンテナの内部に入れ子にされます：
</span><!--end_jpstr-->
</p><figure id="2904081"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>struct Coordinate {
    var latitude: Double
    var longitude: Double
    var elevation: Double

    enum CodingKeys: String, CodingKey {
        case latitude
        case longitude
        case additionalInfo
    }
    
    enum AdditionalInfoKeys: String, CodingKey {
        case elevation
    }
}
</code></pre></div></div></figure><p>Because the encoded form of the <code class="code-voice"><span>Coordinate</span></code> type contains a second level of nested information, the type&#x27;s adoption of the <code class="code-voice"><span>Encodable</span></code> and <code class="code-voice"><span>Decodable</span></code> protocols uses two enumerations that each list the complete set of coding keys used on a particular level.<br><span class="jpstr">
<code class="code-voice"><span>Coordinate</span></code>型のエンコード形式は入れ子にされた情報の２番目の水準を含むことから、その型のもつ<code class="code-voice"><span>Encodable</span></code>と<code class="code-voice"><span>Decodable</span></code>プロトコルの採用は２つの列挙を使います、それはそれぞれが特定の水準で使われるコーディングキーの完全な一揃いを列記します。
</span><!--end_jpstr-->
</p><p>In the example below, the <code class="code-voice"><span>Coordinate</span></code> structure is extended to conform to the <code class="code-voice"><span>Decodable</span></code> protocol by implementing its required initializer, <a class="symbol-name" href="../../../documentation/swift/decodable/2894081-init.html"><code><span>init(from:)</span></code></a>:<br><span class="jpstr">
下の例において、<code class="code-voice"><span>Coordinate</span></code>構造体は拡張されて、<code class="code-voice"><span>Decodable</span></code>プロトコルにそれの必須イニシャライザ、<a class="symbol-name" href="../../../documentation/swift/decodable/2894081-init.html"><code><span>init(from:)</span></code></a>を実装することで準拠します：
</span><!--end_jpstr-->
</p><figure id="2904082"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>extension Coordinate: Decodable {
    init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: CodingKeys.self)
        latitude = try values.decode(Double.self, forKey: .latitude)
        longitude = try values.decode(Double.self, forKey: .longitude)
        
        let additionalInfo = try values.nestedContainer(keyedBy: AdditionalInfoKeys.self, forKey: .additionalInfo)
        elevation = try additionalInfo.decode(Double.self, forKey: .elevation)
    }
}
</code></pre></div></div></figure><p></p><p>The initializer populates a <code class="code-voice"><span>Coordinate</span></code> instance by using methods on the <code class="code-voice"><span>Decoder</span></code> instance it receives as a parameter. The <code class="code-voice"><span>Coordinate</span></code> instance&#x27;s two properties are initialized using the keyed container APIs provided by the Swift standard library.<br><span class="jpstr">
このイニシャライザは、それがパラメータとして受け取る<code class="code-voice"><span>Decoder</span></code>インスタンス上でメソッドを使うことで<code class="code-voice"><span>Coordinate</span></code>インスタンスを満たします。<code class="code-voice"><span>Coordinate</span></code>インスタンスのもつ２つのプロパティは、Swift標準ライブラリによって提供されるキー付きコンテナAPIを使って初期化されます。
</span><!--end_jpstr-->
</p><p>The example below shows how the <code class="code-voice"><span>Coordinate</span></code> structure can be extended to conform to the <code class="code-voice"><span>Encodable</span></code> protocol by implementing its required method, <a class="symbol-name" href="../../../documentation/swift/encodable/2893603-encode.html"><code><span>encode(to:)</span></code></a>:<br><span class="jpstr">
下の例は、どのように<code class="code-voice"><span>Coordinate</span></code>構造体が拡張されて、<code class="code-voice"><span>Encodable</span></code>プロトコルにそれの必須メソッド<a class="symbol-name" href="../../../documentation/swift/encodable/2893603-encode.html"><code><span>encode(to:)</span></code></a>を実装することで準拠するかを示します：
</span><!--end_jpstr-->
</p><figure id="2904083"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>extension Coordinate: Encodable {
    func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: CodingKeys.self)
        try container.encode(latitude, forKey: .latitude)
        try container.encode(longitude, forKey: .longitude)
        
        var additionalInfo = container.nestedContainer(keyedBy: AdditionalInfoKeys.self, forKey: .additionalInfo)
        try additionalInfo.encode(elevation, forKey: .elevation)
    }
}
</code></pre></div></div></figure><p>This implementation of the <code class="code-voice"><span>encode(to:)</span></code> method reverses the decoding operation from the previous example.<br><span class="jpstr">
<code class="code-voice"><span>encode(to:)</span></code>メソッドのこの実装は、デコーディング演算を前の例から入れ替えます。
</span><!--end_jpstr-->
</p><p>For more information about the container types used when customizing the encoding and decoding process, see <a class="symbol-name" href="../../../documentation/swift/keyedencodingcontainerprotocol.html"><code><span>Keyed<wbr/>Encoding<wbr/>Container<wbr/>Protocol</span></code></a> and <a class="symbol-name" href="../../../documentation/swift/unkeyedencodingcontainer.html"><code><span>Unkeyed<wbr/>Encoding<wbr/>Container</span></code></a>.<br><span class="jpstr">
デコーディングとエンコーディング過程をカスタマイズする時に使われるコンテナ型についての詳細は、<a class="symbol-name" href="../../../documentation/swift/keyedencodingcontainerprotocol.html"><code><span>Keyed<wbr/>Encoding<wbr/>Container<wbr/>Protocol</span></code></a>と<a class="symbol-name" href="../../../documentation/swift/unkeyedencodingcontainer.html"><code><span>Unkeyed<wbr/>Encoding<wbr/>Container</span></code></a>を見てください。
</span><!--end_jpstr-->
</p></div></div></section></div></div><section id="see-also" class="contenttable section alt-light-container row"><div class="alt-light"><div class="section-content"><h2 class="contenttable-title">See Also<br><span class="jpstr">
参照
</span><!--end_jpstr-->
</h2><section id="2902611" class="contenttable-section"><div class="contenttable-container row"><div class="contenttable-section-title-container column large-3 medium-3 small-12"><h3 class="contenttable-section-title">Custom Encoding and Decoding<br><span class="jpstr">
カスタムエンコーディングとデコーディング
</span><!--end_jpstr-->
</h3></div><div class="contenttable-section-content column large-9 medium-9 small-12"><div class="task-topics"><div class="task-topic"><div class="task-topic-info"><a class="has-adjacent-element symbol-name symbol-name-decorated" href="../../../documentation/swift/codable.html"><code class="display-name"><span class="decorator">typealias </span><span class="identifier">Codable</span></code></a><div class="task-topic-abstract task-topic-data abstract formatted-content"><div><p>A type that can convert itself into and out of an external representation.<br><span class="jpstr">
それ自身を外部表現へとそしてそれをもとに変換できる型。
</span><!--end_jpstr-->
</p></div></div></div></div><div class="task-topic"><div class="task-topic-info"><a class="has-adjacent-element symbol-name symbol-name-decorated" href="../../../documentation/swift/encodable.html"><code class="display-name"><span class="decorator">protocol </span><span class="identifier">Encodable</span></code></a><div class="task-topic-abstract task-topic-data abstract formatted-content"><div><p>A type that can encode itself to an external representation.<br><span class="jpstr">
それ自身を外部表現へとエンコードできる型。
</span><!--end_jpstr-->
</p></div></div></div></div><div class="task-topic"><div class="task-topic-info"><a class="has-adjacent-element symbol-name symbol-name-decorated" href="../../../documentation/swift/decodable.html"><code class="display-name"><span class="decorator">protocol </span><span class="identifier">Decodable</span></code></a><div class="task-topic-abstract task-topic-data abstract formatted-content"><div><p>A type that can decode itself from an external representation.<br><span class="jpstr">
それ自身が外部表現からデコードできる型。
</span><!--end_jpstr-->
</p></div></div></div></div><div class="task-topic"><div class="task-topic-info"><a class="has-adjacent-element symbol-name symbol-name-decorated" href="../../../documentation/swift/codingkey.html"><code class="display-name"><span class="decorator">protocol </span><span class="identifier">Coding<wbr/>Key</span></code></a><div class="task-topic-abstract task-topic-data abstract formatted-content"><div><p>A type that can be used as a key for encoding and decoding.<br><span class="jpstr">
エンコーディングとデコーディングのためのキーとして使われる型。
</span><!--end_jpstr-->
</p></div></div></div></div><div class="task-topic"><div class="task-topic-info"><a class="has-adjacent-element symbol-name symbol-name-decorated" href="../../../documentation/swift/codinguserinfokey.html"><code class="display-name"><span class="decorator">struct </span><span class="identifier">Coding<wbr/>User<wbr/>Info<wbr/>Key</span></code></a><div class="task-topic-abstract task-topic-data abstract formatted-content"><div><p>A user-defined key for providing context during encoding and decoding.<br><span class="jpstr">
エンコーディングおよびデコーディングの間にコンテキストを提供するためのユーザ定義のキー。
</span><!--end_jpstr-->
</p></div></div></div></div></div></div></div></section><section id="related-documentation" class="contenttable-section"><div class="contenttable-container row"><div class="contenttable-section-title-container column large-3 medium-3 small-12"><h3 class="contenttable-section-title">Related Documentation<br><span class="jpstr">
関連文書
</span><!--end_jpstr-->
</h3></div><div class="contenttable-section-content column large-9 medium-9 small-12"><div class="task-topics"><div class="task-topic"><div class="task-topic-info"><a class="has-adjacent-element symbol-name" href="https://developer.apple.com/documentation/foundation/archives_and_serialization/using_json_with_custom_types.html"><svg xmlns="http://www.w3.org/2000/svg" height="15" viewBox="0 0 15 15" class="svg-icon symbol-name-icon" aria-hidden="true"><title>Sample Code</title><g class="svg-icon-small" fill-rule="evenodd"><path d="M9 15L9 14 11.0104712 14C11.5759162 14 12.1832461 13.86 12.1832461 12.14L12.1832461 10.28C12.1529524 9.27545906 12.5278004 8.29817424 13.2303665 7.55L13.3246073 7.47C12.5372999 6.72356427 12.1089306 5.6990224 12.1413613 4.64L12.1413613 3.42C12.1413613 3 12.1413613 1 11.0104712 1L9 1 9 0 11.0104712 0C12.3926702 0 13.1884817 1.28 13.1884817 3.42L13.1884817 4.64C13.1884817 6 13.8691099 6.95 14.4764398 6.95L15 6.95 15 7.95 14.4764398 7.95C14.2508552 7.96082278 14.0394061 8.05818375 13.8900524 8.22 13.4104115 8.78359074 13.1611361 9.49421163 13.1884817 10.22L13.1884817 12.09C13.1884817 14 12.4764398 15 11.0104712 15L9 15zM6 15L4.28 15C2.87 15 2 13.85 2 12L2 10.13C2 8.46 1.66 8 .5 8L0 8 0 7 .5 7C1.61 6.95 2 6.3 2 4.49L2 3.27C2 1.32 2.92 0 4.28 0L6 0 6 1 4.28 1C3.4 1 3 2.14 3 3.27L3 4.49C3.11371534 5.55342654 2.78458756 6.61676246 2.09 7.43 2.79401717 8.14117553 3.12990379 9.13776222 3 10.13L3 12C3 12.75 3.17 14 4.29 14L6 14 6 15z"></path></g></svg><span>Using JSON with Custom Types<br><span class="jpstr">
JSONをあつらえの型で使う
</span><!--end_jpstr-->
</span></a><div class="task-topic-abstract task-topic-data abstract formatted-content"><div><p>Demonstrates approaches for encoding and decoding different kinds of JSON in Swift.<br><span class="jpstr">
さまざまなJSONエンコードおよびデコードする取り組みをSwiftにおいて実演する。
</span><!--end_jpstr-->
</p></div></div></div></div></div></div></div></section></div></div></section></main><section id="globalfooter-wrapper"><footer id="globalfooter" role="contentinfo">
        <nav class="footer-breadory">
          <a href="/" class="home breadcrumbs-home"><span aria-hidden="true"></span><span class="breadcrumbs-home-label">Developer</span></a>
          <section class="breadcrumbs">
            <ol class="breadcrumbs-list">
              <li><a href=/documentation>Documentation</a></li>
            </ol>
          </section>
          <div id="directorynav" class="directorynav">
            <div id="dn-cola" class="column">
              <h3><a href="/discover/">Discover</a></h3>
              <ul>
                <li><a href="/macos/">macOS</a></li>
                <li><a href="/ios/">iOS</a></li>
                <li><a href="/watchos/">watchOS</a></li>
                <li><a href="/tvos/">tvOS</a></li>
                <li><a href="/programs/">Developer Program</a></li>
                <li><a href="/enterprise/">Enterprise</a></li>
                <li><a href="/education/">Education</a></li>
              </ul>
            </div>
            <div id="dn-colb" class="column">
              <h3><a href="/design/">Design</a></h3>
              <ul>
                <li><a href="/design/resources/">Resources</a></li>
                <li><a href="/videos/design/">Videos</a></li>
                <li><a href="/design/awards/">Apple Design Awards</a></li>
                <li><a href="/accessibility/">Accessibility</a></li>
                <li><a href="/internationalization/">Internationalization</a></li>
                <li><a href="/accessories/">Accessories</a></li>
                <li><a href="/app-store/marketing/guidelines/">Marketing Guidelines</a></li>
              </ul>
            </div>
            <div id="dn-colc" class="column">
              <h3><a href="/develop/">Develop</a></h3>
              <ul>
                <li><a href="/xcode/">Xcode</a></li>
                <li><a href="/swift/">Swift</a></li>
                <li><a href="https://developer.apple.com/documentation/">Documentation</a></li>
                <li><a href="/videos/">Videos</a></li>
                <li><a href="/download/">Downloads</a></li>
              </ul>

            </div>
            <div id="dn-cold" class="column">
              <h3><a href="/distribute/">Distribute</a></h3>
              <ul>
                <li><a href="/app-store/">App Store</a></li>
                <li><a href="/app-store/review/">App Review</a></li>
                <li><a href="https://itunesconnect.apple.com/">iTunes Connect</a></li>
                <li><a href="/testflight/">TestFlight</a></li>
                <li><a href="/enterprise/">Enterprise</a></li>
                <li><a href="/safari/extensions/">Safari Extensions</a></li>
              </ul>
            </div>
            <div id="dn-cole" class="column">
              <h3><a href="/support/">Support</a></h3>
              <ul>
                <li><a href="https://forums.developer.apple.com">Developer Forums</a></li>
                <li><a href="/contact/">Contact Us</a></li>
                <li><a href="/bug-reporting/">Bug Reporting</a></li>
                <li><a href="/terms/">License Agreements</a></li>
                <li><a href="/system-status/">System Status</a></li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="ac-gf-footer-legal">
          <div class="ac-gf-footer-news"> To receive the latest developer news, visit and subscribe to our <a href="/news/">News and Updates</a>.
          </div>
          <div class="ac-gf-footer-legal-copyright">Copyright © 2018 Apple Inc. All rights reserved.</div>
          <div class="ac-gf-footer-legal-links">
            <a href="https://www.apple.com/legal/internet-services/terms/site.html" class="first">Terms of Use</a>
            <a href="https://www.apple.com/privacy/privacy-policy/">Privacy Policy</a>
            <a href="/bug-reporting/">Report Bugs</a>
            <a href="/contact/submit/?subject=website-feedback">Feedback</a>
          </div>
          <div class="ac-gf-footer-language-links">
            <a href="/cn/" class="first">简体中文</a>
            <a href="/jp/">日本語</a>
            <a href="/kr/">한국어</a>
          </div>
        </div>
      </footer></section></div></div><script id="bootstrap-data" type="application/json">{"id":2904054,"title":{"content":"Encoding and Decoding Custom Types"},"abstract":"<div><p>Make your data types encodable and decodable for compatibility with external representations such as JSON.<\/p><\/div>","discussion":"<div><p>Many programming tasks involve sending data over a network connection, saving data to disk, or submitting data to APIs and services. These tasks often require data to be encoded and decoded to and from an intermediate format while the data is being transferred.<\/p><p>The Swift standard library defines a standardized approach to data encoding and decoding. You adopt this approach by implementing the <a class=\"symbol-name\" href=\"\/documentation\/swift\/encodable\"><code><span>Encodable<\/span><\/code><\/a> and <a class=\"symbol-name\" href=\"\/documentation\/swift\/decodable\"><code><span>Decodable<\/span><\/code><\/a> protocols on your custom types. Adopting these protocols lets implementations of the <a class=\"symbol-name\" href=\"\/documentation\/swift\/encoder\"><code><span>Encoder<\/span><\/code><\/a> and <a class=\"symbol-name\" href=\"\/documentation\/swift\/decoder\"><code><span>Decoder<\/span><\/code><\/a> protocols take your data and encode or decode it to and from an external representation such as JSON or property list. To support both encoding and decoding, declare conformance to <a class=\"symbol-name\" href=\"\/documentation\/swift\/codable\"><code><span>Codable<\/span><\/code><\/a>, which combines the <code class=\"code-voice\"><span>Encodable<\/span><\/code> and <code class=\"code-voice\"><span>Decodable<\/span><\/code> protocols. This process is known as making your types <em>codable<\/em>.<\/p><\/div><h3 id=\"2904055\">Encode and Decode Automatically<\/h3><div><p>The simplest way to make a type codable is to declare its properties using types that are already <code class=\"code-voice\"><span>Codable<\/span><\/code>. These types include standard library types like <a class=\"symbol-name\" href=\"\/documentation\/swift\/string\"><code><span>String<\/span><\/code><\/a>, <a class=\"symbol-name\" href=\"\/documentation\/swift\/int\"><code><span>Int<\/span><\/code><\/a>, and <a class=\"symbol-name\" href=\"\/documentation\/swift\/double\"><code><span>Double<\/span><\/code><\/a>; and Foundation types like <a class=\"symbol-name\" href=\"\/documentation\/foundation\/date\"><code><span>Date<\/span><\/code><\/a>, <a class=\"symbol-name\" href=\"\/documentation\/foundation\/data\"><code><span>Data<\/span><\/code><\/a>, and <a class=\"symbol-name\" href=\"\/documentation\/foundation\/url\"><code><span>URL<\/span><\/code><\/a>. Any type whose properties are codable automatically conforms to <code class=\"code-voice\"><span>Codable<\/span><\/code> just by declaring that conformance.<\/p><p>Consider a <code class=\"code-voice\"><span>Landmark<\/span><\/code> structure that stores the name and founding year of a landmark:<\/p><figure id=\"2904068\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Landmark {\n    var name: String\n    var foundingYear: Int\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>Adding <code class=\"code-voice\"><span>Codable<\/span><\/code> to the inheritance list for <code class=\"code-voice\"><span>Landmark<\/span><\/code> triggers an automatic conformance that satisfies all of the protocol requirements from <code class=\"code-voice\"><span>Encodable<\/span><\/code> and <code class=\"code-voice\"><span>Decodable<\/span><\/code>:<\/p><figure id=\"2904069\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Landmark: Codable {\n    var name: String\n    var foundingYear: Int\n    \n    \/\/ Landmark now supports the Codable methods init(from:) and encode(to:), \n    \/\/ even though they aren&#x27;t written as part of its declaration.\n}\n<\/code><\/pre><\/div><\/div><\/figure><p><\/p><p>Adopting <code class=\"code-voice\"><span>Codable<\/span><\/code> on your own types enables you to serialize them to and from any of the built-in data formats, and any formats provided by custom encoders and decoders. For example, the <code class=\"code-voice\"><span>Landmark<\/span><\/code> structure can be encoded using both the <a class=\"symbol-name\" href=\"\/documentation\/foundation\/propertylistencoder\"><code><span>Property<wbr\/>List<wbr\/>Encoder<\/span><\/code><\/a> and <a class=\"symbol-name\" href=\"\/documentation\/foundation\/jsonencoder\"><code><span>JSONEncoder<\/span><\/code><\/a> classes, even though <code class=\"code-voice\"><span>Landmark<\/span><\/code> itself contains no code to specifically handle property lists or JSON.<\/p><p>The same principle applies to custom types made up of other custom types that are codable. As long as all of its properties are <code class=\"code-voice\"><span>Codable<\/span><\/code>, any custom type can also be <code class=\"code-voice\"><span>Codable<\/span><\/code>.<\/p><p>The example below shows how automatic <code class=\"code-voice\"><span>Codable<\/span><\/code> conformance applies when a <code class=\"code-voice\"><span>location<\/span><\/code> property is added to the <code class=\"code-voice\"><span>Landmark<\/span><\/code> structure:<\/p><figure id=\"2904070\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Coordinate: Codable {\n    var latitude: Double\n    var longitude: Double\n}\n\nstruct Landmark: Codable {\n    \/\/ Double, String, and Int all conform to Codable.\n    var name: String\n    var foundingYear: Int\n    \n    \/\/ Adding a property of a custom Codable type maintains overall Codable conformance.\n    var location: Coordinate\n}\n<\/code><\/pre><\/div><\/div><\/figure><p><\/p><p>Built-in types such as <a class=\"symbol-name\" href=\"\/documentation\/swift\/array\"><code><span>Array<\/span><\/code><\/a>,  <a class=\"symbol-name\" href=\"\/documentation\/swift\/dictionary\"><code><span>Dictionary<\/span><\/code><\/a>, and <a class=\"symbol-name\" href=\"\/documentation\/swift\/optional\"><code><span>Optional<\/span><\/code><\/a> also conform to <code class=\"code-voice\"><span>Codable<\/span><\/code> whenever they contain codable types. You can add an array of <code class=\"code-voice\"><span>Coordinate<\/span><\/code> instances to <code class=\"code-voice\"><span>Landmark<\/span><\/code>, and the entire structure will still satisfy <code class=\"code-voice\"><span>Codable<\/span><\/code>. <\/p><p>The example below shows how automatic conformance still applies when adding multiple properties using built-in codable types within <code class=\"code-voice\"><span>Landmark<\/span><\/code>:<\/p><figure id=\"2904071\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Landmark: Codable {\n    var name: String\n    var foundingYear: Int\n    var location: Coordinate\n    \n    \/\/ Landmark is still codable after adding these properties.\n    var vantagePoints: [Coordinate]\n    var metadata: [String: String]\n    var website: URL?\n}\n<\/code><\/pre><\/div><\/div><\/figure><p><\/p><p><\/p><\/div><h3 id=\"2904056\">Encode or Decode Exclusively<\/h3><div><p>In some cases, you may not need <code class=\"code-voice\"><span>Codable<\/span><\/code>&#x27;s support for bidirectional encoding and decoding.  For example, some apps only need to make calls to a remote network API and do not need to decode a response containing the same type. Declare conformance to <code class=\"code-voice\"><span>Encodable<\/span><\/code> if you only need to support the encoding of data. Conversely, declare conformance to <code class=\"code-voice\"><span>Decodable<\/span><\/code> if you only need to read data of a given type.<\/p><p>The examples below show alternative declarations of the <code class=\"code-voice\"><span>Landmark<\/span><\/code> structure that only encode or decode data:<\/p><figure id=\"2904076\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Landmark: Encodable {\n    var name: String\n    var foundingYear: Int\n}\n<\/code><\/pre><\/div><\/div><\/figure><figure id=\"2909111\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Landmark: Decodable {\n    var name: String\n    var foundingYear: Int\n}\n<\/code><\/pre><\/div><\/div><\/figure><p><\/p><\/div><h3 id=\"2904057\">Choose Properties to Encode and Decode Using Coding Keys<\/h3><div><p>Codable types can declare a special nested enumeration named <code class=\"code-voice\"><span>Coding<wbr\/>Keys<\/span><\/code> that conforms to the <a class=\"symbol-name\" href=\"\/documentation\/swift\/codingkey\"><code><span>Coding<wbr\/>Key<\/span><\/code><\/a> protocol. When this enumeration is present, its cases serve as the authoritative list of properties that must be included when instances of a codable type are encoded or decoded. The names of the enumeration cases should match the names you&#x27;ve given to the corresponding properties in your type. <\/p><p>Omit properties from the <code class=\"code-voice\"><span>Coding<wbr\/>Keys<\/span><\/code> enumeration if they won&#x27;t be present when decoding instances, or if certain properties shouldn&#x27;t be included in an encoded representation. A property omitted from <code class=\"code-voice\"><span>Coding<wbr\/>Keys<\/span><\/code> needs a default value in order for its containing type to receive automatic conformance to <code class=\"code-voice\"><span>Decodable<\/span><\/code> or <code class=\"code-voice\"><span>Codable<\/span><\/code>.<\/p><p>If the keys used in your serialized data format don&#x27;t match the property names from your data type, provide alternative keys by specifying <code class=\"code-voice\"><span>String<\/span><\/code> as the raw-value type for the <code class=\"code-voice\"><span>Coding<wbr\/>Keys<\/span><\/code> enumeration.  The string you use as a raw value for each enumeration case is the key name used during encoding and decoding. The association between the case name and its raw value lets you name your data structures according to the Swift <a href=\"https:\/\/swift.org\/documentation\/api-design-guidelines\/\">API Design Guidelines<\/a> rather than having to match the names, punctuation, and capitalization of the serialization format you&#x27;re modeling.<\/p><p>The example below uses alternative keys for the <code class=\"code-voice\"><span>name<\/span><\/code> and <code class=\"code-voice\"><span>founding<wbr\/>Year<\/span><\/code> properties of the <code class=\"code-voice\"><span>Landmark<\/span><\/code> structure when encoding and decoding:<\/p><figure id=\"2904080\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Landmark: Codable {\n    var name: String\n    var foundingYear: Int\n    var location: Coordinate\n    var vantagePoints: [Coordinate]\n    \n    enum CodingKeys: String, CodingKey {\n        case name = &quot;title&quot;\n        case foundingYear = &quot;founding_date&quot;\n        \n        case location\n        case vantagePoints\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p><\/p><\/div><h3 id=\"2904058\">Encode and Decode Manually<\/h3><div><p>If the structure of your Swift type differs from the structure of its encoded form, you can provide a custom implementation of <code class=\"code-voice\"><span>Encodable<\/span><\/code> and <code class=\"code-voice\"><span>Decodable<\/span><\/code> to define your own encoding and decoding logic.<\/p><p>In the examples below, the <code class=\"code-voice\"><span>Coordinate<\/span><\/code> structure is expanded to support an <code class=\"code-voice\"><span>elevation<\/span><\/code> property that&#x27;s nested inside of an <code class=\"code-voice\"><span>additional<wbr\/>Info<\/span><\/code> container:<\/p><figure id=\"2904081\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>struct Coordinate {\n    var latitude: Double\n    var longitude: Double\n    var elevation: Double\n\n    enum CodingKeys: String, CodingKey {\n        case latitude\n        case longitude\n        case additionalInfo\n    }\n    \n    enum AdditionalInfoKeys: String, CodingKey {\n        case elevation\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>Because the encoded form of the <code class=\"code-voice\"><span>Coordinate<\/span><\/code> type contains a second level of nested information, the type&#x27;s adoption of the <code class=\"code-voice\"><span>Encodable<\/span><\/code> and <code class=\"code-voice\"><span>Decodable<\/span><\/code> protocols uses two enumerations that each list the complete set of coding keys used on a particular level.<\/p><p>In the example below, the <code class=\"code-voice\"><span>Coordinate<\/span><\/code> structure is extended to conform to the <code class=\"code-voice\"><span>Decodable<\/span><\/code> protocol by implementing its required initializer, <a class=\"symbol-name\" href=\"\/documentation\/swift\/decodable\/2894081-init\"><code><span>init(from:)<\/span><\/code><\/a>:<\/p><figure id=\"2904082\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>extension Coordinate: Decodable {\n    init(from decoder: Decoder) throws {\n        let values = try decoder.container(keyedBy: CodingKeys.self)\n        latitude = try values.decode(Double.self, forKey: .latitude)\n        longitude = try values.decode(Double.self, forKey: .longitude)\n        \n        let additionalInfo = try values.nestedContainer(keyedBy: AdditionalInfoKeys.self, forKey: .additionalInfo)\n        elevation = try additionalInfo.decode(Double.self, forKey: .elevation)\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p><\/p><p>The initializer populates a <code class=\"code-voice\"><span>Coordinate<\/span><\/code> instance by using methods on the <code class=\"code-voice\"><span>Decoder<\/span><\/code> instance it receives as a parameter. The <code class=\"code-voice\"><span>Coordinate<\/span><\/code> instance&#x27;s two properties are initialized using the keyed container APIs provided by the Swift standard library.<\/p><p>The example below shows how the <code class=\"code-voice\"><span>Coordinate<\/span><\/code> structure can be extended to conform to the <code class=\"code-voice\"><span>Encodable<\/span><\/code> protocol by implementing its required method, <a class=\"symbol-name\" href=\"\/documentation\/swift\/encodable\/2893603-encode\"><code><span>encode(to:)<\/span><\/code><\/a>:<\/p><figure id=\"2904083\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>extension Coordinate: Encodable {\n    func encode(to encoder: Encoder) throws {\n        var container = encoder.container(keyedBy: CodingKeys.self)\n        try container.encode(latitude, forKey: .latitude)\n        try container.encode(longitude, forKey: .longitude)\n        \n        var additionalInfo = container.nestedContainer(keyedBy: AdditionalInfoKeys.self, forKey: .additionalInfo)\n        try additionalInfo.encode(elevation, forKey: .elevation)\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>This implementation of the <code class=\"code-voice\"><span>encode(to:)<\/span><\/code> method reverses the decoding operation from the previous example.<\/p><p>For more information about the container types used when customizing the encoding and decoding process, see <a class=\"symbol-name\" href=\"\/documentation\/swift\/keyedencodingcontainerprotocol\"><code><span>Keyed<wbr\/>Encoding<wbr\/>Container<wbr\/>Protocol<\/span><\/code><\/a> and <a class=\"symbol-name\" href=\"\/documentation\/swift\/unkeyedencodingcontainer\"><code><span>Unkeyed<wbr\/>Encoding<wbr\/>Container<\/span><\/code><\/a>.<\/p><\/div>","seeAlso":[{"id":2891433,"role":"sampleCode","paths":["documentation\/foundation\/archives_and_serialization\/using_json_with_custom_types"],"languages":["occ","swift"],"title":{"content":"Using JSON with Custom Types"},"abstract":"<div><p>Demonstrates approaches for encoding and decoding different kinds of JSON in Swift.<\/p><\/div>"}],"containingGroup":[{"id":2902611,"role":"task","paths":[],"symbols":[{"id":2904054,"role":"article","paths":["documentation\/foundation\/archives_and_serialization\/encoding_and_decoding_custom_types","documentation\/swift\/encoding_decoding_and_serialization\/encoding_and_decoding_custom_types"],"abstract":"<div><p>Make your data types encodable and decodable for compatibility with external representations such as JSON.<\/p><\/div>","title":{"content":"Encoding and Decoding Custom Types"}},{"id":2893298,"role":"symbol","usr":"s:s7Codablea","kind":"tdef","availability":[{"platform":"xcode","introduced":"9.0"}],"name":"Codable","displayName":"<code class=\"display-name\"><span class=\"decorator\">typealias <\/span><span class=\"identifier\">Codable<\/span><\/code>","paths":["documentation\/swift\/codable"],"title":{"content":"Codable"},"abstract":"<div><p>A type that can convert itself into and out of an external representation.<\/p><\/div>"},{"id":2894932,"role":"symbol","usr":"s:s9EncodableP","kind":"intf","availability":[{"platform":"xcode","introduced":"9.0"}],"name":"Encodable","displayName":"<code class=\"display-name\"><span class=\"decorator\">protocol <\/span><span class=\"identifier\">Encodable<\/span><\/code>","paths":["documentation\/swift\/encodable"],"title":{"content":"Encodable"},"abstract":"<div><p>A type that can encode itself to an external representation.<\/p><\/div>","hasChildren":true},{"id":2893395,"role":"symbol","usr":"s:s9DecodableP","kind":"intf","availability":[{"platform":"xcode","introduced":"9.0"}],"name":"Decodable","displayName":"<code class=\"display-name\"><span class=\"decorator\">protocol <\/span><span class=\"identifier\">Decodable<\/span><\/code>","paths":["documentation\/swift\/decodable"],"title":{"content":"Decodable"},"abstract":"<div><p>A type that can decode itself from an external representation.<\/p><\/div>","hasChildren":true},{"id":2893289,"role":"symbol","usr":"s:s9CodingKeyP","kind":"intf","availability":[{"platform":"xcode","introduced":"9.0"}],"name":"CodingKey","displayName":"<code class=\"display-name\"><span class=\"decorator\">protocol <\/span><span class=\"identifier\">Coding<wbr\/>Key<\/span><\/code>","paths":["documentation\/swift\/codingkey"],"title":{"content":"CodingKey"},"abstract":"<div><p>A type that can be used as a key for encoding and decoding.<\/p><\/div>","hasChildren":true},{"id":2893399,"role":"symbol","usr":"s:s17CodingUserInfoKeyV","kind":"struct","availability":[{"platform":"xcode","introduced":"9.0"}],"name":"CodingUserInfoKey","displayName":"<code class=\"display-name\"><span class=\"decorator\">struct <\/span><span class=\"identifier\">Coding<wbr\/>User<wbr\/>Info<wbr\/>Key<\/span><\/code>","paths":["documentation\/swift\/codinguserinfokey"],"title":{"content":"CodingUserInfoKey"},"abstract":"<div><p>A user-defined key for providing context during encoding and decoding.<\/p><\/div>","hasChildren":true}],"title":{"content":"Custom Encoding and Decoding"}}],"modules":[{"title":{"content":"Swift Standard Library"},"paths":["documentation\/swift"],"importStatement":"<import xml:space=\"preserve\"><keyWord>import<\/keyWord> Swift<\/import>","availability":[{"platform":"watchos","introduced":"2.0"},{"platform":"ios","introduced":"8.0"},{"platform":"tvos","introduced":"9.0"},{"platform":"macos","introduced":"10.10"}]}],"languages":["swift"],"variants":{"swift":{"paths":["documentation\/foundation\/archives_and_serialization\/encoding_and_decoding_custom_types","documentation\/swift\/encoding_decoding_and_serialization\/encoding_and_decoding_custom_types"]}},"pid":151177,"role":"article","language":"swift","paths":["documentation\/foundation\/archives_and_serialization\/encoding_and_decoding_custom_types","documentation\/swift\/encoding_decoding_and_serialization\/encoding_and_decoding_custom_types"],"hierarchy":[[{"id":1613754,"role":"collection","title":{"content":"Swift Standard Library"},"paths":["documentation\/swift"]},{"id":2902609,"role":"collectionGroup","title":{"content":"Encoding, Decoding, and Serialization"},"paths":["documentation\/swift\/encoding_decoding_and_serialization"]}],[{"id":1613013,"role":"collection","title":{"content":"Foundation"},"paths":["documentation\/foundation"]},{"id":2877770,"role":"collectionGroup","title":{"content":"Archives and Serialization"},"paths":["documentation\/foundation\/archives_and_serialization"]}]],"legalNotices":{"copyright":"Copyright &copy; 2018 Apple Inc. All rights reserved.","termsOfUse":"https:\/\/www.apple.com\/legal\/internet-services\/terms\/site.html","privacyPolicy":"https:\/\/www.apple.com\/privacy\/privacy-policy"}}</script><script src="../../../documentation/assets/TopicDetail-58414787.js"></script></body></html>