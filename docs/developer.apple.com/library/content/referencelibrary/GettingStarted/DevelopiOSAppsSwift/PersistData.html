<!DOCTYPE html>
<html lang="en">
  <head>  
  <title>Start Developing iOS Apps (Swift): Persist Data</title>
  <link rel="stylesheet" type="text/css" href="../../../Resources/1257/CSS/style-1.6.3.css" />
  <link rel="stylesheet" type="text/css" href="../../../Resources/1257/CSS/feedback-1.6.3.css" />
  <meta charset='utf-8'> 
<meta id="j-version" name="j-version" content="" />
<meta id="build" name="build" content="18a4ddd810268b2b45148ad71ca004a7" />
<meta id="document-version" name="document-version" content="1.4.42" />
<meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Topic/General}" />
<meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/TP40015214" />
<meta id="chapterId" name="chapterId" content="TP40015214-CH14">
<meta id="book-title" name="book-title" content="Start Developing iOS Apps (Swift)" />
<meta id="book-resource-type" name="book-resource-type" content="Guide" />
<meta id="book-root" name="book-root" content="./" />
<meta id="book-json" name="book-json" content="book.json">
<meta id="date" name="date" content="2016-12-08" />
<meta id="description" name="description" content="A hands-on introduction to iOS app development using Swift." />
<meta id="IndexTitle" name="IndexTitle" content="" />
<meta id="resources-uri" name="resources-uri" content="../../../Resources/1257">
<link id="book-index-page" rel="Start" title="" type="text/html" href="./index.html">
<!-- , next_chapter: next_chapter, previous_chapter: previous_chapter -->
<link id="next-page" rel="Next" type="text/html" href="">
<link id="previous-page" rel="Prev" type="text/html" href="">
<meta id="devcenter" name="devcenter" content="<!-- DEVCENTER_NAME -->" />
<meta id="devcenter-url" name="devcenter-url" content="<!-- DEVCENTER_URL -->" />
<meta id="reflib" name="reflib" content="<!-- REFLIB_NAME -->" />

<meta id="xcode-display" name="xcode-display" content="render" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta id="platforms" name="platforms" content="iOS">
</head>

  <body id="roadmap" class='jazz'>
    
    <header id="ios_header" class="hideOnPrint hideInXcode">
  <div class="content-wrapper">
    <p class="header-text">
    	<a href="../../../navigation/index.html">Guides and Sample Code
 		</a>
 </p>
    <p id="wwdr"><img id="apple_logo" src="../../../Resources/1257/Images/apple2.png" height="14px" width="12px" aria-hidden="true" /><a href="https://developer.apple.com">Developer</a></p>
  </div>
</header>

    <section id="valence">
  <div class="content-wrapper">
	<p id="hierarchial_navigation">
		<span id="book_title">Start Developing iOS Apps (Swift)</span>
	</p>
	<form id="search" class="hideInXcode" method="get" action="/search/index.php" accept-charset="utf-8" autocomplete="off">
  <input type="search" id="ssi_SearchField" placeholder="Search Guides and Sample Code" name="q" autocomplete="off" tabindex="2" />
</form>

	  
   
   



    <img id="shortstack" src="../../../Resources/1257/Images/shortstack_2x.png"/>
  </div>
</section>
    <div class="content-wrapper">
      <nav id="navigator" class="book-parts hideInXcode" role="navigation">
    <ul class="nav-parts">
        <li class="part-name">
            <a href="index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH2-SW1">Getting Started<br><span class="jpstr">
はじめに
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH2-SW1">Jump Right In<br><span class="jpstr">
すぐ始めよう
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="BuildABasicUI.html#//apple_ref/doc/uid/TP40015214-CH5-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH5-SW1">Building the UI<br><span class="jpstr">
UIを作る
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="BuildABasicUI.html#//apple_ref/doc/uid/TP40015214-CH5-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH5-SW1">Build a Basic UI<br><span class="jpstr">
基本的なUIを作る
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="ConnectTheUIToCode.html#//apple_ref/doc/uid/TP40015214-CH22-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH22-SW1">Connect the UI to Code<br><span class="jpstr">
UIをコードに接続する
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="WorkWithViewControllers.html#//apple_ref/doc/uid/TP40015214-CH6-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH6-SW1">Work with View Controllers<br><span class="jpstr">
ビューコントローラを扱う
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="ImplementingACustomControl.html#//apple_ref/doc/uid/TP40015214-CH19-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH19-SW1">Implement a Custom Control<br><span class="jpstr">
カスタムコントロールの実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="DefineYourDataModel.html#//apple_ref/doc/uid/TP40015214-CH20-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH20-SW1">Define Your Data Model<br><span class="jpstr">
あなたのデータモデルの定義
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name nav-part-active open-part">
            <a href="CreateATableView.html#//apple_ref/doc/uid/TP40015214-CH8-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH8-SW1">Working with Table Views<br><span class="jpstr">
テーブルビューを扱う
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="CreateATableView.html#//apple_ref/doc/uid/TP40015214-CH8-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH8-SW1">Create a Table View<br><span class="jpstr">
テーブルビューを作る
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="ImplementNavigation.html#//apple_ref/doc/uid/TP40015214-CH16-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH16-SW1">Implement Navigation<br><span class="jpstr">
ナビゲーションの実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="ImplementEditAndDeleteBehavior.html#//apple_ref/doc/uid/TP40015214-CH9-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH9-SW1">Implement Edit and Delete Behavior<br><span class="jpstr">
編集および削除挙動の実装
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
              <li class="conceptual-with-tasks nav-chapter nav-current-chapter">
              	<a href="#//apple_ref/doc/uid/TP40015214-CH14-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH14-SW1">Persist Data<br><span class="jpstr">
データ永続
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="Resources.html#//apple_ref/doc/uid/TP40015214-CH15-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH15-SW1">What’s Next?<br><span class="jpstr">
次はなに？
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="conceptual-with-tasks nav-chapter">
              	<a href="Resources.html#//apple_ref/doc/uid/TP40015214-CH15-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH15-SW1">Where to Go from Here<br><span class="jpstr">
これからどうする
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li class="part-name">
            <a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW1">iOS and Swift Terminology<br><span class="jpstr">
iOSとSwiftの専門用語
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
              <li class="glossary nav-chapter">
              	<a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW1">Glossary<br><span class="jpstr">
用語集
</span><!--end_jpstr-->
<div class='pipe'></div></a>
              </li>
          </ul>
        </li>
        <li data-id="revision-history"
            class="part-name">
          <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Revision History<br><span class="jpstr">
改定履歴
</span><!--end_jpstr-->
</a>
          <ul class="nav-chapters">
            <li class="nav-chapter">
              <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Document Revision History<br><span class="jpstr">
文書改定履歴
</span><!--end_jpstr-->
</a>
            </li>
          </ul>
        </li>
    </ul>
</nav>

      <menu id="bashful" type="toolbar">
  <div class="shield"></div>
  <menuitem id="jump_to" class="menu-bar-item closed">
  <span>On This Page</span>
  <div class="chevron">
    <div class="chevy chevron-left"></div>
    <div class="chevy chevron-right"></div>
  </div>
  <menu type="list" class="details">
      <ul class="list-bullet">
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH14-SW2">Learning Objectives</a>
<br><span class="jpstr">
学習する目標
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH14-SW5">Save and Load the Meal</a>
<br><span class="jpstr">
食事の保存とロード
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH14-SW6">Save and Load the Meal List</a>
<br><span class="jpstr">
食事リストの保存とロード
</span><!--end_jpstr-->
          </li>
          <li class="item">
            <a href="#//apple_ref/doc/uid/TP40015214-CH14-DontLinkElementID_12">Wrapping Up</a>
<br><span class="jpstr">
まとめ
</span><!--end_jpstr-->
          </li>
      </ul>
  </menu>
</menuitem>

</menu>
<div class="pixel-line"></div>
<div class="rubber-band-gap"></div>
<article class="chapter">
  <a name="//apple_ref/doc/uid/TP40015214-CH14"></a><a name="//apple_ref/doc/uid/TP40015214-CH14-SW1"></a>
  <h2 class='chapter-name chapter-name-short'>Persist Data<br><span class="jpstr">
データ永続
</span><!--end_jpstr-->
</h2>
  
  	<section class="section">
  		<p class="para">
  In this lesson, you save a meal list across FoodTracker app sessions. Understanding and implementing data persistence is a vital part of iOS app development. iOS has many persistent data storage solutions; in this lesson, you’ll use <code class="code-voice">NSCoding</code> as the data persistence mechanism in the FoodTracker app. <code class="code-voice">NSCoding</code> is a protocol that enables a lightweight solution for archiving objects and other structures. Archived objects can be stored on disk and retrieved at a later time.
<br><span class="jpstr">
このレッスンでは、あなたはFoodTrackerアプリのセッションをまたいで食事リストを保存します。データ永続の理解と実装は、iOSアプリ開発の極めて重要な部分です。iOSは、多くの永続データ貯蔵の解決策を持ちます；このレッスンでは、あなたは<code class="code-voice">NSCoding</code>をデータ永続の仕組みとしてFoodTrackerアプリで使います。<code class="code-voice">NSCoding</code>は、あるプロトコルです、それは、オブジェクトおよび他の構造物のアーカイブ（保存）に対する軽量な解決策となります。アーカイブされたオブジェクトは、ディスクに保管され後で取り出されることができます。
</span><!--end_jpstr-->
</p>

		</section> 
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH14-SW2"></a>
  <h3 class="section-name" tabindex="0">Learning Objectives<br><span class="jpstr">
学習する目標
</span><!--end_jpstr-->
</h3>
  <p class="para">
  At the end of the lesson, you’ll be able to:
<br><span class="jpstr">
このレッスンの終わりに、あなたが出来るようになるのは：
</span><!--end_jpstr-->
</p><ul class="list-bullet">
  <li class="item"><p class="para">
  Create a structure to store string constants
<br><span class="jpstr">
構造体を作成して文字列定数を格納する
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Understand the difference between static properties and instance properties
<br><span class="jpstr">
静的プロパティとインスタンスプロパティの間の違いを理解する
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">NSCoding</code> protocol to read and write data
<br><span class="jpstr">
<code class="code-voice">NSCoding</code>プロトコルを使ってデータを読み書きする
</span><!--end_jpstr-->
</p>
</li>
</ul>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH14-SW5"></a>
  <h3 class="section-name" tabindex="0">Save and Load the Meal<br><span class="jpstr">
食事の保存とロード
</span><!--end_jpstr-->
</h3>
  <p class="para">
  In this step you’ll implement the behavior in the <code class="code-voice">Meal</code> class to save and load the meal. Using the <code class="code-voice">NSCoding</code> approach, the  <code class="code-voice">Meal</code> class is in charge of storing and loading each of its <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW58" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW58">properties</a></span>. It needs to save its data by assigning the value of each property to a particular key. It then loads the data by looking up the information associated with that key.
<br><span class="jpstr">
この段階においてあなたは<code class="code-voice">Meal</code>クラスにおいて食事を保存してロードする（読み込む）挙動を実装します。<code class="code-voice">NSCoding</code>の手法を使って、<code class="code-voice">Meal</code>クラスはそれの<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW58" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW58">プロパティ</a></span>の格納とロードの世話をします。それは、それのデータの保存を、各プロパティの値を特有のキーに割り当てることによって行う必要があります。それはそれから、データのロードを、そのキーに結びついた情報を検索することによって行います。
</span><!--end_jpstr-->
</p><p class="para">
  A key is simply a string value. You choose your own keys based on what makes the most sense in your app. For example, you might use the key <code class="code-voice">name</code> to store the value of the <code class="code-voice">name</code> property. 
<br><span class="jpstr">
キーは、単なる文字列値です。あなたは、あなた独自のキーをあなたのアプリにおいて最も意味の通るものに基づき選びます。例えば、あなたはキー<code class="code-voice">name</code>を使うことで、<code class="code-voice">name</code>プロパティの値を格納するかもしれません。
</span><!--end_jpstr-->
</p><p class="para">
  To make it clear which coding key corresponds to each piece of data, create a <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW13" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW13">structure</a></span> to store the key strings. This way, when you need to use the key in multiple places throughout your code, you can use the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW33" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW33">constant</a></span> instead of retyping the string (which increases the likelihood of mistakes).
<br><span class="jpstr">
どの符号化キーがデータ片のそれぞれに対応するかわかりやすくするために、ある<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW13" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW13">構造体</a></span>を作成してキー文字列を格納してください。こうすることで、あなたのコードにおいて複数の箇所でキーを使う必要がある時、あなたはその文字列をなんどもタイプする（間違いの可能性を増やす）ことの代わりに<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW33" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW33">定数</a></span>を使うことができます。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To implement a coding key structure<br><span class="jpstr">
符号化キー構造体を実装するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open <code class="code-voice">Meal.swift</code>.
<br><span class="jpstr">
<code class="code-voice">Meal.swift</code>を開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">Meal.swift</code>, below the <code class="code-voice">//MARK: Properties</code> section, add this structure:
<br><span class="jpstr">
<code class="code-voice">Meal.swift</code>において、<code class="code-voice">//MARK: Properties</code>節の下で、この構造体を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">//MARK: Types</span></code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">struct</span> <span class="vc">PropertyKey</span> {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  In the <code class="code-voice">PropertyKey</code> structure, add these properties:
<br><span class="jpstr">
この<code class="code-voice">PropertyKey</code>構造体において、これらのプロパティを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">static</span> <span class="kt">let</span> <span class="vc">name</span> = <span class="s">&quot;name&quot;</span></code></li>
            <li><code class="code-voice"><span class="kt">static</span> <span class="kt">let</span> <span class="vc">photo</span> = <span class="s">&quot;photo&quot;</span></code></li>
            <li><code class="code-voice"><span class="kt">static</span> <span class="kt">let</span> <span class="vc">rating</span> = <span class="s">&quot;rating&quot;</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Each constant corresponds to one of the three properties of <code class="code-voice">Meal</code>. The <code class="code-voice">static</code> keyword indicates that these constants belong to the structure itself, not to instances of the structure. You access these constants using the structure’s name (for example, <code class="code-voice">PropertyKey.name</code>). 
<br><span class="jpstr">
各定数は、<code class="code-voice">Meal</code>の３つのプロパティのうちの１つに対応します。<code class="code-voice">static</code>キーワードが示すのは、これらの定数が構造体それ自体に属しているということです、構造体のインスタンスにではなく。あなたは、これら定数に構造体の名前（例えば、<code class="code-voice">PropertyKey.name</code>）を使ってアクセスします。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">PropertyKey</code> structure should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">PropertyKey</code>構造体はこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">struct</span> <span class="vc">PropertyKey</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">let</span> <span class="vc">name</span> = <span class="s">&quot;name&quot;</span></code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">let</span> <span class="vc">photo</span> = <span class="s">&quot;photo&quot;</span></code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">let</span> <span class="vc">rating</span> = <span class="s">&quot;rating&quot;</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  To be able to encode and decode itself and its properties, the <code class="code-voice">Meal</code> class needs to <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW32" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW32">conform to</a></span> the <code class="code-voice">NSCoding</code> <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW59" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW59">protocol</a></span>. To conform to <code class="code-voice">NSCoding</code>, the <code class="code-voice">Meal</code> needs to <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW14" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW14">subclass</a></span> <code class="code-voice">NSObject</code>. <code class="code-voice">NSObject</code> is considered a <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW79" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW79">base class</a></span> that defines a basic interface to the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW81" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW81">runtime</a></span> system.
<br><span class="jpstr">
それ自身とそれのプロパティを符号化および復号化するのが可能であるには、<code class="code-voice">Meal</code>クラスは<code class="code-voice">NSCoding</code><span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW59" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW59">プロトコル</a></span>に<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW32" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW32">準拠する</a></span>必要があります。<code class="code-voice">NSCoding</code>に準拠するために、<code class="code-voice">Meal</code>は<code class="code-voice">NSObject</code>の<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW14" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW14">サブクラス</a></span>になる必要があります。<code class="code-voice">NSObject</code>は、<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW79" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW79">基盤クラス</a></span>とみなされます、それは基本的なインターフェイスを<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW81" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW81">実行時</a></span>システムに対して定義します。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To subclass NSObject and conform to NSCoding<br><span class="jpstr">
NSObjectのサブクラスにして、NSCodingに準拠するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">Meal.swift</code>, find the <code class="code-voice">class</code> line:
<br><span class="jpstr">
<code class="code-voice">Meal.swift</code>において、<code class="code-voice">class</code>行を見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">Meal</span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  After <code class="code-voice">Meal</code>, add a colon (<code class="code-voice">:</code>) and <code class="code-voice">NSObject</code> to subclass from the <code class="code-voice">NSObject</code> class:
<br><span class="jpstr">
<code class="code-voice">Meal</code>の後で、コロン（<code class="code-voice">:</code>）と<code class="code-voice">NSObject</code>を加えて、<code class="code-voice">NSObject</code>クラスのサブクラスにしてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">Meal</span>: <span class="n"><!-- a href="" -->NSObject<!-- /a --></span> {</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  After <code class="code-voice">NSObject</code>, add a comma (<code class="code-voice">,</code>) and <code class="code-voice">NSCoding</code> to adopt the <code class="code-voice">NSCoding</code> protocol:
<br><span class="jpstr">
<code class="code-voice">NSObject</code>の後で、コンマ（<code class="code-voice">,</code>）と<code class="code-voice">NSCoding</code>を加えて、<code class="code-voice">NSCoding</code>プロトコルを採用してください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">class</span> <span class="vc">Meal</span>: <span class="n"><!-- a href="" -->NSObject<!-- /a --></span>, <span class="n"><!-- a href="" -->NSCoding<!-- /a --></span> {</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  Now that <code class="code-voice">Meal</code> is a subclass of <code class="code-voice">NSObject</code>, the <code class="code-voice">Meal</code> class’s initializer must call one of the <code class="code-voice">NSObject</code> class’s designated initializers. Because the <code class="code-voice">NSObject</code> class’s only initializer is <code class="code-voice">init()</code>, the Swift compiler adds the call for you automatically, so you don’t need to change your code; however, feel free to add a call to <code class="code-voice">super.init()</code>, if you wish.
<br><span class="jpstr">
<code class="code-voice">Meal</code>が<code class="code-voice">NSObject</code>のサブクラスである今、<code class="code-voice">Meal</code>クラスのイニシャライザは<code class="code-voice">NSObject</code>クラスの指定イニシャライザのうちの１つを呼び出さなければなりません。<code class="code-voice">NSObject</code>クラスのただ１つのイニシャライザは<code class="code-voice">init()</code>であることから、Swiftコンパイラはあなたの代わりに自動的に呼び出しを加えます、それであなたはあなたのコードを変更する必要はありません；しかしながら、遠慮なく<code class="code-voice">super.init()</code>への呼び出しを加えてください、あなたが望むなら。
</span><!--end_jpstr-->
</p>
<div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH14-DontLinkElementID_38"></a>
  <aside class="aside">
    <p class="aside-title">Explore Further
    <br><span class="jpstr">
さらに先を探索
</span><!--end_jpstr-->
</p>
    	<p class="para">For more information on the Swift initialization rules, see <a href="../../../documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID216" data-renderer-version="2" target="_self">Class Inheritance and Initialization</a> and Initialization in <em class="u-book"><a href="../../../documentation/Swift/Conceptual/Swift_Programming_Language/index.html#//apple_ref/doc/uid/TP40014097" data-renderer-version="2" target="_self">The Swift Programming Language (Swift 3.0.1)</a></em>.
    	<br><span class="jpstr">
Swiftの初期化規則に関する詳細として<a href="../../../documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID216" data-renderer-version="2" target="_self">クラス継承と初期化</a>と「初期化」を<em class="u-book"><a href="../../../documentation/Swift/Conceptual/Swift_Programming_Language/index.html#//apple_ref/doc/uid/TP40014097" data-renderer-version="2" target="_self">The Swift Programming Language (Swift 3.0.1)</a></em>で見てください。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div>
</li>
</ol><p class="para">
  The <code class="code-voice">NSCoding</code> protocol declares two methods that any class that adopts to it must implement so that instances of that class can be encoded and decoded:
<br><span class="jpstr">
<code class="code-voice">NSCoding</code>プロトコルは、２つのメソッドを宣言します、それは、それを採用するあらゆるクラスが実装しなければならないもので、それによってそのクラスのインスタンスが符号化と複合化ができるものです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">encode</span>(<span class="vc">with</span> <span class="vc">aCoder</span>: <span class="vc">NSCoder</span>)</code></li>
            <li><code class="code-voice"><span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>)</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  The <code class="code-voice">encode(with:)</code> method prepares the class’s information to be archived, and the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">initializer</a></span> unarchives the data when the class is created. You need to implement both the <code class="code-voice">encode(with:)</code> method and the initializer for the data to save and load properly.
<br><span class="jpstr">
<code class="code-voice">encode(with:)</code>メソッドはクラスの情報をアーカイブされるように準備します、そして<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW2" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW2">イニシャライザ</a></span>はクラスが作成される時にデータをアンアーカイブします。あなたは、適切にデータを保存してロードするために<code class="code-voice">encode(with:)</code>メソッドとイニシャライザの両方を実装する必要があります。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To implement the encodeWithCoder NSCoding method<br><span class="jpstr">
encodeWithCoder NSCodingメソッドを実装するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">Meal.swift</code>, before the last curly brace (<code class="code-voice">}</code>), add the following:
<br><span class="jpstr">
<code class="code-voice">Meal.swift</code>において、最後の波括弧（<code class="code-voice">}</code>）の前で、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">//MARK: NSCoding</span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This is a comment to help you (and anybody else who reads your code) know that the code in this section is related to data persistence.
<br><span class="jpstr">
このコメントは、あなたが（そしてあなたのコードを読む他の誰でもが）この節のコードがデータ永続に関するものだと知る助けとなります。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Below the comment, add this method:
<br><span class="jpstr">
コメントの下で、このメソッドを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">encode</span>(<span class="vc">with</span> <span class="vc">aCoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  In the <code class="code-voice">encode(with:)</code> method, add the following code:
<br><span class="jpstr">
<code class="code-voice">encode(with:)</code>メソッドにおいて、以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">aCoder</span>.<span class="vc">encode</span>(<span class="vc">name</span>, <span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">name</span>)</code></li>
            <li><code class="code-voice"><span class="vc">aCoder</span>.<span class="vc">encode</span>(<span class="vc">photo</span>, <span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">photo</span>)</code></li>
            <li><code class="code-voice"><span class="vc">aCoder</span>.<span class="vc">encode</span>(<span class="vc">rating</span>, <span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">rating</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The NSCoder class defines a number of <code class="code-voice">encode(_:forKey:)</code> methods, each one taking a different type for the first argument. Each method encodes data of the given type. In the code shown above, the first two lines pass a String argument, while the third line passes an Int. These lines encode the value of each property on the <code class="code-voice">Meal</code> class and store them with their corresponding key.
<br><span class="jpstr">
NSCoderクラスは、多くの<code class="code-voice">encode(_:forKey:)</code>メソッドを定義していて、それぞれのものが最初の引数として異なる型を取ります。各メソッドは、与えられた型のデータをエンコードします。上で示したコードにおいて、最初の２つの行はString引数を渡します、一方３番目の行はIntを渡します。これらの行は、<code class="code-voice">Meal</code>クラスに関する各プロパティの値をエンコードして、それらを格納するのにそれらの対応するキーを使います。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  The <code class="code-voice">encode(with:)</code> method should look like this:
<br><span class="jpstr">
<code class="code-voice">encode(with:)</code>メソッドは、このように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">func</span> <span class="vc">encode</span>(<span class="vc">with</span> <span class="vc">aCoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="vc">aCoder</span>.<span class="vc">encode</span>(<span class="vc">name</span>, <span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">name</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">aCoder</span>.<span class="vc">encode</span>(<span class="vc">photo</span>, <span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">photo</span>)</code></li>
            <li><code class="code-voice">    <span class="vc">aCoder</span>.<span class="vc">encode</span>(<span class="vc">rating</span>, <span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">rating</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  With the encoding method written, implement the initializer to decode the encoded data.
<br><span class="jpstr">
符号化メソッドが書かれたので、符号化されたデータを復号化するイニシャライザを実装します。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To implement the initializer to load the meal<br><span class="jpstr">
食事をロードするイニシャライザを実装するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  At the top of the file, import the unified logging system, just below where you import UIKit.
<br><span class="jpstr">
ファイルの最上部で、統合ログシステムをインポートしてください、あなたがUIKitをインポートするところのすぐ下です。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">import</span> <span class="vc">os</span>.<span class="vc">log</span></code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Below the <code class="code-voice">encodeWithCoder(_:)</code> method, add the following initializer:
<br><span class="jpstr">
<code class="code-voice">encodeWithCoder(_:)</code>メソッドの下で、以下のイニシャライザを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">convenience</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The <code class="code-voice">required</code> modifier means this initializer must be implemented on every subclass, if the subclass defines its own initializers.
<br><span class="jpstr">
<code class="code-voice">required</code>修飾子は、このイニシャライザがすべてのサブクラス上で実装されなければならないことを意味します、もしサブクラスがそれ独自のイニシャライザを定義している場合は。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <code class="code-voice">convenience</code> modifier means that this is a secondary initializer, and that it must call a designated initializer from the same class.
<br><span class="jpstr">
<code class="code-voice">convenience</code>修飾子は、これが補助のイニシャライザであること、そしてそれは指定イニシャライザを同じクラスから呼び出さなければならないことを意味します。
</span><!--end_jpstr-->
</p>
<p class="para">
  The question mark (<code class="code-voice">?</code>) means that this is a <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW39" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW39">failable initializer</a></span> that might return <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW5" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW5">nil</a></span>.
<br><span class="jpstr">
疑問符（<code class="code-voice">?</code>）は、それが<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW39" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW39">失敗できるイニシャライザ</a></span>であるのを意味し、それは<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW5" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW5">nil</a></span>を返すかもしれません。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add the following code inside the initializer:
<br><span class="jpstr">
以下のコードをイニシャライザ内部に加えてください。
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// The name is required. If we cannot decode a name string, the initializer should fail.</span></code></li>
            <li><code class="code-voice"><span class="kt">guard</span> <span class="kt">let</span> <span class="vc">name</span> = <span class="vc">aDecoder</span>.<span class="vc">decodeObject</span>(<span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">name</span>) <span class="kt">as</span>? <span class="n"><!-- a href="" -->String<!-- /a --></span> <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">os_log</span>(<span class="s">&quot;Unable to decode the name for a Meal object.&quot;</span>, <span class="vc">log</span>: <span class="vc">OSLog</span>.<span class="kt">default</span>, <span class="vc">type</span>: .<span class="vc">debug</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">return</span> <span class="kt">nil</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The <code class="code-voice">decodeObject(forKey:)</code> method decodes encoded information.
<br><span class="jpstr">
<code class="code-voice">decodeObject(forKey:)</code>メソッドは、エンコードされた情報をデコードします。
</span><!--end_jpstr-->
</p>
<p class="para">
  The return value of <code class="code-voice">decodeObjectForKey(_:)</code> is an <code class="code-voice">Any?</code> optional. The guard statement both unwraps the optional and downcasts the enclosed type to a <code class="code-voice">String</code>, before assigning it to the <code class="code-voice">name</code> constant. If either of these operations fail, the entire initializer fails.
<br><span class="jpstr">
<code class="code-voice">decodeObjectForKey(_:)</code>の戻り値は、<code class="code-voice">Any?</code>オプショナルです。guard文は、オプショナルを、それを<code class="code-voice">name</code>定数に割り当てる前に、アンラップして封入された型を<code class="code-voice">String</code>へダウンキャストします。これらの演算のどちらかかが失敗するならば、イニシャライザ全体が失敗します。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Below the previous code, add the following:
<br><span class="jpstr">
以前のコードの下で、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Because photo is an optional property of Meal, just use conditional cast.&nbsp;<span class="jpstr">（写真はMealのオプショナルプロパティなので、条件キャストを使うだけです。</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">photo</span> = <span class="vc">aDecoder</span>.<span class="vc">decodeObjectForKey</span>(<span class="vc">PropertyKey</span>.<span class="vc">photo</span>) <span class="kt">as</span>? <span class="n"><!-- a href="" -->UIImage<!-- /a --></span></code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You downcast the value returned by <code class="code-voice">decodeObject(forKey:)</code> as a <code class="code-voice">UIImage</code>, and assign it to the <code class="code-voice">photo</code> constant. If the downcast fails, it assigns <code class="code-voice">nil</code> to the photo property. There is no need for a <code class="code-voice">guard</code> statement here, because the <code class="code-voice">photo</code> property is itself an optional.
<br><span class="jpstr">
あなたは、<code class="code-voice">decodeObject(forKey:)</code>によって返された値を<code class="code-voice">UIImage</code>としてダウンキャウトします、そしてそれを<code class="code-voice">photo</code>定数に割り当てます。ダウンキャストが失敗するならば、それは<code class="code-voice">nil</code>をphotoプロパティに割り当てます。<code class="code-voice">guard</code>文はここでは必要ありません、なぜなら<code class="code-voice">photo</code>プロパティはそれ自身オプショナルであるからです。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Below the previous code, add the following:
<br><span class="jpstr">
以前のコードの下で、以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">rating</span> = <span class="vc">aDecoder</span>.<span class="vc">decodeIntegerForKey</span>(<span class="vc">PropertyKey</span>.<span class="vc">rating</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  The <code class="code-voice">decodeIntegerForKey(_:)</code> method unarchives an integer. Because the return value of <code class="code-voice">decodeIntegerForKey</code> is <code class="code-voice">Int</code>, there’s no need to downcast the decoded value and there is no optional to unwrap.
<br><span class="jpstr">
<code class="code-voice">decodeIntegerForKey(_:)</code>メソッドは、整数をアンアーカイブします。<code class="code-voice">decodeIntegerForKey</code>の戻り値が<code class="code-voice">Int</code>であることから、復号化された値をダウンキャストする必要はありません、そしてオプショナルをアンラップすることはありません。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add the following code at the end of the implementation:
<br><span class="jpstr">
以下のコードをこの実装の終わりに加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Must call designated initializer.</span></code></li>
            <li><code class="code-voice"><span class="kt">self</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>, <span class="vc">photo</span>: <span class="vc">photo</span>, <span class="vc">rating</span>: <span class="vc">rating</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  As a convenience initializer, this initializer is required to call one of its class’s designated initializers before completing. As the initializer’s <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW64" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW64">arguments</a></span>, you pass in the values of the constants you created while archiving the saved data.
<br><span class="jpstr">
便宜イニシャライザであるので、このイニシャライザは、作業を完了する前にそれのクラスの指定イニシャライザの一つを呼ぶ必要があります。このイニシャライザの<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW64" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW64">引数</a></span>として、あなたは、保存された値をアーカイブしている間にあなたが作成した定数の値を渡します。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  The new <code class="code-voice">init?(coder:)</code> initializer should look like this:
<br><span class="jpstr">
新しい<code class="code-voice">init?(coder:)</code>イニシャライザはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">required</span> <span class="kt">convenience</span> <span class="kt">init</span>?(<span class="vc">coder</span> <span class="vc">aDecoder</span>: <span class="n"><!-- a href="" -->NSCoder<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// The name is required. If we cannot decode a name string, the initializer should fail.</span></code></li>
            <li><code class="code-voice">    <span class="kt">guard</span> <span class="kt">let</span> <span class="vc">name</span> = <span class="vc">aDecoder</span>.<span class="vc">decodeObject</span>(<span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">name</span>) <span class="kt">as</span>? <span class="n"><!-- a href="" -->String<!-- /a --></span> <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">os_log</span>(<span class="s">&quot;Unable to decode the name for a Meal object.&quot;</span>, <span class="vc">log</span>: <span class="vc">OSLog</span>.<span class="kt">default</span>, <span class="vc">type</span>: .<span class="vc">debug</span>)</code></li>
            <li><code class="code-voice">        <span class="kt">return</span> <span class="kt">nil</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Because photo is an optional property of Meal, just use conditional cast.&nbsp;<span class="jpstr">（写真はMealのオプショナルプロパティなので、条件キャストを使うだけです。</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">photo</span> = <span class="vc">aDecoder</span>.<span class="vc">decodeObject</span>(<span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">photo</span>) <span class="kt">as</span>? <span class="n"><!-- a href="" -->UIImage<!-- /a --></span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">rating</span> = <span class="vc">aDecoder</span>.<span class="vc">decodeInteger</span>(<span class="vc">forKey</span>: <span class="vc">PropertyKey</span>.<span class="vc">rating</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Must call designated initializer.</span></code></li>
            <li><code class="code-voice">    <span class="kt">self</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>, <span class="vc">photo</span>: <span class="vc">photo</span>, <span class="vc">rating</span>: <span class="vc">rating</span>)</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  Next, you need a persistent path on the file system where data will be saved and loaded, so you know where to look for it.
<br><span class="jpstr">
次に、あなたはファイルシステム上の永続パス、そこにおいてデータ化保存されロードされるところを必要とします、それであなたはどこでそれを捜すかがわかります。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To create a file path to data<br><span class="jpstr">
データへのファイルパスを作成するには
</span><!--end_jpstr-->
</strong>
</p><ul class="list-bullet">
  <li class="item"><p class="para">
  In <code class="code-voice">Meal.swift</code>, below the <code class="code-voice">//MARK: Properties</code> section, add this code:
<br><span class="jpstr">
<code class="code-voice">Meal.swift</code>において、<code class="code-voice">//MARK: Properties</code>節の下で、このコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">//MARK: Archiving Paths</span></code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">static</span> <span class="kt">let</span> <span class="vc">DocumentsDirectory</span> = <span class="vc">FileManager</span>().<span class="vc">urls</span>(<span class="vc">for</span>: .<span class="vc">documentDirectory</span>, <span class="vc">in</span>: .<span class="vc">userDomainMask</span>).<span class="vc">first</span>!</code></li>
            <li><code class="code-voice"><span class="kt">static</span> <span class="kt">let</span> <span class="vc">ArchiveURL</span> = <span class="vc">DocumentsDirectory</span>.<span class="vc">appendingPathComponent</span>(<span class="s">&quot;meals&quot;</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  You mark these constants with the <code class="code-voice">static</code> keyword, which means they belong to the class instead of an instance of the class. Outside of the <code class="code-voice">Meal</code> class, you’ll access the path using the syntax <code class="code-voice">Meal.ArchiveURL.path</code>. There will only ever be one copy of these properties, no matter how many instances of the <code class="code-voice">Meal</code> class you create.
<br><span class="jpstr">
あなたは、これらの定数を<code class="code-voice">static</code>キーワードで印します、それはそれらがクラスに属していることを意味します、クラスのインスタンスにではなくて。<code class="code-voice">Meal</code>クラスの外側で、あなたはパスに構文<code class="code-voice">Meal.ArchiveURL.path</code>を使ってアクセスします。常にこれらプロパティの１つのコピーだけが存在します、あなたが作成する<code class="code-voice">Meal</code>クラスのインスタンスがどれだけあるかは問題ではありません。
</span><!--end_jpstr-->
</p>
<p class="para">
  The <code class="code-voice">DocumentsDirectory</code> constant uses the file manager’s <code class="code-voice">urls(for:in:)</code> method to look up the URL for your app’s documents directory. This is a directory where your app can save data for the user. This method returns an array of URLs, and the first parameter returns an optional containing the first URL in the array. However, as long as the enumerations are correct, the returned array should always contain exactly one match. Therefore, it’s safe to force unwrap the optional.
<br><span class="jpstr">
<code class="code-voice">DocumentsDirectory</code>定数は、ファイルマネージャの持つ<code class="code-voice">urls(for:in:)</code>メソッドを使って、あなたのアプリの書類ディレクトリに対するURLを検索します。これは、あなたのアプリがユーザからのデータを保存できるところのディレクトリです。このメソッドはURLからなる配列を返します、そして最初パラメータは配列中の最初のURLを含んでいるオプショナルを返します。しかしながら、列挙が正しい間は、返される配列は常にきっちりマッチする１つを含むはずです。したがって、それは安全にオプショナルを強制的にアンラップします。
</span><!--end_jpstr-->
</p>
<p class="para">
  After determining the URL for the documents directory, you use this URL to create the URL for your apps data. Here, you create the file URL by appending <code class="code-voice">meals</code> to the end of the documents URL.
<br><span class="jpstr">
書類ディレクトリに対するURLを特定後、あなたはこのURLを使ってあなたのアプリのデータに対するURLを作成します。ここで、あなたはファイルURLを<code class="code-voice">meals</code>を書類URLの終わりに加えることによって作成します。
</span><!--end_jpstr-->
</p>
<div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH14-DontLinkElementID_39"></a>
  <aside class="aside">
    <p class="aside-title">Explore Further
    <br><span class="jpstr">
さらに先を探索
</span><!--end_jpstr-->
</p>
    	<p class="para">For more information on interacting with the file system in iOS, see <em class="u-book"><a href="../../../documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010672" data-renderer-version="1" target="_self">File System Programming Guide</a></em>.
    	<br><span class="jpstr">
iOSにおいてファイルシステムと相互作用することに関する詳細として、<em class="u-book"><a href="../../../documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010672" data-renderer-version="1" target="_self">File System Programming Guide</a></em>を見てください。
</span><!--end_jpstr-->
</p>
    
  </aside>
</div>
</li>
</ul><p class="para">
  <em>Checkpoint:</em> Build your app using Command-B. It should build without issues.
<br><span class="jpstr">
<em>確認点：</em>あなたのアプリをコマンド-Bを使ってビルドしてください。それは問題なくビルドするはずです。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH14-SW6"></a>
  <h3 class="section-name" tabindex="0">Save and Load the Meal List<br><span class="jpstr">
食事リストの保存とロード
</span><!--end_jpstr-->
</h3>
  <p class="para">
  Now that you can save and load an individual meal, you need to save and load the meal list whenever a user adds, edits, or removes a meal.
<br><span class="jpstr">
あなたがここの食事を保存してロード（読み込み）できる今、あなたは、ユーザが食事を追加、編集、削除するたびに、食事リストを保存したりロードする必要があります。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To implement the method to save the meal list<br><span class="jpstr">
食事リストを保存するメソッドを実装するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  Open <code class="code-voice">MealTableViewController.swift</code>.
<br><span class="jpstr">
<code class="code-voice">MealTableViewController.swift</code>を開いてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the  <code class="code-voice">//MARK: Private Methods</code> section, just before the last curly brace (<code class="code-voice">}</code>), add the following method:
<br><span class="jpstr">
<code class="code-voice">//MARK: Private Methods</code>節において、最後の波括弧（<code class="code-voice">}</code>）の直前に、以下のメソッドを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">saveMeals</span>() {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  In the <code class="code-voice">saveMeals()</code> method, add the following line of code:
<br><span class="jpstr">
この<code class="code-voice">saveMeals()</code>メソッドにおいて、以下のコード行を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">isSuccessfulSave</span> = <span class="vc">NSKeyedArchiver</span>.<span class="vc">archiveRootObject</span>(<span class="vc">meals</span>, <span class="vc">toFile</span>: <span class="vc">Meal</span>.<span class="vc">ArchiveURL</span>.<span class="vc">path</span>)</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This method attempts to archive the <code class="code-voice">meals</code> array to a specific location, and returns <code class="code-voice">true</code> if it’s successful. It uses the constant <code class="code-voice">Meal.ArchiveURL</code> that you defined in the <code class="code-voice">Meal</code> class to identify where to save the information.
<br><span class="jpstr">
このメソッドは、<code class="code-voice">meals</code>配列を特定の場所にアーカイブして、それがうまくいくならば<code class="code-voice">true</code>を返します。それは、定数<code class="code-voice">Meal.ArchiveURL</code>を使います、それはあなたが<code class="code-voice">Meal</code>クラスにおいて定義した情報を保存するところを識別するためのものです。
</span><!--end_jpstr-->
</p>
<p class="para">
  But how do you quickly test whether the data saved successfully? Log messages to the <span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW86" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW86">console</a></span> to indicate the result.
<br><span class="jpstr">
しかしどうやってあなたは、データがうまく保存されたか素早くテストするのでしょうか？メッセージを<span class="x-name"><a href="GlossaryDefinitions.html#//apple_ref/doc/uid/TP40015214-CH12-SW86" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH12-SW86">コンソール</a></span>に記録して結果を示してください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  Add the following <code class="code-voice">if</code> statement:
<br><span class="jpstr">
<code class="code-voice">if</code>文に続けて以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">if</span> <span class="vc">isSuccessfulSave</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">os_log</span>(<span class="s">&quot;Meals successfully saved.&quot;</span>, <span class="vc">log</span>: <span class="vc">OSLog</span>.<span class="kt">default</span>, <span class="vc">type</span>: .<span class="vc">debug</span>)</code></li>
            <li><code class="code-voice">} <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">os_log</span>(<span class="s">&quot;Failed to save meals...&quot;</span>, <span class="vc">log</span>: <span class="vc">OSLog</span>.<span class="kt">default</span>, <span class="vc">type</span>: .<span class="vc">error</span>)</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This logs a debug message to the console if the save succeeds, and an error message to the console if the save fails.
<br><span class="jpstr">
これは、保存が成功するならばデバッグメッセージをコンソールに、そして保存が失敗するならばエラーメッセージをコンソールに記録します
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">saveMeals()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">saveMeals()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">saveMeals</span>() {</code></li>
            <li><code class="code-voice">    <span class="kt">let</span> <span class="vc">isSuccessfulSave</span> = <span class="vc">NSKeyedArchiver</span>.<span class="vc">archiveRootObject</span>(<span class="vc">meals</span>, <span class="vc">toFile</span>: <span class="vc">Meal</span>.<span class="vc">ArchiveURL</span>.<span class="vc">path</span>)</code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="vc">isSuccessfulSave</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">os_log</span>(<span class="s">&quot;Meals successfully saved.&quot;</span>, <span class="vc">log</span>: <span class="vc">OSLog</span>.<span class="kt">default</span>, <span class="vc">type</span>: .<span class="vc">debug</span>)</code></li>
            <li><code class="code-voice">    } <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">        <span class="vc">os_log</span>(<span class="s">&quot;Failed to save meals...&quot;</span>, <span class="vc">log</span>: <span class="vc">OSLog</span>.<span class="kt">default</span>, <span class="vc">type</span>: .<span class="vc">error</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  Now, implement a method to load meals.
<br><span class="jpstr">
次に、食事をロードするメソッドを実装してください。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To implement the method to load the meal list<br><span class="jpstr">
食事リストをロードするメソッドを実装するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">MealTableViewController.swift</code>, before the last curly brace (<code class="code-voice">}</code>), add the following method:
<br><span class="jpstr">
<code class="code-voice">MealTableViewController.swift</code>において、最後の波括弧（<code class="code-voice">}</code>）の前で、以下のメソッドを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">loadMeals</span>() -&gt; [<span class="n"><!-- a href="" -->Meal<!-- /a --></span>]? {</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This method has a return type of an optional array of Meal objects, meaning that it might return an array of Meal objects or might return nothing (<code class="code-voice">nil</code>).
<br><span class="jpstr">
このメソッドは、Mealオブジェクトのオプショナル配列の型を返します、これは、それがMealオブジェクトの配列を返すか、または無（<code class="code-voice">nil</code>）を返すかもしれないのを意味しています。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In the <code class="code-voice">loadMeals()</code> method, add the following line of code:
<br><span class="jpstr">
<code class="code-voice">loadMeals()</code>メソッドにおいて、以下のコード行を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">return</span> <span class="vc">NSKeyedUnarchiver</span>.<span class="vc">unarchiveObject</span>(<span class="vc">withFile</span>: <span class="vc">Meal</span>.<span class="vc">ArchiveURL</span>.<span class="vc">path</span>) <span class="kt">as</span>? [<span class="n"><!-- a href="" -->Meal<!-- /a --></span>]</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This method attempts to unarchive the object stored at the path <code class="code-voice">Meal.ArchiveURL.path</code> and downcast that object to an array of <code class="code-voice">Meal</code> objects. This code uses the <code class="code-voice">as?</code> operator so that it can return <code class="code-voice">nil</code> if the downcast fails. This failure typically happens because an array has not yet been saved. In this case, the <code class="code-voice">unarchiveObject(withFile:)</code> method returns <code class="code-voice">nil</code>. The attempt to downcast <code class="code-voice">nil</code> to [Meal] also fails, itself returning <code class="code-voice">nil</code>.
<br><span class="jpstr">
このメソッドは、パス<code class="code-voice">Meal.ArchiveURL.path</code>に格納されるオブジェクトをアンアーカイブして、そしてそのオブジェクトを<code class="code-voice">Meal</code>オブジェクトからなる配列へとダウンキャストすることを試みます。このコードは、<code class="code-voice">as?</code>演算子を使います、そのためそれはダウンキャストが失敗するならば<code class="code-voice">nil</code>を返すことができます。この失敗は、たいてい配列がまだ保存され終わっていないために起こります。この場合には、<code class="code-voice">unarchiveObject(withFile:)</code>メソッドは<code class="code-voice">nil</code>を返します。<code class="code-voice">nil</code>を[Meal]へダウンキャストする試みもまた、それ自身<code class="code-voice">nil</code>を返して失敗します。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">loadMeals()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">loadMeals()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">loadMeals</span>() -&gt; [<span class="n"><!-- a href="" -->Meal<!-- /a --></span>]?  {</code></li>
            <li><code class="code-voice">    <span class="kt">return</span> <span class="vc">NSKeyedUnarchiver</span>.<span class="vc">unarchiveObject</span>(<span class="vc">withFile</span>: <span class="vc">Meal</span>.<span class="vc">ArchiveURL</span>.<span class="vc">path</span>) <span class="kt">as</span>? [<span class="n"><!-- a href="" -->Meal<!-- /a --></span>]</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  With these methods implemented, you need to add code to save and load the list of meals whenever a user adds, removes, or edits a meal.
<br><span class="jpstr">
これらのメソッドが実装されたので、あなたは、ユーザが食事を追加、編集、削除するたびに、食事のリストを保存およびロードするコードを加える必要があります。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To save the meal list when a user adds, removes, or edits a meal<br><span class="jpstr">
ユーザが食事を追加、削除、または編集したとき食事リストを保存するには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">MealTableViewController.swift</code>, find the <code class="code-voice">unwindToMealList(sender:)</code> action method:
<br><span class="jpstr">
<code class="code-voice">MealTableViewController.swift</code>において、<code class="code-voice">unwindToMealList(sender:)</code>アクションメソッドを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">@IBAction</span> <span class="kt">func</span> <span class="vc">unwindToMealList</span>(<span class="vc">sender</span>: <span class="n"><!-- a href="" -->UIStoryboardSegue<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="kt">let</span> <span class="vc">sourceViewController</span> = <span class="vc">sender</span>.<span class="vc">source</span> <span class="kt">as</span>? <span class="n"><!-- a href="" -->MealViewController<!-- /a --></span>, <span class="vc">let</span> <span class="vc">meal</span> = <span class="vc">sourceViewController</span>.<span class="vc">meal</span> {</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="kt">if</span> <span class="kt">let</span> <span class="vc">selectedIndexPath</span> = <span class="vc">tableView</span>.<span class="vc">indexPathForSelectedRow</span> {</code></li>
            <li><code class="code-voice">            <span class="c">// Update an existing meal.&nbsp;<span class="jpstr">// （既存の食事を更新する。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">            <span class="vc">meals</span>[<span class="vc">selectedIndexPath</span>.<span class="vc">row</span>] = <span class="vc">meal</span></code></li>
            <li><code class="code-voice">            <span class="vc">tableView</span>.<span class="vc">reloadRows</span>(<span class="vc">at</span>: [<span class="vc">selectedIndexPath</span>], <span class="vc">with</span>: .<span class="vc">none</span>)</code></li>
            <li><code class="code-voice">        }</code></li>
            <li><code class="code-voice">        <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">            <span class="c">// Add a new meal.&nbsp;<span class="jpstr">// （新しい食事を加える。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">            <span class="kt">let</span> <span class="vc">newIndexPath</span> = <span class="vc">IndexPath</span>(<span class="vc">row</span>: <span class="vc">meals</span>.<span class="vc">count</span>, <span class="vc">section</span>: <span class="m">0</span>)</code></li>
            <li><code class="code-voice">            </code></li>
            <li><code class="code-voice">            <span class="vc">meals</span>.<span class="vc">append</span>(<span class="vc">meal</span>)</code></li>
            <li><code class="code-voice">            <span class="vc">tableView</span>.<span class="vc">insertRows</span>(<span class="vc">at</span>: [<span class="vc">newIndexPath</span>], <span class="vc">with</span>: .<span class="vc">automatic</span>)</code></li>
            <li><code class="code-voice">        }</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  Right after the <code class="code-voice">else</code> clause, add the following code:
<br><span class="jpstr">
<code class="code-voice">else</code>節のすぐ後で、以下のコードを加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Save the meals.&nbsp;<span class="jpstr">// （食事を保存する。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="vc">saveMeals</span>()</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code saves the <code class="code-voice">meals</code> array whenever a new one is added or an existing one is updated. Make sure this line of code is inside of the outer <code class="code-voice">if</code> statement.
<br><span class="jpstr">
このコードは、<code class="code-voice">meals</code>配列を、新しいものが加えられるか既存のものが更新される時はいつでも保存します。このコード行がその外側の<code class="code-voice">if</code>文の内側にあるようにしてください。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  In <code class="code-voice">MealTableViewController.swift</code>, find the <code class="code-voice">tableView(_:commit:forRowAt:)</code> method:
<br><span class="jpstr">
<code class="code-voice">MealTableViewController.swift</code>において、<code class="code-voice">tableView(_:commit:forRowAt:)</code>メソッドを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Override to support editing the table view.&nbsp;<span class="jpstr">（テーブルビューの編集をサポートするためにオーバーライドする。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">tableView</span>(<span class="kt">_</span> <span class="vc">tableView</span>: <span class="n"><!-- a href="" -->UITableView<!-- /a --></span>, <span class="vc">commit</span> <span class="vc">editingStyle</span>: <span class="n"><!-- a href="" -->UITableViewCellEditingStyle<!-- /a --></span>, <span class="vc">forRowAt</span> <span class="vc">indexPath</span>: <span class="n"><!-- a href="" -->IndexPath<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="vc">editingStyle</span> == .<span class="vc">delete</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Delete the row from the data source&nbsp;<span class="jpstr">// （行をデータソースから削除する）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">        <span class="vc">meals</span>.<span class="vc">remove</span>(<span class="vc">at</span>: <span class="vc">indexPath</span>.<span class="vc">row</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">tableView</span>.<span class="vc">deleteRows</span>(<span class="vc">at</span>: [<span class="vc">indexPath</span>], <span class="vc">with</span>: .<span class="vc">fade</span>)</code></li>
            <li><code class="code-voice">    } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">editingStyle</span> == .<span class="vc">insert</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create a new instance of the appropriate class, insert it into the array, and add a new row to the table view&nbsp;<span class="jpstr">// （適切なクラスの新規インスタンスを作成して、それを配列に挿入し、そして新しい行をテーブルビューに加える）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  After the <code class="code-voice">meals.removeAtIndex(indexPath.row)</code> line, add the following line of code:
<br><span class="jpstr">
<code class="code-voice">meals.removeAtIndex(indexPath.row)</code>行の後で、以下のコードを加える：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="vc">saveMeals</span>()</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code saves the <code class="code-voice">meals</code> array whenever a meal is deleted.
<br><span class="jpstr">
このコードは、食事が削除される時はいつでも、<code class="code-voice">meals</code>配列を保存します。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">unwindToMealList(_:)</code> action method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">unwindToMealList(_:)</code>アクションメソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">@IBAction</span> <span class="kt">func</span> <span class="vc">unwindToMealList</span>(<span class="vc">sender</span>: <span class="n"><!-- a href="" -->UIStoryboardSegue<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="kt">let</span> <span class="vc">sourceViewController</span> = <span class="vc">sender</span>.<span class="vc">source</span> <span class="kt">as</span>? <span class="n"><!-- a href="" -->MealViewController<!-- /a --></span>, <span class="vc">let</span> <span class="vc">meal</span> = <span class="vc">sourceViewController</span>.<span class="vc">meal</span> {</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="kt">if</span> <span class="kt">let</span> <span class="vc">selectedIndexPath</span> = <span class="vc">tableView</span>.<span class="vc">indexPathForSelectedRow</span> {</code></li>
            <li><code class="code-voice">            <span class="c">// Update an existing meal.&nbsp;<span class="jpstr">// （既存の食事を更新する。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">            <span class="vc">meals</span>[<span class="vc">selectedIndexPath</span>.<span class="vc">row</span>] = <span class="vc">meal</span></code></li>
            <li><code class="code-voice">            <span class="vc">tableView</span>.<span class="vc">reloadRows</span>(<span class="vc">at</span>: [<span class="vc">selectedIndexPath</span>], <span class="vc">with</span>: .<span class="vc">none</span>)</code></li>
            <li><code class="code-voice">        }</code></li>
            <li><code class="code-voice">        <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">            <span class="c">// Add a new meal.&nbsp;<span class="jpstr">// （新しい食事を加える。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">            <span class="kt">let</span> <span class="vc">newIndexPath</span> = <span class="vc">IndexPath</span>(<span class="vc">row</span>: <span class="vc">meals</span>.<span class="vc">count</span>, <span class="vc">section</span>: <span class="m">0</span>)</code></li>
            <li><code class="code-voice">            </code></li>
            <li><code class="code-voice">            <span class="vc">meals</span>.<span class="vc">append</span>(<span class="vc">meal</span>)</code></li>
            <li><code class="code-voice">            <span class="vc">tableView</span>.<span class="vc">insertRows</span>(<span class="vc">at</span>: [<span class="vc">newIndexPath</span>], <span class="vc">with</span>: .<span class="vc">automatic</span>)</code></li>
            <li><code class="code-voice">        }</code></li>
            <li><code class="code-voice">        </code></li>
            <li><code class="code-voice">        <span class="c">// Save the meals.&nbsp;<span class="jpstr">// （食事を保存する。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">        <span class="vc">saveMeals</span>()</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  And your <code class="code-voice">tableView(_:commit:forRowAt:)</code> method should look like this:
<br><span class="jpstr">
そしてあなたの<code class="code-voice">tableView(_:commit:forRowAt:)</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Override to support editing the table view.&nbsp;<span class="jpstr">（テーブルビューの編集をサポートするためにオーバーライドする。）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">tableView</span>(<span class="kt">_</span> <span class="vc">tableView</span>: <span class="n"><!-- a href="" -->UITableView<!-- /a --></span>, <span class="vc">commit</span> <span class="vc">editingStyle</span>: <span class="n"><!-- a href="" -->UITableViewCellEditingStyle<!-- /a --></span>, <span class="vc">forRowAt</span> <span class="vc">indexPath</span>: <span class="n"><!-- a href="" -->IndexPath<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="vc">editingStyle</span> == .<span class="vc">delete</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Delete the row from the data source&nbsp;<span class="jpstr">// （行をデータソースから削除する）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">        <span class="vc">meals</span>.<span class="vc">remove</span>(<span class="vc">at</span>: <span class="vc">indexPath</span>.<span class="vc">row</span>)</code></li>
            <li><code class="code-voice">        <span class="vc">saveMeals</span>()</code></li>
            <li><code class="code-voice">        <span class="vc">tableView</span>.<span class="vc">deleteRows</span>(<span class="vc">at</span>: [<span class="vc">indexPath</span>], <span class="vc">with</span>: .<span class="vc">fade</span>)</code></li>
            <li><code class="code-voice">    } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">editingStyle</span> == .<span class="vc">insert</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Create a new instance of the appropriate class, insert it into the array, and add a new row to the table view&nbsp;<span class="jpstr">// （適切なクラスの新規インスタンスを作成して、それを配列に挿入し、そして新しい行をテーブルビューに加える）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  Now that meals are saved at the appropriate times, make sure that meals get loaded at the appropriate time. The appropriate place to load the stored data is in the table view’s <code class="code-voice">viewDidLoad</code> method.
<br><span class="jpstr">
今や食事は適切な時に保存されるので、食事が適切な時にロードされるのを確実なものにしてください。格納されたデータをロードするのに適切な場所は、テーブルビューの持つ<code class="code-voice">viewDidLoad</code>メソッドの中になります。
</span><!--end_jpstr-->
</p><p class="para">
  <strong class="inline-head">To load the meal list at the appropriate time<br><span class="jpstr">
食事リストを適切な時にロードするには
</span><!--end_jpstr-->
</strong>
</p><ol class="list-number">
  <li class="item"><p class="para">
  In <code class="code-voice">MealTableViewController.swift</code>, find the <code class="code-voice">viewDidLoad()</code> method:
<br><span class="jpstr">
<code class="code-voice">MealTableViewController.swift</code>において、<code class="code-voice">viewDidLoad()</code>メソッドを見つけてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">viewDidLoad</span>() {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="vc">viewDidLoad</span>()</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Use the edit button item provided by the table view controller.&nbsp;<span class="jpstr">// （テーブルビューコントローラによって提供される編集ボタン項目を使う）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="vc">navigationItem</span>.<span class="vc">leftBarButtonItem</span> = <span class="vc">editButtonItem</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Load the sample data.&nbsp;<span class="jpstr">// （見本データをロードする）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="vc">loadSampleMeals</span>()</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
</li><li class="item"><p class="para">
  After setting up the edit button (<code class="code-voice">navigationItem.leftBarButtonItem = editButtonItem</code>), add the following <code class="code-voice">if</code> statement:
<br><span class="jpstr">
編集ボタンを準備した後（<code class="code-voice">navigationItem.leftBarButtonItem = editButtonItem</code>）、<code class="code-voice">if</code>文の下に以下を加えてください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="c">// Load any saved meals, otherwise load sample data.&nbsp;<span class="jpstr">// （食事があればロードする、そうでなければ見本データをロードする）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">savedMeals</span> = <span class="vc">loadMeals</span>() {</code></li>
            <li><code class="code-voice">    <span class="vc">meals</span> += <span class="vc">savedMeals</span></code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  If <code class="code-voice">loadMeals()</code> successfully returns an array of <code class="code-voice">Meal</code> objects, this condition is <code class="code-voice">true</code> and the <code class="code-voice">if</code> statement gets executed. If <code class="code-voice">loadMeals()</code> returns <code class="code-voice">nil</code>, there were no meals to load and the <code class="code-voice">if</code> statement doesn’t get executed. This code adds any meals that were successfully loaded to the <code class="code-voice">meals</code> array.
<br><span class="jpstr">
<code class="code-voice">loadMeals()</code>が成功裏に<code class="code-voice">Meal</code>オブジェクトの配列を返したならば、この条件は<code class="code-voice">true</code>になり、<code class="code-voice">if</code>文が実行されます。<code class="code-voice">loadMeals()</code>が<code class="code-voice">nil</code>を返すならば、ロードする食事はなかったので、<code class="code-voice">if</code>文は実行されません。このコードは、うまくロードされた食事があれば<code class="code-voice">meals</code>配列に加えます。
</span><!--end_jpstr-->
</p>
</li><li class="item"><p class="para">
  After the if statement, add an <code class="code-voice">else</code> clause and move the call to <code class="code-voice">loadSampleMeals()</code> inside of it:
<br><span class="jpstr">
if文の後で、<code class="code-voice">else</code>節を加えて<code class="code-voice">loadSampleMeals()</code>への呼び出しをそれの内側に移動してください：
</span><!--end_jpstr-->
</p>
<section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">else</span> {</code></li>
            <li><code class="code-voice">    <span class="c">// Load the sample data.&nbsp;<span class="jpstr">// （見本データをロードする）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="vc">loadSampleMeals</span>()</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section>
<p class="para">
  This code adds any meals that were loaded to the <code class="code-voice">meals</code> array.
<br><span class="jpstr">
このコードは何らかの食事を加えます、それは<code class="code-voice">meals</code>配列にロードされたものです。
</span><!--end_jpstr-->
</p>
</li>
</ol><p class="para">
  Your <code class="code-voice">viewDidLoad()</code> method should look like this:
<br><span class="jpstr">
あなたの<code class="code-voice">viewDidLoad()</code>メソッドはこのように見えるはずです：
</span><!--end_jpstr-->
</p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">override</span> <span class="kt">func</span> <span class="vc">viewDidLoad</span>() {</code></li>
            <li><code class="code-voice">    <span class="kt">super</span>.<span class="vc">viewDidLoad</span>()</code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Use the edit button item provided by the table view controller.&nbsp;<span class="jpstr">// （テーブルビューコントローラによって提供される編集ボタン項目を使う）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="vc">navigationItem</span>.<span class="vc">leftBarButtonItem</span> = <span class="vc">editButtonItem</span></code></li>
            <li><code class="code-voice">    </code></li>
            <li><code class="code-voice">    <span class="c">// Load any saved meals, otherwise load sample data.&nbsp;<span class="jpstr">// （食事があればロードする、そうでなければ見本データをロードする）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">    <span class="kt">if</span> <span class="kt">let</span> <span class="vc">savedMeals</span> = <span class="vc">loadMeals</span>() {</code></li>
            <li><code class="code-voice">        <span class="vc">meals</span> += <span class="vc">savedMeals</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    <span class="kt">else</span> {</code></li>
            <li><code class="code-voice">        <span class="c">// Load the sample data.&nbsp;<span class="jpstr">// （見本データをロードする）</span><!--end_jpstr-->
</span></code></li>
            <li><code class="code-voice">        <span class="vc">loadSampleMeals</span>()</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <em>Checkpoint</em>: Run your app. If you add a few new meals and quit the app, the meals you added will be there next time you open the app.
<br><span class="jpstr">
<em>確認点</em>：あなたのアプリを実行します。あなたがいくつかの新しい食事を加えてアプリを終了したならば、あなたが加えた食事は次回あなたがアプリを開いた時にそこにあるでしょう。
</span><!--end_jpstr-->
</p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40015214-CH14-DontLinkElementID_12"></a>
  <h3 class="section-name" tabindex="0">Wrapping Up<br><span class="jpstr">
まとめ
</span><!--end_jpstr-->
</h3>
  <p class="para">
  In this lesson, you added the ability to save and load the app’s data. This lets the data persist across multiple runs. Whenever the app launches, it loads the existing data. When the data is modified, the app saves it. The app can terminate safely without losing any data.
<br><span class="jpstr">
このレッスンでは、あなたはアプリのデータを保存してロードする能力を加えました。これは、そのデータを複数の実行をまたいで永続させます。アプリが起動するたびごとに、それは既存のデータをロードします。データが修正される時は、アプリはそれを保存します。アプリは、何らデータを消失することなく安全に終了できます。
</span><!--end_jpstr-->
</p><p class="para">
  This also completes the app. Congratulations! You now have a fully functional app.
<br><span class="jpstr">
これはまたアプリの完成でもあります。おめでとう！あなたは今完全に機能するアプリを持ちます。
</span><!--end_jpstr-->
</p><div class="note">
  <a name="//apple_ref/doc/uid/TP40015214-CH14-DontLinkElementID_40"></a>
  <aside class="aside">
    <p class="aside-title">Note
    <br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
    	<p class="para">To see the completed sample project for this lesson, download the file and view it in Xcode.
    	<br><span class="jpstr">
このレッスンの完成見本プロジェクトを見るには、このファイルをダウンロードしてXcodeでそれを見てください。
</span><!--end_jpstr-->
</p>
    <p class="para">
  <img class="inline-graphic" src="Art/WWDR_download_icon_withPadding_2x.png" alt="image: ../Art/WWDR_download_icon_withPadding_2x.png" width="15" height="17" /><a href="https://developer.apple.com/sample-code/swift/downloads/09_PersistData.zip">Download File</a>
</p>

  </aside>
</div>
  
</section>


 	<section id="next_previous" class="">
    		<p class="previous-link"><a href="ImplementEditAndDeleteBehavior.html#//apple_ref/doc/uid/TP40015214-CH9-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH9-SW1">Implement Edit and Delete Behavior<br><span class="jpstr">
編集および削除挙動の実装
</span><!--end_jpstr-->
</a></p>
  			<p class="next-link"><a href="Resources.html#//apple_ref/doc/uid/TP40015214-CH15-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH15-SW1">Where to Go from Here<br><span class="jpstr">
これからどうする
</span><!--end_jpstr-->
</a></p>

    <p class="copyright">Copyright &#x00a9; 2016 Apple Inc. All rights reserved. 
  <a class="link" href="http://www.apple.com/legal/terms/site.html" target="_blank" rel="external">Terms of Use</a> | 
  <a class="link" href="http://www.apple.com/privacy/" target="_blank" rel="external">Privacy Policy</a> | 
  <a href="RevisionHistory.html#//apple_ref/doc/uid/TP40015214-CH99-SW1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40015214-CH99-SW1">Updated: 2016-12-08</a>
</p>
  </section>
</article>

    </div>
    <div id='big_button'></div>
    <footer id="footer">
  <div class="content-wrapper">
  	<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
  </div>
  <script src="../../../Resources/1257/JavaScript/devpubs-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../Resources/1257/JavaScript/feedback-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <div id="_omniture_top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
</script>

<!-- <script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script> -->
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>

</footer>

    
  </body>
    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="https://developer.apple.com/bugreporter/" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

</div>
</html>
