<!DOCTYPE html><html lang="en" data-reactroot=""><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Adopting Common Protocols | Apple Developer Documentation</title><!-- link href="https://www.apple.com/wss/fonts?families=SF+Pro,v1|SF+Mono,v1|SF+Pro+Icons,v1" media="all" rel="stylesheet" type="text/css"/ --><meta content="width=device-width, initial-scale=1 viewport-fit=cover" name="viewport"/><meta data-pid="424974"/><link href="../../documentation/assets/application-e5bb1544.css" media="all" rel="stylesheet" type="text/css"/><noscript><link href="../../documentation/assets/nojs-c6be9131.css" media="all" rel="stylesheet" type="text/css"/></noscript><link rel="mask-icon" href="../../documentation/assets/apple-logo.svg" color="#000"/><link rel="shortcut icon" href="../../documentation/assets/favicon.ico"/><script src="../../documentation/assets/shared-b7676010.js"></script></head><body><div id="_omniture_top">
      <script>
        var s_account="awdappledeveloper"
      </script><!-- script src="https://developer.apple.com/assets/metrics/scripts/analytics.js" -->
      </script>
      <script>
        s.pageName= AC && AC.Tracking && AC.Tracking.pageName();
        s.channel="www.documentation.developer"

        var s_code=s.t();if(s_code)document.write(s_code)
      </script>
    </div><div id="app"><div><a href="#main" id="skip-localnav" class="showonfocus hidden">Skip Navigation</a><aside id="ac-gn-segmentbar" class="ac-gn-segmentbar" lang="en-US" dir="ltr"></aside><input type="checkbox" id="ac-gn-menustate" class="ac-gn-menustate"/><nav id="ac-globalnav" class="no-js" role="navigation" aria-label="Global" data-hires="false" data-analytics-region="global nav" lang="en-US" dir="ltr" data-store-locale="us" data-store-api="/[storefront]/shop/bag/status" data-search-locale="en_US" data-search-api="/search-services/suggestions/">
      <div class="ac-gn-content">
        <ul class="ac-gn-header">
          <li class="ac-gn-item ac-gn-menuicon">
            <label class="ac-gn-menuicon-label" for="ac-gn-menustate" aria-hidden="true">
              <span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-top">
                <span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-top"></span>
              </span>
              <span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-bottom">
                <span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-bottom"></span>
              </span>
            </label>
            <a href="#ac-gn-menustate" role="button" class="ac-gn-menuanchor ac-gn-menuanchor-open" id="ac-gn-menuanchor-open">
              <span class="ac-gn-menuanchor-label">Global Nav Open Menu</span>
            </a>
            <a href="#" role="button" class="ac-gn-menuanchor ac-gn-menuanchor-close" id="ac-gn-menuanchor-close">
              <span class="ac-gn-menuanchor-label">Global Nav Close Menu</span>
            </a>
          </li>
          <li class="ac-gn-item ac-gn-apple">
            <a class="ac-gn-link ac-gn-link-apple-developer" href="/" data-analytics-title="appledeveloper home" id="ac-gn-firstfocus-small">
              <span class="ac-gn-link-text">Apple Developer</span>
            </a>
          </li>
        </ul>
        <div class="ac-gn-search-placeholder-container" role="search">
          <div class="ac-gn-search ac-gn-search-small">
            <a id="ac-gn-link-search-small" class="ac-gn-link" href="/search/" data-analytics-title="search" data-analytics-click="search" data-analytics-intrapage-link aria-label="Search Developer">
              </a><div class="ac-gn-search-placeholder-bar">
                <div class="ac-gn-search-placeholder-input">
                  <div class="ac-gn-search-placeholder-input-text" aria-hidden="true">
                    <div class="ac-gn-link-search ac-gn-search-placeholder-input-icon"></div>
                    <span class="ac-gn-search-placeholder">Search Developer</span>
                  </div>
                </div>
                <div class="ac-gn-searchview-close ac-gn-searchview-close-small ac-gn-search-placeholder-searchview-close">
                  <span class="ac-gn-searchview-close-cancel" aria-hidden="true">Cancel</span>
                </div>
              </div>
            </a>
          </div>
        </div>
        <ul class="ac-gn-list">
          <li class="ac-gn-item ac-gn-apple">
            <a class="ac-gn-link ac-gn-link-apple-developer" href="/" data-analytics-title="appledeveloper home" id="ac-gn-firstfocus">
              <span class="ac-gn-link-text">Apple Developer</span>
              </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-discover">
            <a class="ac-gn-link ac-gn-link-discover" href="/discover/" data-analytics-title="discover">
              <span class="ac-gn-link-text">Discover</span>
              </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-design">
            <a class="ac-gn-link ac-gn-link-design" href="/design/" data-analytics-title="design">
              <span class="ac-gn-link-text">Design</span>
              </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-develop">
            <a class="ac-gn-link ac-gn-link-develop" href="/develop/" data-analytics-title="develop">
              <span class="ac-gn-link-text">Develop</span>
              </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-distribute">
            <a class="ac-gn-link ac-gn-link-distribute" href="/distribute/" data-analytics-title="distribute">
              <span class="ac-gn-link-text">Distribute</span>
              </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-dsupport">
            <a class="ac-gn-link ac-gn-link-dsupport" href="/support/" data-analytics-title="dsupport">
              <span class="ac-gn-link-text">Support</span>
              </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-account">
            <a class="ac-gn-link ac-gn-link-account" href="/account/" data-analytics-title="account">
              <span class="ac-gn-link-text">Account</span>
              </a>
          </li>
          <li class="ac-gn-item ac-gn-item-menu ac-gn-search" role="search">
            <a id="ac-gn-link-search" class="ac-gn-link ac-gn-link-search" href="/search/" data-analytics-title="search" data-analytics-click="search" data-analytics-intrapage-link aria-label="Search Developer"></a>
          </li>
        </ul>
        <aside id="ac-gn-searchview" class="ac-gn-searchview" role="search" data-analytics-region="search">
          <div class="ac-gn-searchview-content">
            <div class="ac-gn-searchview-bar">
              <div class="ac-gn-searchview-bar-wrapper">
                <form id="ac-gn-searchform" class="ac-gn-searchform" action="/search/" method="get">
                  <div class="ac-gn-searchform-wrapper">
                    <input id="ac-gn-searchform-input" class="ac-gn-searchform-input" type="text" name="q" aria-label="Search Developer" placeholder="Search Developer" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="true" aria-owns="quicklinks suggestions" />
                    <button id="ac-gn-searchform-submit" class="ac-gn-searchform-submit" type="submit" disabled aria-label="Submit Search"></button>
                    <button id="ac-gn-searchform-reset" class="ac-gn-searchform-reset" type="reset" disabled aria-label="Clear Search">
                        <span class="ac-gn-searchform-reset-background"></span>
                      </button>
                  </div>
                </form>
                <button id="ac-gn-searchview-close-small" class="ac-gn-searchview-close ac-gn-searchview-close-small" aria-label="Cancel Search">
                    <span class="ac-gn-searchview-close-cancel" aria-hidden="true">
                      Cancel
                    </span>
                  </button>
              </div>
            </div>
            <aside id="ac-gn-searchresults" class="ac-gn-searchresults" data-string-quicklinks="Quick Links" data-string-suggestions="Suggested Searches" data-string-noresults=""></aside>
          </div>
          <button id="ac-gn-searchview-close" class="ac-gn-searchview-close" aria-label="Cancel Search">
              <span class="ac-gn-searchview-close-wrapper">
                <span class="ac-gn-searchview-close-left"></span>
                <span class="ac-gn-searchview-close-right"></span>
              </span>
            </button>
        </aside>
          </div>
    </nav><div class="ac-gn-blur"></div><div id="ac-gn-curtain" class="ac-gn-curtain"></div><div id="ac-gn-placeholder" class="ac-nav-placeholder"></div><input type="checkbox" id="localnav-menustate" class="localnav-menustate" aria-hidden="true"/><nav id="localnav" class="localnav localnav-dark theme-dark localnav-scrim localnav-noborder" role="navigation" aria-label="API Reference" data-sticky="true"><div class="localnav-wrapper"><div class="referencenav"><div class="localnav-background"></div><div class="localnav-content"><a href="../../index.html" class="localnav-title">Documentation</a><div class="localnav-menu"><a href="#localnav-menustate" id="localnav-menustate-open" class="localnav-menucta-anchor localnav-menucta-anchor-open"><span class="localnav-menucta-anchor-label" aria-hidden="true">Open Menu</span></a><a href="#" id="localnav-menustate-close" class="localnav-menucta-anchor localnav-menucta-anchor-close"><span class="localnav-menucta-anchor-label" aria-hidden="true">Close Menu</span></a><div class="localnav-menu-tray"><ul aria-label="Breadcrumbs" class="localnav-menu-items localnav-menu-breadcrumbs"><li class="localnav-menu-item localnav-menu-breadcrumb-item"><a class="localnav-menu-link" href="../../documentation/swift.html">Swift</a></li><li class="localnav-menu-item localnav-menu-breadcrumb-item"><div class="localnav-menu-breadcrumb-current-container localnav-menu-link current"><span aria-current="page" class="localnav-menu-breadcrumb-current"><span class="enstr">Adopting Common Protocols</span><!--end_enstr-->
<span class="jpstr">
一般的なプロトコルを採用する
</span><!--end_jpstr-->
</span></div></li></ul><ul class="localnav-menu-items localnav-menu-settings" data-breadcrumbs-count="2"><li class="localnav-menu-setting language-container"><span class="localnav-menu-setting-label">Language:</span><span class="localnav-menu-toggle-none current-language" aria-current="page">Swift</span></li><li class="localnav-menu-setting"><span class="localnav-menu-setting-label">API Changes:</span><span class="changes-toggle">None</span></li></ul></div><div class="localnav-actions"><div class="localnav-action localnav-action-menucta" aria-hidden="true"><label for="localnav-menustate" class="localnav-menucta"><span class="localnav-menucta-chevron"></span></label></div></div></div></div></div></div></nav><label for="localnav-menustate" id="localnav-curtain" aria-hidden="true"></label><main role="main" id="main" class="main" tabindex="0"><div class="topic-title"><span class="eyebrow">Article</span><h1 class="topic-heading"><span><span class="enstr">Adopting Common Protocols</span><!--end_enstr-->
<span class="jpstr">
一般的なプロトコルを採用する
</span><!--end_jpstr-->
</span></h1></div><div class="topic-container section-content row"><div class="topic-description column large-9 medium-9 small-12"><div class="topic-abstract abstract formatted-content"><div><p><span class="enstr">Make your custom types easier to use by ensuring that they conform to Swift protocols.</span><!--end_enstr-->
<span class="jpstr">
あなたのカスタム型を、それらがSwiftプロトコルに準拠するのを確実にすることで、より簡単に使えるようにします。
</span><!--end_jpstr-->
</p></div></div></div><div class="topic-summary column large-3 medium-3 small-12"><div class="topic-summary-section onthispage"><nav class="onthispage-nav" aria-labelledby="onthispage-title"><p id="onthispage-title" class="topic-summary-section-label subsection-label"><span class="enstr">On This Page</span><!--end_enstr-->
<span class="jpstr">
この項には
</span><!--end_jpstr-->
</p><ul class="topic-summary-section-list"><li class="topic-summary-section-item"><a href="#overview" class="icon icon-after icon-chevrondowncircle"><span class="enstr">Overview</span><!--end_enstr-->
<span class="jpstr">
概要
</span><!--end_jpstr-->
</a></li><li class="topic-summary-section-item"><a href="#see-also" class="icon icon-after icon-chevrondowncircle"><span class="enstr">See Also</span><!--end_enstr-->
<span class="jpstr">
参照
</span><!--end_jpstr-->
</a></li></ul></nav></div></div><div class="topic-content column large-9 medium-9 small-12" id="topic-content"><section id="overview" class="section"><h2><span class="enstr">Overview</span><!--end_enstr-->
<span class="jpstr">
概要
</span><!--end_jpstr-->
</h2><div class="formatted-content"><div><p><span class="enstr">When using custom types to model data in your programs, you may frequently need to check whether two values are the same or different, or whether a particular value is included in a list of values. This capability, as well as the ability to store values in a set or use them as keys in a dictionary, are governed by two related standard library protocols, <a class="symbol-name" href="../../documentation/swift/equatable.html"><code><span>Equatable</span></code></a> and <a class="symbol-name" href="../../documentation/swift/hashable.html"><code><span>Hashable</span></code></a>.</span><!--end_enstr-->
<span class="jpstr">
あつらえの型を使ってあなたのプログラムにおいてデータをモデル化する場合、あなたは２つの値が同じか異なるか、または特定の値が値のリストに含まれるかどうかを調べる必要がしばしばあるかもしれません。これができる力、それだけでなくいくらかの値を集合の中に格納するまたはそれらを辞書においてキーとして使う能力は、２つの関連する標準ライブラリプロトコル、<a class="symbol-name" href="../../documentation/swift/equatable.html"><code><span>Equatable</span></code></a>と<a class="symbol-name" href="../../documentation/swift/hashable.html"><code><span>Hashable</span></code></a>によって管理されます。
</span><!--end_jpstr-->
  </p><ul><li><p><span class="enstr">You can compare instances of an <em>equatable</em> type by using the equal-to (<code class="code-voice"><span>==</span></code>) and not-equal-to (<code class="code-voice"><span>!=</span></code>) operators.</span><!--end_enstr-->
<span class="jpstr">
あなたは、<em>equatable</em>型のインスタンスを比較することが、同等（<code class="code-voice"><span>==</span></code>）および不等（<code class="code-voice"><span>!=</span></code>）演算子によって行えます。
</span><!--end_jpstr-->
</p></li><li><p><span class="enstr">An instance of a <em>hashable</em> type can reduce its value mathematically to a single integer, which is used internally by sets and dictionaries to make lookups consistently fast.</span><!--end_enstr-->
<span class="jpstr">
<em>hashable</em>型のインスタンスは、それの値を単一の整数へと数学的に還元できます、それは検索を常に高速なものにするために集合と辞書によって内部的に使われます。
</span><!--end_jpstr-->
</p></li></ul><p><span class="enstr">Many standard library types are both equatable and hashable, including strings, integers, floating-point values, Boolean values, and collections of equatable and hashable types. The <code class="code-voice"><span>==</span></code> comparison and the <code class="code-voice"><span>contains(_:)</span></code> method call in the following example depend on strings and integers being equatable:</span><!--end_enstr-->
<span class="jpstr">
多くの標準ライブラリ型は、文字列、整数、浮動点小数値、ブール値、そしてequatableとhashable型のコレクション型を含めて、equatableとhashableの両方です。<code class="code-voice"><span>==</span></code>比較と<code class="code-voice"><span>contains(_:)</span></code>メソッド呼び出しは以下の例において、文字列と整数がequatableであることに依存します：
</span><!--end_jpstr-->
</p><figure id="2991128"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>if username == "Arturo" {
    print("Hi, Arturo!")
}

let favoriteNumbers = [4, 7, 8, 9]
if favoriteNumbers.contains(todaysDate.day) {
    print("It's a good day today!")
}
</code></pre></div></div></figure><p><span class="enstr">Conforming to the <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code> protocols is straightforward and makes it easier to use your own types in Swift. It's a good idea for all your custom model types to conform.</span><!--end_enstr-->
<span class="jpstr">
<code class="code-voice"><span>Equatable</span></code>と<code class="code-voice"><span>Hashable</span></code>プロトコルに準拠することは、あなた独自の型をSwiftで使うのをわかりやすいそしてより容易なものにします。あなたのあつらえのモデル型すべてにとって準拠することは良い考えです。
</span><!--end_jpstr-->
</p></div><h3 id="2991123"><span class="enstr">Conform Automatically to Equatable and Hashable</span><!--end_enstr-->
<span class="jpstr">
自動的にequatableとhashableに準拠する
</span><!--end_jpstr-->
</h3><div><p><span class="enstr">You can make many custom types equatable and hashable by simply declaring these protocol conformances in the same file as the type's original declaration. Add <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code> to the list of adopted protocols when declaring the type, and the compiler automatically fills in the requirements for the two protocols:</span><!--end_enstr-->
<span class="jpstr">
あなたは、多くのあつらえの型をequatableおよびhashableにすることが、単にそれらプロトコル準拠をその型の原型の宣言と同じファイルにおいて宣言することによって行えます。<code class="code-voice"><span>Equatable</span></code>および<code class="code-voice"><span>Hashable</span></code>を型を宣言する時に採用するプロトコルのリストに加えてください、するとコンパイラは自動的に２つのプロトコルに対する要件を満たします：
</span><!--end_jpstr-->
</p><figure id="2991130"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>///<span class="enstr"> A position in an x-y coordinate system.</span><!--end_enstr--><span class="jpstr">（ xy座標系におけるある位置。）</span><!--end_jpstr-->
struct Position: Equatable, Hashable {
    var x: Int
    var y: Int
    
    init(_ x: Int, _ y: Int) {
        self.x = x
        self.y = y
    }
}
</code></pre></div></div></figure><p><span class="enstr">With <code class="code-voice"><span>Equatable</span></code> conformance, you can use the equal-to operator (<code class="code-voice"><span>==</span></code>) or the not-equal-to operator (<code class="code-voice"><span>!=</span></code>) with any two instances of the <code class="code-voice"><span>Position</span></code> type.</span><!--end_enstr-->
<span class="jpstr">
<code class="code-voice"><span>Equatable</span></code>準拠で、あなたは同等演算子（<code class="code-voice"><span>==</span></code>）または不等演算子（<code class="code-voice"><span>!=</span></code>）を<code class="code-voice"><span>Position</span></code>型の任意の２つのインスタンスで使用できます。
</span><!--end_jpstr-->
</p><figure id="2991126"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>let availablePositions = [Position(0, 0), Position(0, 1), Position(1, 0)]
let gemPosition = Position(1, 0)

for position in availablePositions {
    if gemPosition == position {
        print("Gem found at (\(position.x), \(position.y))!")
    } else {
        print("No gem at (\(position.x), \(position.y))")
    }
}
// No gem at (0, 0)
// No gem at (0, 1)
// Gem found at (1, 0)!

</code></pre></div></div></figure><p><span class="enstr"><code class="code-voice"><span>Hashable</span></code> conformance means that you can store positions in a set and quickly check whether you've visited a position before, as shown in the following example:</span><!--end_enstr-->
<span class="jpstr">
<code class="code-voice"><span>Hashable</span></code>準拠は、あなたが集合の中の位置を格納して前にあなたが訪れた位置かどうかを素早く確認できることを意味します、以下の例で示すように：
</span><!--end_jpstr-->
</p><figure id="2991120"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>var visitedPositions: Set = [Position(0, 0), Position(1, 0)]
let currentPosition = Position(1, 3)

if visitedPositions.contains(currentPosition) {
    print("Already visited (\(currentPosition.x), \(currentPosition.y))")
} else {
    print("First time at (\(currentPosition.x), \(currentPosition.y))")
    visitedPositions.insert(currentPosition)
}
// First time at (1, 3)

</code></pre></div></div></figure><p><span class="enstr">In addition to simplifying your code, this automatic conformance reduces errors, because any new properties you add to your custom types are automatically included when hashing and testing for equality. A type is eligible for automatic conformance to <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code> when it's a structure or an enumeration that meets these criteria:</span><!--end_enstr-->
<span class="jpstr">
あなたのコードを単純にすることに加えて、この自動式の準拠はエラーを減らします、なぜならあなたのあつらえの型にあなたが加える何らかの新しいプロパティは、ハッシュ化および同等性テストをする場合に自動的に含まれるからです。ある型が<code class="code-voice"><span>Equatable</span></code>および<code class="code-voice"><span>Hashable</span></code>への自動式準拠に適格であるのは、それが構造体または列挙であり、これらの基準に合う場合です：
</span><!--end_jpstr-->
</p><ul><li><p><span class="enstr">For a structure, <em>all</em> its stored properties must conform to <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code>.</span><!--end_enstr-->
<span class="jpstr">
構造体に対して、<em>全ての</em>それの格納プロパティは、<code class="code-voice"><span>Equatable</span></code>および<code class="code-voice"><span>Hashable</span></code>に準拠しなければなりません。
</span><!--end_jpstr-->
</p></li><li><p><span class="enstr">For an enumeration, <em>all</em> its associated values must conform to <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code>. (Enumerations without associated values have <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code> conformance even without declaring adoption.)</span><!--end_enstr-->
<span class="jpstr">
列挙に対して、<em>全ての</em>それの関連値は、<code class="code-voice"><span>Equatable</span></code>および<code class="code-voice"><span>Hashable</span></code>に準拠しなければなりません。（関連値なしの列挙は、<code class="code-voice"><span>Equatable</span></code>および<code class="code-voice"><span>Hashable</span></code>準拠を持ちます、たとえ採用を宣言することなしでも。）
</span><!--end_jpstr-->
</p></li></ul></div><h3 id="2991131"><span class="enstr">Conform Manually to Equatable and Hashable</span><!--end_enstr-->
<span class="jpstr">
手動でequatableとhashableに準拠する
</span><!--end_jpstr-->
 </h3><div><p><span class="enstr">You need to manually implement <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code> conformance for a type in these cases:</span><!--end_enstr-->
<span class="jpstr">
あなたは、手動で<code class="code-voice"><span>Equatable</span></code>と<code class="code-voice"><span>Hashable</span></code>準拠をある型に対して実装する必要がこれらの場合には必要です：
</span><!--end_jpstr-->
</p><ul><li><p><span class="enstr">The type doesn't meet the criteria listed in the previous section.</span><!--end_enstr-->
<span class="jpstr">
その型が以前の節においてリストされる基準に合わない。
</span><!--end_jpstr-->
</p></li><li><p><span class="enstr">You want to customize the type's conformance.</span><!--end_enstr-->
<span class="jpstr">
あなたがその型の持つ準拠をカスタマイズしたい。
</span><!--end_jpstr-->
</p></li><li><p><span class="enstr">You want to extend a type declared in another file or module to conform.</span><!--end_enstr-->
<span class="jpstr">
あなたが別のファイルまたはモジュールにおいて宣言される型を拡張することで準拠したい。
</span><!--end_jpstr-->
</p></li></ul><figure id="2991124"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>class Player {
    var name: String
    var position: Position
    
    init(name: String, position: Position) {
        self.name = name
        self.position = position
    }
}
</code></pre></div></div></figure><p><span class="enstr">The <code class="code-voice"><span>Player</span></code> type is a class, so it doesn't qualify for automatic synthesis of the <code class="code-voice"><span>Equatable</span></code> or <code class="code-voice"><span>Hashable</span></code> requirements. To make this class conform to the <code class="code-voice"><span>Equatable</span></code> protocol, declare conformance in an extension and implement the  static <code class="code-voice"><span>==</span></code> operator method. Compare each significant property for equality in your <code class="code-voice"><span>==</span></code> method's implementation:</span><!--end_enstr-->
<span class="jpstr">
<code class="code-voice"><span>Player</span></code>型はクラスです、なのでそれは<code class="code-voice"><span>Equatable</span></code>または<code class="code-voice"><span>Hashable</span></code>要件の自動的な合成の基準を満たしません。このクラスを<code class="code-voice"><span>Equatable</span></code>プロトコルに準拠させるには、準拠をある拡張において宣言して、静的<code class="code-voice"><span>==</span></code>演算子メソッドを実装してください。重要なプロパティそれぞれを同等性についてあなたの<code class="code-voice"><span>==</span></code>メソッドの実装において比較してください：
</span><!--end_jpstr-->
</p><figure id="2991121"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>extension Player: Equatable {
    static func ==(lhs: Player, rhs: Player) -&gt; Bool {
        return lhs.name == rhs.name &amp;&amp; lhs.position == rhs.position
    }
}
</code></pre></div></div></figure><p><span class="enstr">To make <code class="code-voice"><span>Player</span></code> conform to the <code class="code-voice"><span>Hashable</span></code> protocol, declare conformance in another extension and implement the <code class="code-voice"><span>hash(into:)</span></code> method. In the <code class="code-voice"><span>hash(into:)</span></code> method, call the <code class="code-voice"><span>combine(_:)</span></code> method on the provided hasher with each significant property:</span><!--end_enstr-->
<span class="jpstr">
<code class="code-voice"><span>Player</span></code>を<code class="code-voice"><span>Hashable</span></code>プロトコルに準拠させるには、準拠を別の拡張において宣言して、<code class="code-voice"><span>hash(into:)</span></code>メソッドを実装してください。<code class="code-voice"><span>hash(into:)</span></code>メソッドにおいて、<code class="code-voice"><span>combine(_:)</span></code>メソッドをその提供されたhasher上で各重要プロパティとともに呼び出してください：
</span><!--end_jpstr-->
</p><figure id="2991129"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>extension Player: Hashable {
    func hash(into hasher: inout Hasher) {
        hasher.combine(name)
        hasher.combine(position)
    }
}
</code></pre></div></div></figure><p></p></div><h4 id="2991122"><span class="enstr">Use All Significant Properties for Equatable and Hashable</span><!--end_enstr-->
<span class="jpstr">
すべての重要プロパティをequatableとhashableに対して使う
</span><!--end_jpstr-->
</h4><div><p><span class="enstr">When implementing the <code class="code-voice"><span>==</span></code> method and the <code class="code-voice"><span>hash(into:)</span></code> method, use all the properties that affect whether two instances of your custom type are considered equal. In the implementations above, the <code class="code-voice"><span>Player</span></code> type uses <code class="code-voice"><span>name</span></code> and <code class="code-voice"><span>position</span></code> in both methods.</span><!--end_enstr-->
<span class="jpstr">
<code class="code-voice"><span>==</span></code>メソッドと<code class="code-voice"><span>hash(into:)</span></code>メソッドを実装する場合、あなたのカスタム型の２つのインスタンスが等しいと考えられるどうかに影響するすべてのプロパティを使ってください。上の実装において、<code class="code-voice"><span>Player</span></code>型は<code class="code-voice"><span>name</span></code>と<code class="code-voice"><span>position</span></code>を両方のメソッドにおいて使います。
</span><!--end_jpstr-->
</p><p><span class="enstr">If your type contains properties that don't affect whether two instances are considered equal, exclude those properties from comparison in the <code class="code-voice"><span>==</span></code> method and from hashing in <code class="code-voice"><span>hash(into:)</span></code>. For example, a type might cache an expensive computed value so that it only needs to calculate it once. If you compare two instances of that type, whether or not the computed value has been cached shouldn't affect their equality, so the cached value should be excluded from comparison and hashing.</span><!--end_enstr-->
<span class="jpstr">
２つのインスタンスが等しいと考えられるかどうかに影響しないプロパティをあなたの型が含むならば、それらプロパティを<code class="code-voice"><span>==</span></code>メソッドでの比較から、そして<code class="code-voice"><span>hash(into:)</span></code>でのハッシュ化から除外してください。例えば、ある型は高くつく計算値をキャッシュするかもしれません、それを計算する必要がただ一度だけであるように。あなたがその型の２つのインスタンスを比較するならば、計算値がキャッシュされるかどうかが、それらの同等性に影響すべきではありません、なのでキャッシュされた値は比較およびハッシュ化から排除されるべきです。
</span><!--end_jpstr-->
</p><aside class="aside aside-important" aria-label="important"><p class="aside-name"><span class="enstr">Important</span><!--end_enstr-->
<span class="jpstr">
重要
</span><!--end_jpstr-->
</p><p><span class="enstr">Always use the same properties in both your <code class="code-voice"><span>==</span></code> and <code class="code-voice"><span>hash(into:)</span></code> methods. Using different groups of properties in the two methods can lead to unexpected behavior or performance when using your custom type in sets and dictionaries.</span><!--end_enstr-->
<span class="jpstr">
常に同じプロパティをあなたの<code class="code-voice"><span>==</span></code>および<code class="code-voice"><span>hash(into:)</span></code>メソッドの両方において使ってください。異なるプロパティのグループを２つのメソッドにおいて使うことは、あなたのカスタム型を集合および辞書で使う場合に、予期しない挙動または性能に導きます。
</span><!--end_jpstr-->
</p></aside><p></p></div><h3 id="3024319"><span class="enstr">Customize NSObject Subclass Behavior</span><!--end_enstr-->
<span class="jpstr">
NSObjectサブクラス挙動をカスタマイズする
</span><!--end_jpstr-->
</h3><div><p><span class="enstr"><code class="code-voice"><span>NSObject</span></code> subclasses inherit conformance to the <code class="code-voice"><span>Equatable</span></code> and <code class="code-voice"><span>Hashable</span></code> protocols, with equality based on instance identity. If you need to customize this behavior, override the <a class="symbol-name" href="https://developer.apple.com/documentation/objectivec/nsobjectprotocol/1418795-isequal"><code><span>is<wbr/>Equal(_:)</span></code></a> method and <a class="symbol-name" href="https://developer.apple.com/documentation/objectivec/nsobjectprotocol/1418859-hash"><code><span>hash</span></code></a> property instead of the <code class="code-voice"><span>==</span></code> operator method and <code class="code-voice"><span>hash<wbr/>Value</span></code> property.</span><!--end_enstr-->
<span class="jpstr">
<code class="code-voice"><span>NSObject</span></code>サブクラスは、<code class="code-voice"><span>Equatable</span></code>と<code class="code-voice"><span>Hashable</span></code>プロトコルへの準拠を継承します、インスタンス同一性に基づく同等性を使います。あなたがこの挙動をカスタマイズする必要があるならば、<a class="symbol-name" href="https://developer.apple.com/documentation/objectivec/nsobjectprotocol/1418795-isequal"><code><span>is<wbr/>Equal(_:)</span></code></a>メソッドと<a class="symbol-name" href="https://developer.apple.com/documentation/objectivec/nsobjectprotocol/1418859-hash"><code><span>hash</span></code></a>プロトコルをオーバーライドしてください、<code class="code-voice"><span>==</span></code>演算子メソッドと<code class="code-voice"><span>hash<wbr/>Value</span></code>プロパティではなく。
</span><!--end_jpstr-->
</p><figure id="3024307"><div class="formatted-content"><div class="code-listing"><pre class="code-source" data-language="swift"><code>extension MyNSObjectSubclass {
    override func isEqual(_ object: Any?) -&gt; Bool {
        guard let other = object as?MyNSObjectSubclass
            else { return false }
        return self.firstProperty == other.firstProperty
            &amp;&amp; self.secondProperty == other.secondProperty
    }

    override var hash: Int {
        var hasher = Hasher()
        hasher.combine(firstProperty)
        hasher.combine(secondProperty)
        return hasher.finalize()
    }
}
</code></pre></div></div></figure><p><span class="enstr">As noted in the previous section, two instances that are considered equal must have the same hash value. If you override one of these declarations, you must also override the other to maintain that guarantee.</span><!--end_enstr-->
<span class="jpstr">
前の節で注記されるように、等しいとみなされる２つのインスタンスは、同じハッシュ値を持たなければなりません。あなたがそれら宣言の一方をオーバーライドするならば、あなたはまた他方もオーバーライドしてその保証を維持してください。
</span><!--end_jpstr-->
</p></div></div></section></div></div><section id="see-also" class="contenttable section alt-light-container row"><div class="alt-light"><div class="section-content"><h2 class="contenttable-title"><span class="enstr">See Also</span><!--end_enstr-->
<span class="jpstr">
参照
</span><!--end_jpstr-->
</h2><section id="2984804" class="contenttable-section"><div class="contenttable-container row"><div class="contenttable-section-title-container column large-3 medium-3 small-12"><h3 class="contenttable-section-title"><span class="enstr">Data Modeling</span><!--end_enstr-->
<span class="jpstr">
データモデリング
</span><!--end_jpstr-->
</h3></div><div class="contenttable-section-content column large-9 medium-9 small-12"><div class="task-topics"><div class="task-topic"><div class="task-topic-info"><a class="has-adjacent-element symbol-name" href="../../documentation/swift/choosing_between_structures_and_classes.html"><svg xmlns="http://www.w3.org/2000/svg" height="15" viewBox="0 0 22 30" class="svg-icon symbol-name-icon" aria-hidden="true"><title>Article</title><g id="Article" class="svg-icon-small"><path d="M12.87,0H0V2H0V28H0v2H22V9.13ZM20,28H2V2h9V12h9Zm0-18H13V3l7,7Z"></path></g></svg><span><span class="enstr">Choosing Between Structures and Classes</span><!--end_enstr-->
<span class="jpstr">
構造体かクラスのいずれかを選ぶ
</span><!--end_jpstr-->
</span></a><div class="task-topic-abstract task-topic-data abstract formatted-content"><div><p><span class="enstr">Decide how to store data and model behavior.</span><!--end_enstr-->
<span class="jpstr">
どのようにデータを格納して挙動をモデル化するか決定を下します。
</span><!--end_jpstr-->
</p></div></div></div></div></div></div></div></section></div></div></section></main><section id="globalfooter-wrapper"><footer id="globalfooter" role="contentinfo">
        <nav class="footer-breadory">
          <a href="/" class="home breadcrumbs-home"><span aria-hidden="true"></span><span class="breadcrumbs-home-label">Developer</span></a>
          <section class="breadcrumbs">
            <ol class="breadcrumbs-list">
              <li><a href=/documentation>Documentation</a></li>
            </ol>
          </section>
          <div id="directorynav" class="directorynav">
            <div id="dn-cola" class="column">
              <h3><a href="/discover/">Discover</a></h3>
              <ul>
                <li><a href="/macos/">macOS</a></li>
                <li><a href="/ios/">iOS</a></li>
                <li><a href="/watchos/">watchOS</a></li>
                <li><a href="/tvos/">tvOS</a></li>
                <li><a href="/safari/">Safari and Web</a></li>
                <li><a href="/games/">Games</a></li>
                <li><a href="/business/">Business</a></li>
                <li><a href="/education/">Education</a></li>
                <li><a href="/wwdc/">WWDC</a></li>
              </ul>
            </div>
            <div id="dn-colb" class="column">
              <h3><a href="/design/">Design</a></h3>
              <ul>
                <li><a href="/design/human-interface-guidelines/">Human Interface Guidelines</a></li>
                <li><a href="/design/resources/"><span class="enstr">Resources</span><!--end_enstr-->
<span class="jpstr">
リソース
</span><!--end_jpstr-->
</a></li>
                <li><a href="/videos/design/">Videos</a></li>
                <li><a href="/design/awards/">Apple Design Awards</a></li>
                <li><a href="/accessibility/">Accessibility</a></li>
                <li><a href="/internationalization/"><span class="enstr">Internationalization</span><!--end_enstr-->
<span class="jpstr">
国際化
</span><!--end_jpstr-->
</a></li>
                <li><a href="/accessories/">Accessories</a></li>
              </ul>
            </div>
            <div id="dn-colc" class="column">
              <h3><a href="/develop/">Develop</a></h3>
              <ul>
                <li><a href="/xcode/">Xcode</a></li>
                <li><a href="/swift/">Swift</a></li>
                <li><a href="/swift-playgrounds/">Swift Playgrounds</a></li>
                <li><a href="/testflight/">TestFlight</a></li>
                <li><a href="https://developer.apple.com/documentation/">Documentation</a></li>
                <li><a href="/videos/">Videos</a></li>
                <li><a href="/download/">Downloads</a></li>
              </ul>
            </div>
            <div id="dn-cold" class="column">
              <h3><a href="/distribute/">Distribute</a></h3>
              <ul>
                <li><a href="/programs/">Developer Program</a></li>
                <li><a href="/app-store/">App Store</a></li>
                <li><a href="/app-store/review/">App Review</a></li>
                <li><a href="/macos/distribution/">Mac Software</a></li>
                <li><a href="/business/distribute/">Apps for Business</a></li>
                <li><a href="/safari/extensions/">Safari Extensions</a></li>
                <li><a href="/app-store/marketing/guidelines/">Marketing Resources</a></li>
                <li><a href="/softwarelicensing/">Trademark Licensing</a></li>
              </ul>
            </div>
            <div id="dn-cole" class="column">
              <h3><a href="/support/">Support</a></h3>
              <ul>
                <li><a href="https://forums.developer.apple.com">Developer Forums</a></li>
                <li><a href="/bug-reporting/">Bug Reporting</a></li>
                <li><a href="/terms/">License Agreements</a></li>
                <li><a href="/system-status/">System Status</a></li>
                <li><a href="/contact/">Contact Us</a></li>
              </ul>
              <h3><a href="/account/">Account</a></h3>
              <ul>
                <li><a href="/account/ios/certificate/">Certificates, IDs &amp; Profiles</a></li>
                <li><a href="https://appstoreconnect.apple.com/">App Store Connect</a></li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="ac-gf-footer-legal">
          <div class="ac-gf-footer-news"> To receive the latest developer news, visit and subscribe to our <a href="/news/">News and Updates</a>.
          </div>
          <div class="ac-gf-footer-legal-copyright">Copyright © 2019 Apple Inc. All rights reserved.</div>
          <div class="ac-gf-footer-legal-links">
            <a href="https://www.apple.com/legal/internet-services/terms/site.html" class="first">Terms of Use</a>
            <a href="https://www.apple.com/privacy/privacy-policy/">Privacy Policy</a>
            <a href="/bug-reporting/">Report Bugs</a>
            <a href="/contact/submit/?subject=website-feedback">Feedback</a>
          </div>
          <div class="ac-gf-footer-language-links">
            <a href="/cn/" class="first">简体中文</a>
            <a href="/jp/">日本語</a>
            <a href="/kr/">한국어</a>
          </div>
        </div>
      </footer></section></div></div><script id="bootstrap-data" type="application/json">{"id":2991125,"title":{"content":"Adopting Common Protocols"},"abstract":"<div><p>Make your custom types easier to use by ensuring that they conform to Swift protocols.<\/p><\/div>","discussion":"<div><p>When using custom types to model data in your programs, you may frequently need to check whether two values are the same or different, or whether a particular value is included in a list of values. This capability, as well as the ability to store values in a set or use them as keys in a dictionary, are governed by two related standard library protocols, <a class=\"symbol-name\" href=\"\/documentation\/swift\/equatable\"><code><span>Equatable<\/span><\/code><\/a> and <a class=\"symbol-name\" href=\"\/documentation\/swift\/hashable\"><code><span>Hashable<\/span><\/code><\/a>.  <\/p><ul><li><p>You can compare instances of an <em>equatable<\/em> type by using the equal-to (<code class=\"code-voice\"><span>==<\/span><\/code>) and not-equal-to (<code class=\"code-voice\"><span>!=<\/span><\/code>) operators.<\/p><\/li><li><p>An instance of a <em>hashable<\/em> type can reduce its value mathematically to a single integer, which is used internally by sets and dictionaries to make lookups consistently fast.<\/p><\/li><\/ul><p>Many standard library types are both equatable and hashable, including strings, integers, floating-point values, Boolean values, and collections of equatable and hashable types. The <code class=\"code-voice\"><span>==<\/span><\/code> comparison and the <code class=\"code-voice\"><span>contains(_:)<\/span><\/code> method call in the following example depend on strings and integers being equatable:<\/p><figure id=\"2991128\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>if username == &quot;Arturo&quot; {\n    print(&quot;Hi, Arturo!&quot;)\n}\n\nlet favoriteNumbers = [4, 7, 8, 9]\nif favoriteNumbers.contains(todaysDate.day) {\n    print(&quot;It&#x27;s a good day today!&quot;)\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>Conforming to the <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code> protocols is straightforward and makes it easier to use your own types in Swift. It&#x27;s a good idea for all your custom model types to conform.<\/p><\/div><h3 id=\"2991123\">Conform Automatically to Equatable and Hashable<\/h3><div><p>You can make many custom types equatable and hashable by simply declaring these protocol conformances in the same file as the type&#x27;s original declaration. Add <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code> to the list of adopted protocols when declaring the type, and the compiler automatically fills in the requirements for the two protocols:<\/p><figure id=\"2991130\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>\/\/\/ A position in an x-y coordinate system.\nstruct Position: Equatable, Hashable {\n    var x: Int\n    var y: Int\n    \n    init(_ x: Int, _ y: Int) {\n        self.x = x\n        self.y = y\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>With <code class=\"code-voice\"><span>Equatable<\/span><\/code> conformance, you can use the equal-to operator (<code class=\"code-voice\"><span>==<\/span><\/code>) or the not-equal-to operator (<code class=\"code-voice\"><span>!=<\/span><\/code>) with any two instances of the <code class=\"code-voice\"><span>Position<\/span><\/code> type.<\/p><figure id=\"2991126\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>let availablePositions = [Position(0, 0), Position(0, 1), Position(1, 0)]\nlet gemPosition = Position(1, 0)\n\nfor position in availablePositions {\n    if gemPosition == position {\n        print(&quot;Gem found at (\\(position.x), \\(position.y))!&quot;)\n    } else {\n        print(&quot;No gem at (\\(position.x), \\(position.y))&quot;)\n    }\n}\n\/\/ No gem at (0, 0)\n\/\/ No gem at (0, 1)\n\/\/ Gem found at (1, 0)!\n\n<\/code><\/pre><\/div><\/div><\/figure><p><code class=\"code-voice\"><span>Hashable<\/span><\/code> conformance means that you can store positions in a set and quickly check whether you&#x27;ve visited a position before, as shown in the following example:<\/p><figure id=\"2991120\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>var visitedPositions: Set = [Position(0, 0), Position(1, 0)]\nlet currentPosition = Position(1, 3)\n\nif visitedPositions.contains(currentPosition) {\n    print(&quot;Already visited (\\(currentPosition.x), \\(currentPosition.y))&quot;)\n} else {\n    print(&quot;First time at (\\(currentPosition.x), \\(currentPosition.y))&quot;)\n    visitedPositions.insert(currentPosition)\n}\n\/\/ First time at (1, 3)\n\n<\/code><\/pre><\/div><\/div><\/figure><p>In addition to simplifying your code, this automatic conformance reduces errors, because any new properties you add to your custom types are automatically included when hashing and testing for equality. A type is eligible for automatic conformance to <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code> when it&#x27;s a structure or an enumeration that meets these criteria:<\/p><ul><li><p>For a structure, <em>all<\/em> its stored properties must conform to <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code>.<\/p><\/li><li><p>For an enumeration, <em>all<\/em> its associated values must conform to <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code>. (Enumerations without associated values have <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code> conformance even without declaring adoption.)<\/p><\/li><\/ul><\/div><h3 id=\"2991131\">Conform Manually to Equatable and Hashable <\/h3><div><p>You need to manually implement <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code> conformance for a type in these cases:<\/p><ul><li><p>The type doesn&#x27;t meet the criteria listed in the previous section.<\/p><\/li><li><p>You want to customize the type&#x27;s conformance.<\/p><\/li><li><p>You want to extend a type declared in another file or module to conform.<\/p><\/li><\/ul><figure id=\"2991124\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>class Player {\n    var name: String\n    var position: Position\n    \n    init(name: String, position: Position) {\n        self.name = name\n        self.position = position\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>The <code class=\"code-voice\"><span>Player<\/span><\/code> type is a class, so it doesn&#x27;t qualify for automatic synthesis of the <code class=\"code-voice\"><span>Equatable<\/span><\/code> or <code class=\"code-voice\"><span>Hashable<\/span><\/code> requirements. To make this class conform to the <code class=\"code-voice\"><span>Equatable<\/span><\/code> protocol, declare conformance in an extension and implement the  static <code class=\"code-voice\"><span>==<\/span><\/code> operator method. Compare each significant property for equality in your <code class=\"code-voice\"><span>==<\/span><\/code> method&#x27;s implementation:<\/p><figure id=\"2991121\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>extension Player: Equatable {\n    static func ==(lhs: Player, rhs: Player) -&gt; Bool {\n        return lhs.name == rhs.name &amp;&amp; lhs.position == rhs.position\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>To make <code class=\"code-voice\"><span>Player<\/span><\/code> conform to the <code class=\"code-voice\"><span>Hashable<\/span><\/code> protocol, declare conformance in another extension and implement the <code class=\"code-voice\"><span>hash(into:)<\/span><\/code> method. In the <code class=\"code-voice\"><span>hash(into:)<\/span><\/code> method, call the <code class=\"code-voice\"><span>combine(_:)<\/span><\/code> method on the provided hasher with each significant property:<\/p><figure id=\"2991129\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>extension Player: Hashable {\n    func hash(into hasher: inout Hasher) {\n        hasher.combine(name)\n        hasher.combine(position)\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p><\/p><\/div><h4 id=\"2991122\">Use All Significant Properties for Equatable and Hashable<\/h4><div><p>When implementing the <code class=\"code-voice\"><span>==<\/span><\/code> method and the <code class=\"code-voice\"><span>hash(into:)<\/span><\/code> method, use all the properties that affect whether two instances of your custom type are considered equal. In the implementations above, the <code class=\"code-voice\"><span>Player<\/span><\/code> type uses <code class=\"code-voice\"><span>name<\/span><\/code> and <code class=\"code-voice\"><span>position<\/span><\/code> in both methods.<\/p><p>If your type contains properties that don&#x27;t affect whether two instances are considered equal, exclude those properties from comparison in the <code class=\"code-voice\"><span>==<\/span><\/code> method and from hashing in <code class=\"code-voice\"><span>hash(into:)<\/span><\/code>. For example, a type might cache an expensive computed value so that it only needs to calculate it once. If you compare two instances of that type, whether or not the computed value has been cached shouldn&#x27;t affect their equality, so the cached value should be excluded from comparison and hashing.<\/p><aside class=\"aside aside-important\" aria-label=\"important\"><p class=\"aside-name\">Important<\/p><p>Always use the same properties in both your <code class=\"code-voice\"><span>==<\/span><\/code> and <code class=\"code-voice\"><span>hash(into:)<\/span><\/code> methods. Using different groups of properties in the two methods can lead to unexpected behavior or performance when using your custom type in sets and dictionaries.<\/p><\/aside><p><\/p><\/div><h3 id=\"3024319\">Customize NSObject Subclass Behavior<\/h3><div><p><code class=\"code-voice\"><span>NSObject<\/span><\/code> subclasses inherit conformance to the <code class=\"code-voice\"><span>Equatable<\/span><\/code> and <code class=\"code-voice\"><span>Hashable<\/span><\/code> protocols, with equality based on instance identity. If you need to customize this behavior, override the <a class=\"symbol-name\" href=\"\/documentation\/objectivec\/nsobjectprotocol\/1418795-isequal\"><code><span>is<wbr\/>Equal(_:)<\/span><\/code><\/a> method and <a class=\"symbol-name\" href=\"\/documentation\/objectivec\/nsobjectprotocol\/1418859-hash\"><code><span>hash<\/span><\/code><\/a> property instead of the <code class=\"code-voice\"><span>==<\/span><\/code> operator method and <code class=\"code-voice\"><span>hash<wbr\/>Value<\/span><\/code> property.<\/p><figure id=\"3024307\"><div class=\"formatted-content\"><div class=\"code-listing\"><pre class=\"code-source\" data-language=\"swift\"><code>extension MyNSObjectSubclass {\n    override func isEqual(_ object: Any?) -&gt; Bool {\n        guard let other = object as? MyNSObjectSubclass\n            else { return false }\n        return self.firstProperty == other.firstProperty \n            &amp;&amp; self.secondProperty == other.secondProperty\n    }\n\n    override var hash: Int {\n        var hasher = Hasher()\n        hasher.combine(firstProperty)\n        hasher.combine(secondProperty)\n        return hasher.finalize()\n    }\n}\n<\/code><\/pre><\/div><\/div><\/figure><p>As noted in the previous section, two instances that are considered equal must have the same hash value. If you override one of these declarations, you must also override the other to maintain that guarantee.<\/p><\/div>","containingGroup":[{"id":2984804,"role":"task","paths":[],"symbols":[{"id":2992597,"role":"article","paths":["documentation\/swift\/choosing_between_structures_and_classes"],"abstract":"<div><p>Decide how to store data and model behavior.<\/p><\/div>","title":{"content":"Choosing Between Structures and Classes"}},{"id":2991125,"role":"article","paths":["documentation\/swift\/adopting_common_protocols"],"abstract":"<div><p>Make your custom types easier to use by ensuring that they conform to Swift protocols.<\/p><\/div>","title":{"content":"Adopting Common Protocols"}}],"title":{"content":"Data Modeling"}}],"role":"article","language":"swift","roleHeading":"Article","languages":["swift"],"variants":{"swift":{"paths":["documentation\/swift\/adopting_common_protocols"]}},"pid":424974,"paths":["documentation\/swift\/adopting_common_protocols"],"hierarchy":[[{"id":3000738,"role":"collection","title":{"content":"Swift"},"paths":["documentation\/swift"]}]],"legalNotices":{"copyright":"Copyright &copy; 2019 Apple Inc. All rights reserved.","termsOfUse":"https:\/\/www.apple.com\/legal\/internet-services\/terms\/site.html","privacyPolicy":"https:\/\/www.apple.com\/privacy\/privacy-policy"}}</script></body></html>