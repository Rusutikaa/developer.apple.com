

<!DOCTYPE html>



<head>
    <meta charset="utf-8" />
    <meta name="author" content="Apple Inc." />
    <meta name="viewport" content="width=device-width initial-scale=1" />
    
    <title>Type Casting &mdash; The Swift Programming Language (Swift 4.2)</title>
    
    <link rel="license" href="/LICENSE.txt" />
    <link rel="stylesheet" media="all" href="../static/stylesheets/application.css" />
    <link rel="stylesheet" media="all" href="../static/stylesheets/tspl.css" />
    <link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png" />
    <link rel="mask-icon" href="/assets/images/icon-swift.svg" color="#F05339" /> 
  </head>
  <body>


<nav role="navigation">
    <header role="banner">
      <h1 id="logo">
        <a href="https://swift.org/" title="Swift.org" role="img" aria-label="Swift.org">
          Swift.org
        </a>
      </h1>
    </header>

    <div id="menu-toggle" class="menu-toggle open"></div>

    <h2>The Swift Programming Language<div>Swift 4.2</div></h2>

    <ul>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to Swift<br><span class="jpstr">
スウィフトにようこそ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="TheBasics.html">Language Guide<br><span class="jpstr">
言語ガイド
</span><!--end_jpstr-->
</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="TheBasics.html">The Basics<br><span class="jpstr">
基本
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="BasicOperators.html">Basic Operators<br><span class="jpstr">
基本の演算子
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="StringsAndCharacters.html">Strings and Characters<br><span class="jpstr">
文字列と文字
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="CollectionTypes.html">Collection Types<br><span class="jpstr">
コレクション型
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="ControlFlow.html">Control Flow<br><span class="jpstr">
制御の流れ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Functions.html">Functions<br><span class="jpstr">
関数
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Closures.html">Closures<br><span class="jpstr">
クロージャ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Enumerations.html">Enumerations<br><span class="jpstr">
列挙
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClassesAndStructures.html">Structures and Classes<br><span class="jpstr">
構造体とクラス
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Properties.html">Properties<br><span class="jpstr">
プロパティ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Methods.html">Methods<br><span class="jpstr">
メソッド
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Subscripts.html">Subscripts<br><span class="jpstr">
添え字
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Inheritance.html">Inheritance<br><span class="jpstr">
継承
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Initialization.html">Initialization<br><span class="jpstr">
初期化
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Deinitialization.html">Deinitialization<br><span class="jpstr">
デイニシャライズ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="OptionalChaining.html">Optional Chaining<br><span class="jpstr">
オプショナル連鎖
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="ErrorHandling.html">Error Handling<br><span class="jpstr">
エラーの処理
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Type Casting<br><span class="jpstr">
型キャスト
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="NestedTypes.html">Nested Types<br><span class="jpstr">
入れ子にされた型
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Extensions.html">Extensions<br><span class="jpstr">
拡張
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Protocols.html">Protocols<br><span class="jpstr">
プロトコル
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Generics.html">Generics<br><span class="jpstr">
総称体
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="AutomaticReferenceCounting.html">Automatic Reference Counting<br><span class="jpstr">
自動参照カウント
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="MemorySafety.html">Memory Safety<br><span class="jpstr">
メモリ安全
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="AccessControl.html">Access Control<br><span class="jpstr">
アクセス制御
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="AdvancedOperators.html">Advanced Operators<br><span class="jpstr">
先進の演算子
</span><!--end_jpstr-->
</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ReferenceManual/AboutTheLanguageReference.html">Language Reference<br><span class="jpstr">
言語リファレンス
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RevisionHistory/RevisionHistory.html">Revision History<br><span class="jpstr">
改訂履歴
</span><!--end_jpstr-->
</a></li>
</ul>

    <li class="toctree-l1 return"><a class="reference internal" href="../../../index.html">← Go to Index</a></li>
    </ul>
</nav>




<main role="main">
    <article class="page">
        <menu id="bashful" type="toolbar">
          <div class="inner">
            <menuitem id="jump_to" class="menu-bar-item closed">
            <span id="jump_to_toggle">On This Page</span>
            <div class="chevron">
                <div class="chevy chevron-left"></div>
                <div class="chevy chevron-right"></div>
            </div>
            <menu type="list" class="details">
                <ul>
<li><a class="reference internal" href="#">Type Casting<br><span class="jpstr">
型キャスト
</span><!--end_jpstr-->
</a><ul>
<li><a class="reference internal" href="#ID339">Defining a Class Hierarchy for Type Casting<br><span class="jpstr">
型キャストのためにクラス階層を定義する
</span><!--end_jpstr-->
</a></li>
<li><a class="reference internal" href="#ID340">Checking Type<br><span class="jpstr">
型を調べる
</span><!--end_jpstr-->
</a></li>
<li><a class="reference internal" href="#ID341">Downcasting<br><span class="jpstr">
ダウンキャスト
</span><!--end_jpstr-->
</a></li>
<li><a class="reference internal" href="#ID342">Type Casting for Any and AnyObject<br><span class="jpstr">
AnyおよびAnyObjectに対する型キャスト
</span><!--end_jpstr-->
</a></li>
</ul>
</li>
</ul>

            </menu>
            </menuitem>
          </div>
        </menu>

        
  <div class="section" id="type-casting">
<h1>Type Casting<a class="headerlink" href="#type-casting" title="Permalink to this headline">¶</a><br><span class="jpstr">
型キャスト<a class="headerlink" href="#type-casting" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->
</h1>
<p><em>Type casting</em> is a way to check the type of an instance, or to treat that instance as a different superclass or subclass from somewhere else in its own class hierarchy.<br><span class="jpstr">
<em>型キャスト</em>は、あるインスタンスの型を調べるための、またはそのインスタンスを、それ自身のクラス階層中のどこか他の別のスーパークラスやサブクラスとして扱うための方法です。
</span><!--end_jpstr-->
</p>
<p>Type casting in Swift is implemented with the <code class="docutils literal notranslate"><span class="pre">is</span></code> and <code class="docutils literal notranslate"><span class="pre">as</span></code> operators. These two operators provide a simple and expressive way to check the type of a value or cast a value to a different type.<br><span class="jpstr">
スウィフトでの型キャストは、<code class="docutils literal notranslate"><span class="pre">is</span></code>と<code class="docutils literal notranslate"><span class="pre">as</span></code>演算子を使って実行されます。これらの２つの演算子は、値の型を調べたり、値を異なる型にキャストする（配役する、投げ込む）ための単純で表現豊かな方法を提供します。
</span><!--end_jpstr-->
</p>
<p>You can also use type casting to check whether a type conforms to a protocol, as described in <a class="reference internal" href="Protocols.html#ID283"><span class="std std-ref">Checking for Protocol Conformance</span></a>.<br><span class="jpstr">
あなたはまた、<a class="reference internal" href="Protocols.html#ID283"><span class="std std-ref">プロトコル準拠の確認</span></a>で記述されるように、その型があるプロトコルに準拠しているどうか調べるために型キャストを使うことができます。
</span><!--end_jpstr-->
</p>
<div class="section" id="ID339">
<h2>Defining a Class Hierarchy for Type Casting<a class="headerlink" href="#ID339" title="Permalink to this headline">¶</a><br><span class="jpstr">
型キャストのためにクラス階層を定義する<a class="headerlink" href="#ID339" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->
</h2>
<p>You can use type casting with a hierarchy of classes and subclasses to check the type of a particular class instance and to cast that instance to another class within the same hierarchy. The three code snippets below define a hierarchy of classes and an array containing instances of those classes, for use in an example of type casting.<br><span class="jpstr">
あなたは、いくつかのクラスおよびサブクラスからなるある階層とともに型キャストを使って、特定のクラスインスタンスの型を調べて、そのインスタンスを同じ階層内の別のクラスにキャストすることができます。下の３つのコードの断片は、型キャストの例で使うために、あるクラス階層とそれらのクラスのインスタンスを含んでいる配列を定義します。
</span><!--end_jpstr-->
</p>
<p>The first snippet defines a new base class called <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>. This class provides basic functionality for any kind of item that appears in a digital media library. Specifically, it declares a <code class="docutils literal notranslate"><span class="pre">name</span></code> property of type <code class="docutils literal notranslate"><span class="pre">String</span></code>, and an <code class="docutils literal notranslate"><span class="pre">init</span> <span class="pre">name</span></code> initializer. (It is assumed that all media items, including all movies and songs, will have a name.)<br><span class="jpstr">
最初の断片は、<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>と呼ばれる新しい基盤クラスを定義します。このクラスは、基本の機能性をデジタル・メディア図書館に現れるあらゆる種類の項目のために用意します。特に、それは型<code class="docutils literal notranslate"><span class="pre">String</span></code>の<code class="docutils literal notranslate"><span class="pre">name</span></code>プロパティ、そして<code class="docutils literal notranslate"><span class="pre">init</span> <span class="pre">name</span></code>イニシャライザを宣言します。（全ての映画と歌を含む、全てのメディア項目が名前を持つと仮定されます）。
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">class</span> <span class="nv">MediaItem</span> {
</li><li>    <span class="k">var</span> <span class="nv">name</span>: <span class="nc">String</span>
</li><li>    <span class="k">init</span>(<span class="nv">name</span>: <span class="nc">String</span>) {
</li><li>        <span class="k">self</span>.<span class="nv">name</span> = <span class="nv">name</span>
</li><li>    }
</li><li>}
</li></ol></div></div></div>
<p>The next snippet defines two subclasses of <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>. The first subclass, <code class="docutils literal notranslate"><span class="pre">Movie</span></code>, encapsulates additional information about a movie or film. It adds a <code class="docutils literal notranslate"><span class="pre">director</span></code> property on top of the base <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code> class, with a corresponding initializer. The second subclass, <code class="docutils literal notranslate"><span class="pre">Song</span></code>, adds an <code class="docutils literal notranslate"><span class="pre">artist</span></code> property and initializer on top of the base class:<br><span class="jpstr">
次の断片は、<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>の２つのサブクラスを定義します。最初のサブクラス<code class="docutils literal notranslate"><span class="pre">Movie</span></code>は、映画またはフィルムに関する追加の情報をカプセル化します。それは、対応するイニシャライザを使って、基盤クラス<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>の上に<code class="docutils literal notranslate"><span class="pre">director</span></code>プロパティを加えます。第二のサブクラス<code class="docutils literal notranslate"><span class="pre">Song</span></code>は、基盤クラスの上に<code class="docutils literal notranslate"><span class="pre">artist</span></code>プロパティとイニシャライザを加えます：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">class</span> <span class="nv">Movie</span>: <span class="nc">MediaItem</span> {
</li><li>    <span class="k">var</span> <span class="nv">director</span>: <span class="nc">String</span>
</li><li>    <span class="k">init</span>(<span class="nv">name</span>: <span class="nc">String</span>, <span class="nv">director</span>: <span class="nc">String</span>) {
</li><li>        <span class="k">self</span>.<span class="nv">director</span> = <span class="nv">director</span>
</li><li>        <span class="k">super</span>.<span class="nv">init</span>(<span class="nv">name</span>: <span class="nv">name</span>)
</li><li>    }
</li><li>}
</li><li>
</li><li><span class="k">class</span> <span class="nv">Song</span>: <span class="nc">MediaItem</span> {
</li><li>    <span class="k">var</span> <span class="nv">artist</span>: <span class="nc">String</span>
</li><li>    <span class="k">init</span>(<span class="nv">name</span>: <span class="nc">String</span>, <span class="nv">artist</span>: <span class="nc">String</span>) {
</li><li>        <span class="k">self</span>.<span class="nv">artist</span> = <span class="nv">artist</span>
</li><li>        <span class="k">super</span>.<span class="nv">init</span>(<span class="nv">name</span>: <span class="nv">name</span>)
</li><li>    }
</li><li>}
</li></ol></div></div></div>
<p>The final snippet creates a constant array called <code class="docutils literal notranslate"><span class="pre">library</span></code>, which contains two <code class="docutils literal notranslate"><span class="pre">Movie</span></code> instances and three <code class="docutils literal notranslate"><span class="pre">Song</span></code> instances. The type of the <code class="docutils literal notranslate"><span class="pre">library</span></code> array is inferred by initializing it with the contents of an array literal. Swift’s type checker is able to deduce that <code class="docutils literal notranslate"><span class="pre">Movie</span></code> and <code class="docutils literal notranslate"><span class="pre">Song</span></code> have a common superclass of <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>, and so it infers a type of <code class="docutils literal notranslate"><span class="pre">[MediaItem]</span></code> for the <code class="docutils literal notranslate"><span class="pre">library</span></code> array:<br><span class="jpstr">
最終的な断片は<code class="docutils literal notranslate"><span class="pre">library</span></code>と呼ばれる定数の配列をつくります、それは、２つの<code class="docutils literal notranslate"><span class="pre">Movie</span></code>インスタンスと３つの<code class="docutils literal notranslate"><span class="pre">Song</span></code>インスタンスを含みます。<code class="docutils literal notranslate"><span class="pre">library</span></code>配列の型は、ある配列リテラルの内容でそれを初期化することから推論されます。スウィフトの型チェッカーは<code class="docutils literal notranslate"><span class="pre">Movie</span></code>と<code class="docutils literal notranslate"><span class="pre">Song</span></code>が共通のスーパークラス<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>を持つと推論することができます、なのでそれは<code class="docutils literal notranslate"><span class="pre">library</span></code>配列に対して<code class="docutils literal notranslate"><span class="pre">[MediaItem]</span></code>型を推論します：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">let</span> <span class="nv">library</span> = [
</li><li>    <span class="nv">Movie</span>(<span class="nv">name</span>: <span class="s">&quot;Casablanca&quot;</span>, <span class="nv">director</span>: <span class="s">&quot;Michael Curtiz&quot;</span>),
</li><li>    <span class="nv">Song</span>(<span class="nv">name</span>: <span class="s">&quot;Blue Suede Shoes&quot;</span>, <span class="nv">artist</span>: <span class="s">&quot;Elvis Presley&quot;</span>),
</li><li>    <span class="nv">Movie</span>(<span class="nv">name</span>: <span class="s">&quot;Citizen Kane&quot;</span>, <span class="nv">director</span>: <span class="s">&quot;Orson Welles&quot;</span>),
</li><li>    <span class="nv">Song</span>(<span class="nv">name</span>: <span class="s">&quot;The One And Only&quot;</span>, <span class="nv">artist</span>: <span class="s">&quot;Chesney Hawkes&quot;</span>),
</li><li>    <span class="nv">Song</span>(<span class="nv">name</span>: <span class="s">&quot;Never Gonna Give You Up&quot;</span>, <span class="nv">artist</span>: <span class="s">&quot;Rick Astley&quot;</span>)
</li><li>]
</li><li><span class="c">// the type of &quot;library&quot; is inferred to be [MediaItem]&nbsp;<span class="jpstr">（「library」の型は、[MediaItem]であると推測されます）</span><!--end_jpstr-->
</span>
</li></ol></div></div></div>
<p>The items stored in <code class="docutils literal notranslate"><span class="pre">library</span></code> are still <code class="docutils literal notranslate"><span class="pre">Movie</span></code> and <code class="docutils literal notranslate"><span class="pre">Song</span></code> instances behind the scenes. However, if you iterate over the contents of this array, the items you receive back are typed as <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>, and not as <code class="docutils literal notranslate"><span class="pre">Movie</span></code> or <code class="docutils literal notranslate"><span class="pre">Song</span></code>. In order to work with them as their native type, you need to <em>check</em> their type, or <em>downcast</em> them to a different type, as described below.<br><span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">library</span></code>に格納される項目は、依然として舞台裏では<code class="docutils literal notranslate"><span class="pre">Movie</span></code>と<code class="docutils literal notranslate"><span class="pre">Song</span></code>インスタンスです。しかし、あなたがこの配列の内容上に繰り返すならば、あなたがそこから取り出す項目は、<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>型としてであって、<code class="docutils literal notranslate"><span class="pre">Movie</span></code>または<code class="docutils literal notranslate"><span class="pre">Song</span></code>ではありません。それらをそれらの生来の型として取り扱うために、下で述べるように、あなたはそれらの型を<em>調べる</em>こと、またはそれらを異なる型へ<em>ダウンキャスト</em>することが必要です。
</span><!--end_jpstr-->
</p>
</div>
<div class="section" id="ID340">
<h2>Checking Type<a class="headerlink" href="#ID340" title="Permalink to this headline">¶</a><br><span class="jpstr">
型を調べる<a class="headerlink" href="#ID340" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->
</h2>
<p>Use the <em>type check operator</em> (<code class="docutils literal notranslate"><span class="pre">is</span></code>) to check whether an instance is of a certain subclass type. The type check operator returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the instance is of that subclass type and <code class="docutils literal notranslate"><span class="pre">false</span></code> if it is not.<br><span class="jpstr">
<em>型確認演算子</em>（<code class="docutils literal notranslate"><span class="pre">is</span></code>）を使用して、あるインスタンスが特定のサブクラス型であるかどうか調べてください。型確認演算子はそのインスタンスがそのサブクラス型ならば<code class="docutils literal notranslate"><span class="pre">true</span></code>を、それがそうでないならば<code class="docutils literal notranslate"><span class="pre">false</span></code>を返します。
</span><!--end_jpstr-->
</p>
<p>The example below defines two variables, <code class="docutils literal notranslate"><span class="pre">movieCount</span></code> and <code class="docutils literal notranslate"><span class="pre">songCount</span></code>, which count the number of <code class="docutils literal notranslate"><span class="pre">Movie</span></code> and <code class="docutils literal notranslate"><span class="pre">Song</span></code> instances in the <code class="docutils literal notranslate"><span class="pre">library</span></code> array:<br><span class="jpstr">
下の例は２つの変数、<code class="docutils literal notranslate"><span class="pre">movieCount</span></code>と<code class="docutils literal notranslate"><span class="pre">songCountを</span></code>定義します、それは、<code class="docutils literal notranslate"><span class="pre">Movie</span></code>と<code class="docutils literal notranslate"><span class="pre">Song</span></code>インスタンスの数を<code class="docutils literal notranslate"><span class="pre">library</span></code>配列において数えます：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">var</span> <span class="nv">movieCount</span> = <span class="m">0</span>
</li><li><span class="k">var</span> <span class="nv">songCount</span> = <span class="m">0</span>
</li><li>
</li><li><span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">library</span> {
</li><li>    <span class="k">if</span> <span class="nv">item</span> <span class="k">is</span> <span class="nc">Movie</span> {
</li><li>        <span class="nv">movieCount</span> += <span class="m">1</span>
</li><li>    } <span class="k">else</span> <span class="k">if</span> <span class="nv">item</span> <span class="k">is</span> <span class="nc">Song</span> {
</li><li>        <span class="nv">songCount</span> += <span class="m">1</span>
</li><li>    }
</li><li>}
</li><li>
</li><li><span class="nv">print</span>(<span class="s">&quot;Media library contains </span>\<span class="p">(</span><span class="nv">movieCount</span><span class="p">)</span><span class="s"> movies and </span>\<span class="p">(</span><span class="nv">songCount</span><span class="p">)</span><span class="s"> songs&quot;</span>)
</li><li><span class="c">// Prints &quot;Media library contains 2 movies and 3 songs&quot;&nbsp;<span class="jpstr">（「情報媒体書庫は、２つの映画と３つの歌を含みます」を出力します）</span><!--end_jpstr-->
</span>
</li></ol></div></div></div>
<p>This example iterates through all items in the <code class="docutils literal notranslate"><span class="pre">library</span></code> array. On each pass, the <code class="docutils literal notranslate"><span class="pre">for</span></code>-<code class="docutils literal notranslate"><span class="pre">in</span></code> loop sets the <code class="docutils literal notranslate"><span class="pre">item</span></code> constant to the next <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code> in the array.<br><span class="jpstr">
この例は、<code class="docutils literal notranslate"><span class="pre">library</span></code>配列の中の全ての項目の端が端まで繰り返します。各段階で、この<code class="docutils literal notranslate"><span class="pre">for</span></code>-<code class="docutils literal notranslate"><span class="pre">in</span></code>ループは<code class="docutils literal notranslate"><span class="pre">item</span></code>定数を次の<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>に設定します。
</span><!--end_jpstr-->
</p>
<p><code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">is</span> <span class="pre">Movie</span></code> returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the current <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code> is a <code class="docutils literal notranslate"><span class="pre">Movie</span></code> instance and <code class="docutils literal notranslate"><span class="pre">false</span></code> if it is not. Similarly, <code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">is</span> <span class="pre">Song</span></code> checks whether the item is a <code class="docutils literal notranslate"><span class="pre">Song</span></code> instance. At the end of the <code class="docutils literal notranslate"><span class="pre">for</span></code>-<code class="docutils literal notranslate"><span class="pre">in</span></code> loop, the values of <code class="docutils literal notranslate"><span class="pre">movieCount</span></code> and <code class="docutils literal notranslate"><span class="pre">songCount</span></code> contain a count of how many <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code> instances were found of each type.<br><span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">is</span> <span class="pre">Movie</span></code>は、現在の<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>が<code class="docutils literal notranslate"><span class="pre">Movie</span></code>インスタンスであるならば<code class="docutils literal notranslate"><span class="pre">true</span></code>を、そうでないならば<code class="docutils literal notranslate"><span class="pre">false</span></code>を返します。同じように、<code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">is</span> <span class="pre">Song</span></code>はその項目が<code class="docutils literal notranslate"><span class="pre">Song</span></code>インスタンスであるか調べます。<code class="docutils literal notranslate"><span class="pre">for</span></code>-<code class="docutils literal notranslate"><span class="pre">in</span></code>ループの終わりに、<code class="docutils literal notranslate"><span class="pre">movieCount</span></code>と<code class="docutils literal notranslate"><span class="pre">songCount</span></code>の値は、各型の<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>インスタンスがどれくらい見つけられたかの総数を含みます。
</span><!--end_jpstr-->
</p>
</div>
<div class="section" id="ID341">
<h2>Downcasting<a class="headerlink" href="#ID341" title="Permalink to this headline">¶</a><br><span class="jpstr">
ダウンキャスト<a class="headerlink" href="#ID341" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->
</h2>
<p>A constant or variable of a certain class type may actually refer to an instance of a subclass behind the scenes. Where you believe this is the case, you can try to <em>downcast</em> to the subclass type with a <em>type cast operator</em> (<code class="docutils literal notranslate"><span class="pre">as?</span></code> or <code class="docutils literal notranslate"><span class="pre">as!</span></code>).<br><span class="jpstr">
特定のクラス型の定数または変数は、舞台裏で実際にはあるサブクラスのインスタンスを参照するかもしれません。あなたがこの場合であると思う所で、あなたはサブクラス型への<em>ダウンキャスト</em>を試みることが<em>型キャスト演算子</em>（<code class="docutils literal notranslate"><span class="pre">as?</span></code>または<code class="docutils literal notranslate"><span class="pre">as!</span></code>）を使ってできます。
</span><!--end_jpstr-->
</p>
<p>Because downcasting can fail, the type cast operator comes in two different forms. The conditional form, <code class="docutils literal notranslate"><span class="pre">as?</span></code>, returns an optional value of the type you are trying to downcast to. The forced form, <code class="docutils literal notranslate"><span class="pre">as!</span></code>, attempts the downcast and force-unwraps the result as a single compound action.<br><span class="jpstr">
ダウンキャストは失敗することがありえるので、型キャスト演算子は２つの異なる書式になります。条件（仮定）形式<code class="docutils literal notranslate"><span class="pre">as?</span></code>は、あなたがダウンキャストしようとしている型のオプショナルの値を返します。強制形式<code class="docutils literal notranslate"><span class="pre">as!</span></code>は、一回の複合動作として、ダウンキャストとその結果の強制アンラップを試みます。
</span><!--end_jpstr-->
</p>
<p>Use the conditional form of the type cast operator (<code class="docutils literal notranslate"><span class="pre">as?</span></code>) when you are not sure if the downcast will succeed. This form of the operator will always return an optional value, and the value will be <code class="docutils literal notranslate"><span class="pre">nil</span></code> if the downcast was not possible. This enables you to check for a successful downcast.<br><span class="jpstr">
あなたがダウンキャストが成功するかどうかよくわからない場合には、条件形式の型キャスト演算子（<code class="docutils literal notranslate"><span class="pre">as?</span></code>）を使ってください。演算子のこの形式は、常にオプショナルの値を返します、そしてダウンキャストが可能でなかったならばその値は<code class="docutils literal notranslate"><span class="pre">nil</span></code>です。これは、あなたに成功したダウンキャストについて調べるのを可能にします。
</span><!--end_jpstr-->
</p>
<p>Use the forced form of the type cast operator (<code class="docutils literal notranslate"><span class="pre">as!</span></code>) only when you are sure that the downcast will always succeed. This form of the operator will trigger a runtime error if you try to downcast to an incorrect class type.<br><span class="jpstr">
あなたがダウンキャストが常に成功すると確信する場合には、強制形式の型キャスト演算子（<code class="docutils literal notranslate"><span class="pre">as!</span></code>）を使います。演算子のこの形式は、あなたが適切でないクラス型へのダウンキャストをためすならば、実行時エラーを引き起こします。
</span><!--end_jpstr-->
</p>
<p>The example below iterates over each <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code> in <code class="docutils literal notranslate"><span class="pre">library</span></code>, and prints an appropriate description for each item. To do this, it needs to access each item as a true <code class="docutils literal notranslate"><span class="pre">Movie</span></code> or <code class="docutils literal notranslate"><span class="pre">Song</span></code>, and not just as a <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>. This is necessary in order for it to be able to access the <code class="docutils literal notranslate"><span class="pre">director</span></code> or <code class="docutils literal notranslate"><span class="pre">artist</span></code> property of a <code class="docutils literal notranslate"><span class="pre">Movie</span></code> or <code class="docutils literal notranslate"><span class="pre">Song</span></code> for use in the description.<br><span class="jpstr">
下の例は、上に<code class="docutils literal notranslate"><span class="pre">library</span></code>の中の各々の<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>すべてに繰り返して、各項目の適切な説明を出力します。これをするために、それは、ただ<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>としてではなく、本当の<code class="docutils literal notranslate"><span class="pre">Movie</span></code>または<code class="docutils literal notranslate"><span class="pre">Song</span></code>として各項目にアクセスする必要があります。これは、それがその説明で使う目的で<code class="docutils literal notranslate"><span class="pre">Movie</span></code>または<code class="docutils literal notranslate"><span class="pre">Song</span></code>のもつ<code class="docutils literal notranslate"><span class="pre">director</span></code>または<code class="docutils literal notranslate"><span class="pre">artist</span></code>プロパティにアクセス可能になるために必要です。
</span><!--end_jpstr-->
</p>
<p>In this example, each item in the array might be a <code class="docutils literal notranslate"><span class="pre">Movie</span></code>, or it might be a <code class="docutils literal notranslate"><span class="pre">Song</span></code>. You don’t know in advance which actual class to use for each item, and so it is appropriate to use the conditional form of the type cast operator (<code class="docutils literal notranslate"><span class="pre">as?</span></code>) to check the downcast each time through the loop:<br><span class="jpstr">
この例では、配列の各項目は<code class="docutils literal notranslate"><span class="pre">Movie</span></code>であるかもしれませんし、それは<code class="docutils literal notranslate"><span class="pre">Song</span></code>であるかもしれません。あなたは、前もって、各項目のために使われる実際のクラスがどれかを知りません、なので適切なのは、型キャスト演算子の条件形式（<code class="docutils literal notranslate"><span class="pre">as?</span></code>）を使用してループを通して毎回ダウンキャストを確認することです：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">library</span> {
</li><li>    <span class="k">if</span> <span class="k">let</span> <span class="nv">movie</span> = <span class="nv">item</span> <span class="k">as</span>? <span class="nc">Movie</span> {
</li><li>        <span class="nv">print</span>(<span class="s">&quot;Movie: </span>\<span class="p">(</span><span class="nv">movie</span>.<span class="nv">name</span><span class="p">)</span><span class="s">, dir. </span>\<span class="p">(</span><span class="nv">movie</span>.<span class="nv">director</span><span class="p">)</span><span class="s">&quot;</span>)
</li><li>    } <span class="k">else</span> <span class="k">if</span> <span class="k">let</span> <span class="nv">song</span> = <span class="nv">item</span> <span class="k">as</span>? <span class="nc">Song</span> {
</li><li>        <span class="nv">print</span>(<span class="s">&quot;Song: </span>\<span class="p">(</span><span class="nv">song</span>.<span class="nv">name</span><span class="p">)</span><span class="s">, by </span>\<span class="p">(</span><span class="nv">song</span>.<span class="nv">artist</span><span class="p">)</span><span class="s">&quot;</span>)
</li><li>    }
</li><li>}
</li><li>
</li><li><span class="c">// Movie: Casablanca, dir. Michael Curtiz&nbsp;<span class="jpstr">（映画：『カサブランカ』（監）マイケル・カーティス）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// Song: Blue Suede Shoes, by Elvis Presley&nbsp;<span class="jpstr">（歌：『青い裏革靴』、エルヴィス・プレスリー）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// Movie: Citizen Kane, dir. Orson Welles&nbsp;<span class="jpstr">（映画：『市民ケーン』（監）オーソン・ウェルズ）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// Song: The One And Only, by Chesney Hawkes&nbsp;<span class="jpstr">（歌：『唯一無二の』、チェズニー・ホークス）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// Song: Never Gonna Give You Up, by Rick Astley&nbsp;<span class="jpstr">（歌：『諦めないで』、リック・アストリー）</span><!--end_jpstr-->
</span>
</li></ol></div></div></div>
<p>The example starts by trying to downcast the current <code class="docutils literal notranslate"><span class="pre">item</span></code> as a <code class="docutils literal notranslate"><span class="pre">Movie</span></code>. Because <code class="docutils literal notranslate"><span class="pre">item</span></code> is a <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code> instance, it’s possible that it <em>might</em> be a <code class="docutils literal notranslate"><span class="pre">Movie</span></code>; equally, it’s also possible that it might be a <code class="docutils literal notranslate"><span class="pre">Song</span></code>, or even just a base <code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>. Because of this uncertainty, the <code class="docutils literal notranslate"><span class="pre">as?</span></code> form of the type cast operator returns an <em>optional</em> value when attempting to downcast to a subclass type. The result of <code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">as?</span> <span class="pre">Movie</span></code> is of type <code class="docutils literal notranslate"><span class="pre">Movie?</span></code>, or “optional <code class="docutils literal notranslate"><span class="pre">Movie</span></code>”.<br><span class="jpstr">
例は、現在の<code class="docutils literal notranslate"><span class="pre">item</span></code>を<code class="docutils literal notranslate"><span class="pre">Movie</span></code>としてダウンキャストすることを試みることによって始まります。<code class="docutils literal notranslate"><span class="pre">item</span></code>が<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>インスタンスであるので、それが<code class="docutils literal notranslate"><span class="pre">Movie</span></code>である<em>かもしれない</em>可能性があります；等しく、それが<code class="docutils literal notranslate"><span class="pre">Song</span></code>かもしれない可能性もまたあります、または単に基盤<code class="docutils literal notranslate"><span class="pre">MediaItem</span></code>であることさえも。この不確実性のために、サブクラス型へのダウンキャストを試みるとき、型キャスト演算子の<code class="docutils literal notranslate"><span class="pre">as?</span></code>形式は<em>オプショナル</em>の値を返します。<code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">as?</span> <span class="pre">Movie</span></code>の結果は、<code class="docutils literal notranslate"><span class="pre">Movie?</span></code>型、すなわち「オプショナルの<code class="docutils literal notranslate"><span class="pre">Movie</span></code>」です。
</span><!--end_jpstr-->
</p>
<p>Downcasting to <code class="docutils literal notranslate"><span class="pre">Movie</span></code> fails when applied to the <code class="docutils literal notranslate"><span class="pre">Song</span></code> instances in the library array. To cope with this, the example above uses optional binding to check whether the optional <code class="docutils literal notranslate"><span class="pre">Movie</span></code> actually contains a value (that is, to find out whether the downcast succeeded.) This optional binding is written “<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">let</span> <span class="pre">movie</span> <span class="pre">=</span> <span class="pre">item</span> <span class="pre">as?</span> <span class="pre">Movie</span></code>”, which can be read as:<br><span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">Movie</span></code>にダウンキャストすることは、library配列の<code class="docutils literal notranslate"><span class="pre">Song</span></code>インスタンスに適用されるとき失敗します。これに対処するために、上の例は、オプショナル束縛を使って、オプショナルの<code class="docutils literal notranslate"><span class="pre">Movie</span></code>が実際に値を含むかどうか調べます（すなわち、ダウンキャストが成功したかどうか探り出します）。このオプショナル束縛は「<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">let</span> <span class="pre">movie</span> <span class="pre">=</span> <span class="pre">item</span> <span class="pre">as?</span> <span class="pre">Movie</span></code>」のように書かれます、それは、次のように解釈されることができます：
</span><!--end_jpstr-->
</p>
<p>“Try to access <code class="docutils literal notranslate"><span class="pre">item</span></code> as a <code class="docutils literal notranslate"><span class="pre">Movie</span></code>. If this is successful, set a new temporary constant called <code class="docutils literal notranslate"><span class="pre">movie</span></code> to the value stored in the returned optional <code class="docutils literal notranslate"><span class="pre">Movie</span></code>.”<br><span class="jpstr">
「<code class="docutils literal notranslate"><span class="pre">item</span></code>に<code class="docutils literal notranslate"><span class="pre">Movie</span></code>としてアクセスを試みてください。これが成功するならば、<code class="docutils literal notranslate"><span class="pre">movie</span></code>と呼ばれる新しい一時的な定数を、返されたオプショナルの<code class="docutils literal notranslate"><span class="pre">Movie</span></code>に格納される値に設定してください。」
</span><!--end_jpstr-->
</p>
<p>If the downcasting succeeds, the properties of <code class="docutils literal notranslate"><span class="pre">movie</span></code> are then used to print a description for that <code class="docutils literal notranslate"><span class="pre">Movie</span></code> instance, including the name of its <code class="docutils literal notranslate"><span class="pre">director</span></code>. A similar principle is used to check for <code class="docutils literal notranslate"><span class="pre">Song</span></code> instances, and to print an appropriate description (including <code class="docutils literal notranslate"><span class="pre">artist</span></code> name) whenever a <code class="docutils literal notranslate"><span class="pre">Song</span></code> is found in the library.<br><span class="jpstr">
ダウンキャストが成功するならば、<code class="docutils literal notranslate"><span class="pre">movie</span></code>のプロパティがそれから使用されて、その<code class="docutils literal notranslate"><span class="pre">Movie</span></code>インスタンスの、それの<code class="docutils literal notranslate"><span class="pre">director</span></code>（監督）の名前を含む説明を出力することになります。類似した原則が使用されて、<code class="docutils literal notranslate"><span class="pre">Song</span></code>インスタンスか確認して、そして<code class="docutils literal notranslate"><span class="pre">Song</span></code>がlibraryで見つけられるときはいつでも、適切な説明（<code class="docutils literal notranslate"><span class="pre">artist</span></code>名を含む）を出力します。
</span><!--end_jpstr-->
</p>
<div class="admonition note">
<p class="first admonition-title">Note<br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
<p class="last">Casting does not actually modify the instance or change its values. The underlying instance remains the same; it is simply treated and accessed as an instance of the type to which it has been cast.<br><span class="jpstr">
キャストは、実際にインスタンスを修正したり、その値を変えたりしません。根底にあるインスタンスは、同じもののままです；それは単に、それがキャストされた型のインスタンスとして扱われ、アクセスされます。
</span><!--end_jpstr-->
</p>
</div>
</div>
<div class="section" id="ID342">
<h2>Type Casting for Any and AnyObject<a class="headerlink" href="#ID342" title="Permalink to this headline">¶</a><br><span class="jpstr">
AnyおよびAnyObjectに対する型キャスト<a class="headerlink" href="#ID342" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->
</h2>
<p>Swift provides two special types for working with nonspecific types:<br><span class="jpstr">
スウィフトは、２つの特別な型を「不特定」の型を扱うために提供します：
</span><!--end_jpstr-->
</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Any</span></code> can represent an instance of any type at all, including function types.<br><span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">Any</span></code>は、関数型を含めて、ともかくどんな型のインスタンスでも表すことができます。
</span><!--end_jpstr-->
</li>
<li><code class="docutils literal notranslate"><span class="pre">AnyObject</span></code> can represent an instance of any class type.<br><span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">AnyObject</span></code>は、どんなクラス型のインスタンスでも表すことができます。
</span><!--end_jpstr-->
</li>
</ul>
<p>Use <code class="docutils literal notranslate"><span class="pre">Any</span></code> and <code class="docutils literal notranslate"><span class="pre">AnyObject</span></code> only when you explicitly need the behavior and capabilities they provide. It is always better to be specific about the types you expect to work with in your code.<br><span class="jpstr">
あなたが明白にそれらが提供する挙動と能力を必要とする時にだけ、<code class="docutils literal notranslate"><span class="pre">Any</span></code>と<code class="docutils literal notranslate"><span class="pre">AnyObject</span></code>を使ってください。いつでもより望ましいのは、あなたのコードで扱うことをあなたが期待する型について明確にすることです。
</span><!--end_jpstr-->
</p>
<p>Here’s an example of using <code class="docutils literal notranslate"><span class="pre">Any</span></code> to work with a mix of different types, including function types and nonclass types. The example creates an array called <code class="docutils literal notranslate"><span class="pre">things</span></code>, which can store values of type <code class="docutils literal notranslate"><span class="pre">Any</span></code>:<br><span class="jpstr">
関数型と非クラス型を含む、異なった型の混合を扱うために<code class="docutils literal notranslate"><span class="pre">Any</span></code>を使う例が、ここにあります。この例は<code class="docutils literal notranslate"><span class="pre">things</span></code>と呼ばれる配列をつくります、それは、<code class="docutils literal notranslate"><span class="pre">Any</span></code>型の値を格納することができます：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">var</span> <span class="nv">things</span> = [<span class="k">Any</span>]()
</li><li>
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="m">0</span>)
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="m">0.0</span>)
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="m">42</span>)
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="m">3.14159</span>)
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="s">&quot;hello&quot;</span>)
</li><li><span class="nv">things</span>.<span class="nv">append</span>((<span class="m">3.0</span>, <span class="m">5.0</span>))
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="nv">Movie</span>(<span class="nv">name</span>: <span class="s">&quot;Ghostbusters&quot;</span>, <span class="nv">director</span>: <span class="s">&quot;Ivan Reitman&quot;</span>))
</li><li><span class="nv">things</span>.<span class="nv">append</span>({ (<span class="nv">name</span>: <span class="nc">String</span>) -&gt; <span class="nc">String</span> <span class="k">in</span> <span class="s">&quot;Hello, </span>\<span class="p">(</span><span class="nv">name</span><span class="p">)</span><span class="s">&quot;</span> })
</li></ol></div></div></div>
<p>The <code class="docutils literal notranslate"><span class="pre">things</span></code> array contains two <code class="docutils literal notranslate"><span class="pre">Int</span></code> values, two <code class="docutils literal notranslate"><span class="pre">Double</span></code> values, a <code class="docutils literal notranslate"><span class="pre">String</span></code> value, a tuple of type <code class="docutils literal notranslate"><span class="pre">(Double,</span> <span class="pre">Double)</span></code>, the movie “Ghostbusters”, and a closure expression that takes a <code class="docutils literal notranslate"><span class="pre">String</span></code> value and returns another <code class="docutils literal notranslate"><span class="pre">String</span></code> value.<br><span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">things</span></code>配列は、２つの<code class="docutils literal notranslate"><span class="pre">Int</span></code>値、２つの<code class="docutils literal notranslate"><span class="pre">Double</span></code>値、１つの<code class="docutils literal notranslate"><span class="pre">String</span></code>値、型<code class="docutils literal notranslate"><span class="pre">(Double,</span> <span class="pre">Double)</span></code>のタプル、映画「ゴーストバスターズ」、そして<code class="docutils literal notranslate"><span class="pre">String</span></code>値をとって別の<code class="docutils literal notranslate"><span class="pre">String</span></code>値を返す一つのクロージャ式を含みます。
</span><!--end_jpstr-->
</p>
<p>To discover the specific type of a constant or variable that is known only to be of type <code class="docutils literal notranslate"><span class="pre">Any</span></code> or <code class="docutils literal notranslate"><span class="pre">AnyObject</span></code>, you can use an <code class="docutils literal notranslate"><span class="pre">is</span></code> or <code class="docutils literal notranslate"><span class="pre">as</span></code> pattern in a <code class="docutils literal notranslate"><span class="pre">switch</span></code> statement’s cases. The example below iterates over the items in the <code class="docutils literal notranslate"><span class="pre">things</span></code> array and queries the type of each item with a <code class="docutils literal notranslate"><span class="pre">switch</span></code> statement. Several of the <code class="docutils literal notranslate"><span class="pre">switch</span></code> statement’s cases bind their matched value to a constant of the specified type to enable its value to be printed:<br><span class="jpstr">
型<code class="docutils literal notranslate"><span class="pre">Any</span></code>または<code class="docutils literal notranslate"><span class="pre">AnyObject</span></code>のものであることだけが知られている定数や変数の具体的な型を見つけるために、あなたは<code class="docutils literal notranslate"><span class="pre">is</span></code>または<code class="docutils literal notranslate"><span class="pre">as</span></code>パターンを<code class="docutils literal notranslate"><span class="pre">switch</span></code>文のケース節の中で使うことができます。下の例は、<code class="docutils literal notranslate"><span class="pre">things</span></code>配列の中の項目のすべてに渡って繰り返して、<code class="docutils literal notranslate"><span class="pre">switch</span></code>文を使って各項目の型について問い合わせます。<code class="docutils literal notranslate"><span class="pre">switch</span></code>文のケース節のいくつかは、それらが適合した値を指定された型のある定数に結び付け、その値を出力できるようにします：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">for</span> <span class="nv">thing</span> <span class="k">in</span> <span class="nv">things</span> {
</li><li>    <span class="k">switch</span> <span class="nv">thing</span> {
</li><li>    <span class="k">case</span> <span class="m">0</span> <span class="k">as</span> <span class="nc">Int</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;zero as an Int&quot;</span>)
</li><li>    <span class="k">case</span> <span class="m">0</span> <span class="k">as</span> <span class="nc">Double</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;zero as a Double&quot;</span>)
</li><li>    <span class="k">case</span> <span class="k">let</span> <span class="nv">someInt</span> <span class="k">as</span> <span class="nc">Int</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;an integer value of </span>\<span class="p">(</span><span class="nv">someInt</span><span class="p">)</span><span class="s">&quot;</span>)
</li><li>    <span class="k">case</span> <span class="k">let</span> <span class="nv">someDouble</span> <span class="k">as</span> <span class="nc">Double</span> <span class="k">where</span> <span class="nv">someDouble</span> &gt; <span class="m">0</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;a positive double value of </span>\<span class="p">(</span><span class="nv">someDouble</span><span class="p">)</span><span class="s">&quot;</span>)
</li><li>    <span class="k">case</span> <span class="k">is</span> <span class="nc">Double</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;some other double value that I don&#39;t want to print&quot;</span>)
</li><li>    <span class="k">case</span> <span class="k">let</span> <span class="nv">someString</span> <span class="k">as</span> <span class="nc">String</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;a string value of \&quot;</span>\<span class="p">(</span><span class="nv">someString</span><span class="p">)</span><span class="s">\&quot;&quot;</span>)
</li><li>    <span class="k">case</span> <span class="k">let</span> (<span class="nv">x</span>, <span class="nv">y</span>) <span class="k">as</span> (<span class="nc">Double</span>, <span class="nc">Double</span>):
</li><li>        <span class="nv">print</span>(<span class="s">&quot;an (x, y) point at </span>\<span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="s">, </span>\<span class="p">(</span><span class="nv">y</span><span class="p">)</span><span class="s">&quot;</span>)
</li><li>    <span class="k">case</span> <span class="k">let</span> <span class="nv">movie</span> <span class="k">as</span> <span class="nc">Movie</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;a movie called </span>\<span class="p">(</span><span class="nv">movie</span>.<span class="nv">name</span><span class="p">)</span><span class="s">, dir. </span>\<span class="p">(</span><span class="nv">movie</span>.<span class="nv">director</span><span class="p">)</span><span class="s">&quot;</span>)
</li><li>    <span class="k">case</span> <span class="k">let</span> <span class="nv">stringConverter</span> <span class="k">as</span> (<span class="nc">String</span>) -&gt; <span class="nc">String</span>:
</li><li>        <span class="nv">print</span>(<span class="nv">stringConverter</span>(<span class="s">&quot;Michael&quot;</span>))
</li><li>    <span class="k">default</span>:
</li><li>        <span class="nv">print</span>(<span class="s">&quot;something else&quot;</span>)
</li><li>    }
</li><li>}
</li><li>
</li><li><span class="c">// zero as an Int&nbsp;<span class="jpstr">（整数のゼロ）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// zero as a Double&nbsp;<span class="jpstr">（浮動小数点のゼロ）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// an integer value of 42&nbsp;<span class="jpstr">（整数値の42）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// a positive double value of 3.14159&nbsp;<span class="jpstr">（正の浮動小数点の値の3.14159）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// a string value of &quot;hello&quot;&nbsp;<span class="jpstr">（文字列値の「よろしく」）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// an (x, y) point at 3.0, 5.0&nbsp;<span class="jpstr">（3.0、5.0の(x, y)座標点）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// a movie called Ghostbusters, dir. Ivan Reitman&nbsp;<span class="jpstr">（『ゴーストバスターズ』と呼ばれる映画、監督アイヴァン・ライトマン）</span><!--end_jpstr-->
</span>
</li><li><span class="c">// Hello, Michael&nbsp;<span class="jpstr">（こんにちは、マイケル）</span><!--end_jpstr-->
</span>
</li></ol></div></div></div>
<div class="admonition note">
<p class="first admonition-title">Note<br><span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Any</span></code> type represents values of any type, including optional types. Swift gives you a warning if you use an optional value where a value of type <code class="docutils literal notranslate"><span class="pre">Any</span></code> is expected. If you really do need to use an optional value as an <code class="docutils literal notranslate"><span class="pre">Any</span></code> value, you can use the <code class="docutils literal notranslate"><span class="pre">as</span></code> operator to explicitly cast the optional to <code class="docutils literal notranslate"><span class="pre">Any</span></code>, as shown below.<br><span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">Any</span></code>型は、オプショナル型を含む、何らかの型の値を表します。スウィフトは、あなたがオプショナル値を型<code class="docutils literal notranslate"><span class="pre">Any</span></code>が期待されるところで使うならば警告を与えます。あなたが本当にオプショナル値を<code class="docutils literal notranslate"><span class="pre">Any</span></code>値として使う必要があるならば、あなたは<code class="docutils literal notranslate"><span class="pre">as</span></code>演算子を使って明示的にオプショナルを<code class="docutils literal notranslate"><span class="pre">Any</span></code>へキャストすることが、以下で示すように行えます。
</span><!--end_jpstr-->
</p>
<div class="last highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines"><li><span class="k">let</span> <span class="nv">optionalNumber</span>: <span class="nc">Int</span>? = <span class="m">3</span>
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="nv">optionalNumber</span>)        <span class="c">// Warning&nbsp;<span class="jpstr"><span class="c">（警告）</span></span><!--end_jpstr--></span>
</li><li><span class="nv">things</span>.<span class="nv">append</span>(<span class="nv">optionalNumber</span> <span class="k">as</span> <span class="k">Any</span>) <span class="c">// No warning&nbsp;<span class="jpstr"><span class="c">（警告なし）</span></span><!--end_jpstr--></span>
</li></ol></div></div></div>
</div>
</div>
</div>


    </article>
    <div class="next_previous">
        <p class="previous"><a href="ErrorHandling.html">Error Handling<br><span class="jpstr">
エラーの処理
</span><!--end_jpstr-->
</a></p>
        <p class="next"><a href="NestedTypes.html">Nested Types<br><span class="jpstr">
入れ子にされた型
</span><!--end_jpstr-->
</a></p>
    </div>

    <div class="admonition-beta admonition">
        <p class="first admonition-title">Beta Software</p>
        <p>
          This documentation contains preliminary information about an API or technology in development.
          This information is subject to change, and software implemented according to this documentation should be tested with final operating system software.
        <br><span class="jpstr">
この文書は、開発でのテクノロジーまたはAPIのための事前の情報を含んでいます。
          この情報は変更される場合があり、この文書に沿って実装されるソフトウェアは最終的なオペレーティングシステム・ソフトウェアでテストされなければなりません。
</span><!--end_jpstr-->
</p>
        <p class="last"><a class="reference external" href="https://developer.apple.com/support/beta-software/">Learn more about using Apple's beta software</a></p>
    </div>
</main>


<footer role="contentinfo">
  <aside>
    <a href="//swift.org/atom.xml" title="Subscribe to Site Updates"><i class="feed">Subscribe</i></a>
    <a href="https://twitter.com/swiftlang" rel="nofollow" title="Follow @SwiftLang on Twitter"><i class="twitter">Twitter</i></a>
  </aside>

  <p class="copyright">Copyright &copy; 2018 Apple Inc. All rights reserved.</p>
  <p class="trademark">Swift and the Swift logo are trademarks of Apple Inc.</p>
  <p class="privacy">
    <a href="//www.apple.com/privacy/privacy-policy/">Privacy Policy</a>
    <a href="//www.apple.com/legal/privacy/en-ww/cookies/">Cookies</a>
  </p>
</footer>
<div id="jump_to_overlay"></div>
<script src="../static/javascripts/application.js"></script>
  </body>
</html>
